(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function d_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xh={exports:{}},aa={},Nh={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function p_(){if(Em)return Pe;Em=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function R(b){return b===null||typeof b!="object"?null:(b=T&&b[T]||b["@@iterator"],typeof b=="function"?b:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,F={};function N(b,G,de){this.props=b,this.context=G,this.refs=F,this.updater=de||O}N.prototype.isReactComponent={},N.prototype.setState=function(b,G){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,G,"setState")},N.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function q(){}q.prototype=N.prototype;function K(b,G,de){this.props=b,this.context=G,this.refs=F,this.updater=de||O}var ee=K.prototype=new q;ee.constructor=K,k(ee,N.prototype),ee.isPureReactComponent=!0;var le=Array.isArray,ge=Object.prototype.hasOwnProperty,Ee={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(b,G,de){var Ce,Ae={},De=null,be=null;if(G!=null)for(Ce in G.ref!==void 0&&(be=G.ref),G.key!==void 0&&(De=""+G.key),G)ge.call(G,Ce)&&!P.hasOwnProperty(Ce)&&(Ae[Ce]=G[Ce]);var Ue=arguments.length-2;if(Ue===1)Ae.children=de;else if(1<Ue){for(var qe=Array(Ue),wt=0;wt<Ue;wt++)qe[wt]=arguments[wt+2];Ae.children=qe}if(b&&b.defaultProps)for(Ce in Ue=b.defaultProps,Ue)Ae[Ce]===void 0&&(Ae[Ce]=Ue[Ce]);return{$$typeof:r,type:b,key:De,ref:be,props:Ae,_owner:Ee.current}}function C(b,G){return{$$typeof:r,type:b.type,key:G,ref:b.ref,props:b.props,_owner:b._owner}}function x(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function L(b){var G={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(de){return G[de]})}var M=/\/+/g;function A(b,G){return typeof b=="object"&&b!==null&&b.key!=null?L(""+b.key):G.toString(36)}function Ge(b,G,de,Ce,Ae){var De=typeof b;(De==="undefined"||De==="boolean")&&(b=null);var be=!1;if(b===null)be=!0;else switch(De){case"string":case"number":be=!0;break;case"object":switch(b.$$typeof){case r:case e:be=!0}}if(be)return be=b,Ae=Ae(be),b=Ce===""?"."+A(be,0):Ce,le(Ae)?(de="",b!=null&&(de=b.replace(M,"$&/")+"/"),Ge(Ae,G,de,"",function(wt){return wt})):Ae!=null&&(x(Ae)&&(Ae=C(Ae,de+(!Ae.key||be&&be.key===Ae.key?"":(""+Ae.key).replace(M,"$&/")+"/")+b)),G.push(Ae)),1;if(be=0,Ce=Ce===""?".":Ce+":",le(b))for(var Ue=0;Ue<b.length;Ue++){De=b[Ue];var qe=Ce+A(De,Ue);be+=Ge(De,G,de,qe,Ae)}else if(qe=R(b),typeof qe=="function")for(b=qe.call(b),Ue=0;!(De=b.next()).done;)De=De.value,qe=Ce+A(De,Ue++),be+=Ge(De,G,de,qe,Ae);else if(De==="object")throw G=String(b),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return be}function ht(b,G,de){if(b==null)return b;var Ce=[],Ae=0;return Ge(b,Ce,"","",function(De){return G.call(de,De,Ae++)}),Ce}function Et(b){if(b._status===-1){var G=b._result;G=G(),G.then(function(de){(b._status===0||b._status===-1)&&(b._status=1,b._result=de)},function(de){(b._status===0||b._status===-1)&&(b._status=2,b._result=de)}),b._status===-1&&(b._status=0,b._result=G)}if(b._status===1)return b._result.default;throw b._result}var Be={current:null},ie={transition:null},me={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Ee};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:ht,forEach:function(b,G,de){ht(b,function(){G.apply(this,arguments)},de)},count:function(b){var G=0;return ht(b,function(){G++}),G},toArray:function(b){return ht(b,function(G){return G})||[]},only:function(b){if(!x(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Pe.Component=N,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=K,Pe.StrictMode=s,Pe.Suspense=g,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Pe.act=oe,Pe.cloneElement=function(b,G,de){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Ce=k({},b.props),Ae=b.key,De=b.ref,be=b._owner;if(G!=null){if(G.ref!==void 0&&(De=G.ref,be=Ee.current),G.key!==void 0&&(Ae=""+G.key),b.type&&b.type.defaultProps)var Ue=b.type.defaultProps;for(qe in G)ge.call(G,qe)&&!P.hasOwnProperty(qe)&&(Ce[qe]=G[qe]===void 0&&Ue!==void 0?Ue[qe]:G[qe])}var qe=arguments.length-2;if(qe===1)Ce.children=de;else if(1<qe){Ue=Array(qe);for(var wt=0;wt<qe;wt++)Ue[wt]=arguments[wt+2];Ce.children=Ue}return{$$typeof:r,type:b.type,key:Ae,ref:De,props:Ce,_owner:be}},Pe.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},Pe.createElement=S,Pe.createFactory=function(b){var G=S.bind(null,b);return G.type=b,G},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(b){return{$$typeof:d,render:b}},Pe.isValidElement=x,Pe.lazy=function(b){return{$$typeof:E,_payload:{_status:-1,_result:b},_init:Et}},Pe.memo=function(b,G){return{$$typeof:y,type:b,compare:G===void 0?null:G}},Pe.startTransition=function(b){var G=ie.transition;ie.transition={};try{b()}finally{ie.transition=G}},Pe.unstable_act=oe,Pe.useCallback=function(b,G){return Be.current.useCallback(b,G)},Pe.useContext=function(b){return Be.current.useContext(b)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(b){return Be.current.useDeferredValue(b)},Pe.useEffect=function(b,G){return Be.current.useEffect(b,G)},Pe.useId=function(){return Be.current.useId()},Pe.useImperativeHandle=function(b,G,de){return Be.current.useImperativeHandle(b,G,de)},Pe.useInsertionEffect=function(b,G){return Be.current.useInsertionEffect(b,G)},Pe.useLayoutEffect=function(b,G){return Be.current.useLayoutEffect(b,G)},Pe.useMemo=function(b,G){return Be.current.useMemo(b,G)},Pe.useReducer=function(b,G,de){return Be.current.useReducer(b,G,de)},Pe.useRef=function(b){return Be.current.useRef(b)},Pe.useState=function(b){return Be.current.useState(b)},Pe.useSyncExternalStore=function(b,G,de){return Be.current.useSyncExternalStore(b,G,de)},Pe.useTransition=function(){return Be.current.useTransition()},Pe.version="18.3.1",Pe}var wm;function Af(){return wm||(wm=1,Nh.exports=p_()),Nh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function m_(){if(Tm)return aa;Tm=1;var r=Af(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,y){var E,T={},R=null,O=null;y!==void 0&&(R=""+y),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(O=g.ref);for(E in g)s.call(g,E)&&!l.hasOwnProperty(E)&&(T[E]=g[E]);if(d&&d.defaultProps)for(E in g=d.defaultProps,g)T[E]===void 0&&(T[E]=g[E]);return{$$typeof:e,type:d,key:R,ref:O,props:T,_owner:o.current}}return aa.Fragment=t,aa.jsx=h,aa.jsxs=h,aa}var Sm;function g_(){return Sm||(Sm=1,xh.exports=m_()),xh.exports}var ne=g_(),W=Af(),Zl={},Dh={exports:{}},Zt={},Vh={exports:{}},Lh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function y_(){return Rm||(Rm=1,function(r){function e(ie,me){var oe=ie.length;ie.push(me);e:for(;0<oe;){var b=oe-1>>>1,G=ie[b];if(0<o(G,me))ie[b]=me,ie[oe]=G,oe=b;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var me=ie[0],oe=ie.pop();if(oe!==me){ie[0]=oe;e:for(var b=0,G=ie.length,de=G>>>1;b<de;){var Ce=2*(b+1)-1,Ae=ie[Ce],De=Ce+1,be=ie[De];if(0>o(Ae,oe))De<G&&0>o(be,Ae)?(ie[b]=be,ie[De]=oe,b=De):(ie[b]=Ae,ie[Ce]=oe,b=Ce);else if(De<G&&0>o(be,oe))ie[b]=be,ie[De]=oe,b=De;else break e}}return me}function o(ie,me){var oe=ie.sortIndex-me.sortIndex;return oe!==0?oe:ie.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var g=[],y=[],E=1,T=null,R=3,O=!1,k=!1,F=!1,N=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(ie){for(var me=t(y);me!==null;){if(me.callback===null)s(y);else if(me.startTime<=ie)s(y),me.sortIndex=me.expirationTime,e(g,me);else break;me=t(y)}}function le(ie){if(F=!1,ee(ie),!k)if(t(g)!==null)k=!0,Et(ge);else{var me=t(y);me!==null&&Be(le,me.startTime-ie)}}function ge(ie,me){k=!1,F&&(F=!1,q(S),S=-1),O=!0;var oe=R;try{for(ee(me),T=t(g);T!==null&&(!(T.expirationTime>me)||ie&&!L());){var b=T.callback;if(typeof b=="function"){T.callback=null,R=T.priorityLevel;var G=b(T.expirationTime<=me);me=r.unstable_now(),typeof G=="function"?T.callback=G:T===t(g)&&s(g),ee(me)}else s(g);T=t(g)}if(T!==null)var de=!0;else{var Ce=t(y);Ce!==null&&Be(le,Ce.startTime-me),de=!1}return de}finally{T=null,R=oe,O=!1}}var Ee=!1,P=null,S=-1,C=5,x=-1;function L(){return!(r.unstable_now()-x<C)}function M(){if(P!==null){var ie=r.unstable_now();x=ie;var me=!0;try{me=P(!0,ie)}finally{me?A():(Ee=!1,P=null)}}else Ee=!1}var A;if(typeof K=="function")A=function(){K(M)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,ht=Ge.port2;Ge.port1.onmessage=M,A=function(){ht.postMessage(null)}}else A=function(){N(M,0)};function Et(ie){P=ie,Ee||(Ee=!0,A())}function Be(ie,me){S=N(function(){ie(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){k||O||(k=!0,Et(ge))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ie){switch(R){case 1:case 2:case 3:var me=3;break;default:me=R}var oe=R;R=me;try{return ie()}finally{R=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var oe=R;R=ie;try{return me()}finally{R=oe}},r.unstable_scheduleCallback=function(ie,me,oe){var b=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?b+oe:b):oe=b,ie){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,ie={id:E++,callback:me,priorityLevel:ie,startTime:oe,expirationTime:G,sortIndex:-1},oe>b?(ie.sortIndex=oe,e(y,ie),t(g)===null&&ie===t(y)&&(F?(q(S),S=-1):F=!0,Be(le,oe-b))):(ie.sortIndex=G,e(g,ie),k||O||(k=!0,Et(ge))),ie},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(ie){var me=R;return function(){var oe=R;R=me;try{return ie.apply(this,arguments)}finally{R=oe}}}}(Lh)),Lh}var Im;function v_(){return Im||(Im=1,Vh.exports=y_()),Vh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function __(){if(Cm)return Zt;Cm=1;var r=Af(),e=v_();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function R(n){return g.call(T,n)?!0:g.call(E,n)?!1:y.test(n)?T[n]=!0:(E[n]=!0,!1)}function O(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,i,a,c){if(i===null||typeof i>"u"||O(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function F(n,i,a,c,f,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){N[n]=new F(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];N[i]=new F(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){N[n]=new F(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){N[n]=new F(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){N[n]=new F(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){N[n]=new F(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){N[n]=new F(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){N[n]=new F(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){N[n]=new F(n,5,!1,n.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function K(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(q,K);N[i]=new F(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(q,K);N[i]=new F(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(q,K);N[i]=new F(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){N[n]=new F(n,1,!1,n.toLowerCase(),null,!1,!1)}),N.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){N[n]=new F(n,1,!1,n.toLowerCase(),null,!0,!0)});function ee(n,i,a,c){var f=N.hasOwnProperty(i)?N[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,a,f,c)&&(a=null),c||f===null?R(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var le=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),ie=Symbol.iterator;function me(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,b;function G(n){if(b===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);b=i&&i[1]||""}return`
`+b+n}var de=!1;function Ce(n,i){if(!n||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(j){var c=j}Reflect.construct(n,[],i)}else{try{i.call()}catch(j){c=j}n.call(i.prototype)}else{try{throw Error()}catch(j){c=j}n()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var f=j.stack.split(`
`),m=c.stack.split(`
`),_=f.length-1,I=m.length-1;1<=_&&0<=I&&f[_]!==m[I];)I--;for(;1<=_&&0<=I;_--,I--)if(f[_]!==m[I]){if(_!==1||I!==1)do if(_--,I--,0>I||f[_]!==m[I]){var D=`
`+f[_].replace(" at new "," at ");return n.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",n.displayName)),D}while(1<=_&&0<=I);break}}}finally{de=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function Ae(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=Ce(n.type,!1),n;case 11:return n=Ce(n.type.render,!1),n;case 1:return n=Ce(n.type,!0),n;default:return""}}function De(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case Ee:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case Ge:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case L:return(n.displayName||"Context")+".Consumer";case x:return(n._context.displayName||"Context")+".Provider";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ht:return i=n.displayName||null,i!==null?i:De(n.type)||"Memo";case Et:i=n._payload,n=n._init;try{return De(n(i))}catch{}}return null}function be(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ue(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qe(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(n){var i=qe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ar(n){n._valueTracker||(n._valueTracker=wt(n))}function Ji(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=qe(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function kr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function fi(n,i){var a=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Zi(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ue(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function fo(n,i){i=i.checked,i!=null&&ee(n,"checked",i,!1)}function po(n,i){fo(n,i);var a=Ue(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?es(n,i.type,a):i.hasOwnProperty("defaultValue")&&es(n,i.type,Ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function ba(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function es(n,i,a){(i!=="number"||kr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var lr=Array.isArray;function ur(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function mo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ts(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(lr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Ue(a)}}function ns(n,i){var a=Ue(i.value),c=Ue(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function go(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ft(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ft(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var cr,yo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=cr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function xr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pi=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(n){pi.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),di[i]=di[n]})});function vo(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||di.hasOwnProperty(n)&&di[n]?(""+i).trim():i+"px"}function _o(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=vo(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var Eo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wo(n,i){if(i){if(Eo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function To(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mi=null;function rs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var is=null,hn=null,jn=null;function ss(n){if(n=Wo(n)){if(typeof is!="function")throw Error(t(280));var i=n.stateNode;i&&(i=pl(i),is(n.stateNode,n.type,i))}}function $n(n){hn?jn?jn.push(n):jn=[n]:hn=n}function So(){if(hn){var n=hn,i=jn;if(jn=hn=null,ss(n),i)for(n=0;n<i.length;n++)ss(i[n])}}function gi(n,i){return n(i)}function Ro(){}var hr=!1;function Io(n,i,a){if(hr)return n(i,a);hr=!0;try{return gi(n,i,a)}finally{hr=!1,(hn!==null||jn!==null)&&(Ro(),So())}}function it(n,i){var a=n.stateNode;if(a===null)return null;var c=pl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var os=!1;if(d)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){os=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{os=!1}function yi(n,i,a,c,f,m,_,I,D){var j=Array.prototype.slice.call(arguments,3);try{i.apply(a,j)}catch(Y){this.onError(Y)}}var vi=!1,as=null,Rn=!1,Co=null,ic={onError:function(n){vi=!0,as=n}};function ls(n,i,a,c,f,m,_,I,D){vi=!1,as=null,yi.apply(ic,arguments)}function Ua(n,i,a,c,f,m,_,I,D){if(ls.apply(this,arguments),vi){if(vi){var j=as;vi=!1,as=null}else throw Error(t(198));Rn||(Rn=!0,Co=j)}}function In(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function _i(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Cn(n){if(In(n)!==n)throw Error(t(188))}function Ba(n){var i=n.alternate;if(!i){if(i=In(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return Cn(f),n;if(m===c)return Cn(f),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=m;else{for(var _=!1,I=f.child;I;){if(I===a){_=!0,a=f,c=m;break}if(I===c){_=!0,c=f,a=m;break}I=I.sibling}if(!_){for(I=m.child;I;){if(I===a){_=!0,a=m,c=f;break}if(I===c){_=!0,c=m,a=f;break}I=I.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Ao(n){return n=Ba(n),n!==null?us(n):null}function us(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=us(n);if(i!==null)return i;n=n.sibling}return null}var cs=e.unstable_scheduleCallback,Po=e.unstable_cancelCallback,za=e.unstable_shouldYield,sc=e.unstable_requestPaint,He=e.unstable_now,ja=e.unstable_getCurrentPriorityLevel,Ei=e.unstable_ImmediatePriority,Nr=e.unstable_UserBlockingPriority,fn=e.unstable_NormalPriority,ko=e.unstable_LowPriority,$a=e.unstable_IdlePriority,wi=null,nn=null;function qa(n){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(wi,n,void 0,(n.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Wa,xo=Math.log,Ha=Math.LN2;function Wa(n){return n>>>=0,n===0?32:31-(xo(n)/Ha|0)|0}var hs=64,fs=4194304;function Dr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ti(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var I=_&~f;I!==0?c=Dr(I):(m&=_,m!==0&&(c=Dr(m)))}else _=a&~f,_!==0?c=Dr(_):m!==0&&(c=Dr(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-jt(i),f=1<<a,c|=n[a],i&=~f;return c}function oc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-jt(m),I=1<<_,D=f[_];D===-1?((I&a)===0||(I&c)!==0)&&(f[_]=oc(I,i)):D<=i&&(n.expiredLanes|=I),m&=~I}}function rn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Si(){var n=hs;return hs<<=1,(hs&4194240)===0&&(hs=64),n}function Vr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Lr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-jt(i),n[i]=a}function $e(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-jt(a),m=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~m}}function Or(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-jt(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var xe=0;function Mr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Ka,ds,Qa,Ga,Xa,No=!1,qn=[],At=null,An=null,Pn=null,Fr=new Map,dn=new Map,Hn=[],ac="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ya(n,i){switch(n){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Fr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(i.pointerId)}}function Wt(n,i,a,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Wo(i),i!==null&&ds(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function lc(n,i,a,c,f){switch(i){case"focusin":return At=Wt(At,n,i,a,c,f),!0;case"dragenter":return An=Wt(An,n,i,a,c,f),!0;case"mouseover":return Pn=Wt(Pn,n,i,a,c,f),!0;case"pointerover":var m=f.pointerId;return Fr.set(m,Wt(Fr.get(m)||null,n,i,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,dn.set(m,Wt(dn.get(m)||null,n,i,a,c,f)),!0}return!1}function Ja(n){var i=Pi(n.target);if(i!==null){var a=In(i);if(a!==null){if(i=a.tag,i===13){if(i=_i(a),i!==null){n.blockedOn=i,Xa(n.priority,function(){Qa(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ps(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);mi=c,a.target.dispatchEvent(c),mi=null}else return i=Wo(a),i!==null&&ds(i),n.blockedOn=a,!1;i.shift()}return!0}function Ri(n,i,a){dr(n)&&a.delete(i)}function Za(){No=!1,At!==null&&dr(At)&&(At=null),An!==null&&dr(An)&&(An=null),Pn!==null&&dr(Pn)&&(Pn=null),Fr.forEach(Ri),dn.forEach(Ri)}function kn(n,i){n.blockedOn===i&&(n.blockedOn=null,No||(No=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Za)))}function xn(n){function i(f){return kn(f,n)}if(0<qn.length){kn(qn[0],n);for(var a=1;a<qn.length;a++){var c=qn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(At!==null&&kn(At,n),An!==null&&kn(An,n),Pn!==null&&kn(Pn,n),Fr.forEach(i),dn.forEach(i),a=0;a<Hn.length;a++)c=Hn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Hn.length&&(a=Hn[0],a.blockedOn===null);)Ja(a),a.blockedOn===null&&Hn.shift()}var pr=le.ReactCurrentBatchConfig,br=!0;function Xe(n,i,a,c){var f=xe,m=pr.transition;pr.transition=null;try{xe=1,Do(n,i,a,c)}finally{xe=f,pr.transition=m}}function uc(n,i,a,c){var f=xe,m=pr.transition;pr.transition=null;try{xe=4,Do(n,i,a,c)}finally{xe=f,pr.transition=m}}function Do(n,i,a,c){if(br){var f=ps(n,i,a,c);if(f===null)Ec(n,i,c,Ii,a),Ya(n,c);else if(lc(f,n,i,a,c))c.stopPropagation();else if(Ya(n,c),i&4&&-1<ac.indexOf(n)){for(;f!==null;){var m=Wo(f);if(m!==null&&Ka(m),m=ps(n,i,a,c),m===null&&Ec(n,i,c,Ii,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else Ec(n,i,c,null,a)}}var Ii=null;function ps(n,i,a,c){if(Ii=null,n=rs(c),n=Pi(n),n!==null)if(i=In(n),i===null)n=null;else if(a=i.tag,a===13){if(n=_i(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ii=n,null}function Vo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ja()){case Ei:return 1;case Nr:return 4;case fn:case ko:return 16;case $a:return 536870912;default:return 16}default:return 16}}var sn=null,ms=null,Kt=null;function Lo(){if(Kt)return Kt;var n,i=ms,a=i.length,c,f="value"in sn?sn.value:sn.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===f[m-c];c++);return Kt=f.slice(n,1<c?1-c:void 0)}function gs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Wn(){return!0}function Oo(){return!1}function Pt(n){function i(a,c,f,m,_){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Wn:Oo,this.isPropagationStopped=Oo,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=Pt(Nn),Kn=oe({},Nn,{view:0,detail:0}),cc=Pt(Kn),vs,mr,Ur,Ci=oe({},Kn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ur&&(Ur&&n.type==="mousemove"?(vs=n.screenX-Ur.screenX,mr=n.screenY-Ur.screenY):mr=vs=0,Ur=n),vs)},movementY:function(n){return"movementY"in n?n.movementY:mr}}),_s=Pt(Ci),Mo=oe({},Ci,{dataTransfer:0}),el=Pt(Mo),Es=oe({},Kn,{relatedTarget:0}),ws=Pt(Es),tl=oe({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),gr=Pt(tl),nl=oe({},Nn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),rl=Pt(nl),il=oe({},Nn,{data:0}),Fo=Pt(il),Ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=sl[n])?!!i[n]:!1}function Qn(){return ol}var u=oe({},Kn,{key:function(n){if(n.key){var i=Ts[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=gs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$t[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(n){return n.type==="keypress"?gs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Pt(u),v=oe({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Pt(v),U=oe({},Kn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),$=Pt(U),re=oe({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=Pt(re),pt=oe({},Ci,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Pt(pt),Tt=[9,13,27,32],lt=d&&"CompositionEvent"in window,pn=null;d&&"documentMode"in document&&(pn=document.documentMode);var on=d&&"TextEvent"in window&&!pn,Ai=d&&(!lt||pn&&8<pn&&11>=pn),Ss=" ",pd=!1;function md(n,i){switch(n){case"keyup":return Tt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Rs=!1;function cv(n,i){switch(n){case"compositionend":return gd(i);case"keypress":return i.which!==32?null:(pd=!0,Ss);case"textInput":return n=i.data,n===Ss&&pd?null:n;default:return null}}function hv(n,i){if(Rs)return n==="compositionend"||!lt&&md(n,i)?(n=Lo(),Kt=ms=sn=null,Rs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!fv[n.type]:i==="textarea"}function vd(n,i,a,c){$n(c),i=hl(i,"onChange"),0<i.length&&(a=new ys("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var bo=null,Uo=null;function dv(n){Md(n,0)}function al(n){var i=ks(n);if(Ji(i))return n}function pv(n,i){if(n==="change")return i}var _d=!1;if(d){var hc;if(d){var fc="oninput"in document;if(!fc){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),fc=typeof Ed.oninput=="function"}hc=fc}else hc=!1;_d=hc&&(!document.documentMode||9<document.documentMode)}function wd(){bo&&(bo.detachEvent("onpropertychange",Td),Uo=bo=null)}function Td(n){if(n.propertyName==="value"&&al(Uo)){var i=[];vd(i,Uo,n,rs(n)),Io(dv,i)}}function mv(n,i,a){n==="focusin"?(wd(),bo=i,Uo=a,bo.attachEvent("onpropertychange",Td)):n==="focusout"&&wd()}function gv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return al(Uo)}function yv(n,i){if(n==="click")return al(i)}function vv(n,i){if(n==="input"||n==="change")return al(i)}function _v(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Dn=typeof Object.is=="function"?Object.is:_v;function Bo(n,i){if(Dn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(i,f)||!Dn(n[f],i[f]))return!1}return!0}function Sd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Rd(n,i){var a=Sd(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sd(a)}}function Id(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Id(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Cd(){for(var n=window,i=kr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=kr(n.document)}return i}function dc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Ev(n){var i=Cd(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&Id(a.ownerDocument.documentElement,a)){if(c!==null&&dc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!n.extend&&m>c&&(f=c,c=m,m=f),f=Rd(a,m);var _=Rd(a,c);f&&_&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var wv=d&&"documentMode"in document&&11>=document.documentMode,Is=null,pc=null,zo=null,mc=!1;function Ad(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mc||Is==null||Is!==kr(c)||(c=Is,"selectionStart"in c&&dc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zo&&Bo(zo,c)||(zo=c,c=hl(pc,"onSelect"),0<c.length&&(i=new ys("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Is)))}function ll(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Cs={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},gc={},Pd={};d&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function ul(n){if(gc[n])return gc[n];if(!Cs[n])return n;var i=Cs[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Pd)return gc[n]=i[a];return n}var kd=ul("animationend"),xd=ul("animationiteration"),Nd=ul("animationstart"),Dd=ul("transitionend"),Vd=new Map,Ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(n,i){Vd.set(n,i),l(i,[n])}for(var yc=0;yc<Ld.length;yc++){var vc=Ld[yc],Tv=vc.toLowerCase(),Sv=vc[0].toUpperCase()+vc.slice(1);Br(Tv,"on"+Sv)}Br(kd,"onAnimationEnd"),Br(xd,"onAnimationIteration"),Br(Nd,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Dd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rv=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function Od(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Ua(c,i,void 0,n),n.currentTarget=null}function Md(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var I=c[_],D=I.instance,j=I.currentTarget;if(I=I.listener,D!==m&&f.isPropagationStopped())break e;Od(f,I,j),m=D}else for(_=0;_<c.length;_++){if(I=c[_],D=I.instance,j=I.currentTarget,I=I.listener,D!==m&&f.isPropagationStopped())break e;Od(f,I,j),m=D}}}if(Rn)throw n=Co,Rn=!1,Co=null,n}function Ke(n,i){var a=i[Cc];a===void 0&&(a=i[Cc]=new Set);var c=n+"__bubble";a.has(c)||(Fd(i,n,2,!1),a.add(c))}function _c(n,i,a){var c=0;i&&(c|=4),Fd(a,n,c,i)}var cl="_reactListening"+Math.random().toString(36).slice(2);function $o(n){if(!n[cl]){n[cl]=!0,s.forEach(function(a){a!=="selectionchange"&&(Rv.has(a)||_c(a,!1,n),_c(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[cl]||(i[cl]=!0,_c("selectionchange",!1,i))}}function Fd(n,i,a,c){switch(Vo(i)){case 1:var f=Xe;break;case 4:f=uc;break;default:f=Do}a=f.bind(null,i,a,n),f=void 0,!os||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function Ec(n,i,a,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===f||I.nodeType===8&&I.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;I!==null;){if(_=Pi(I),_===null)return;if(D=_.tag,D===5||D===6){c=m=_;continue e}I=I.parentNode}}c=c.return}Io(function(){var j=m,Y=rs(a),Z=[];e:{var X=Vd.get(n);if(X!==void 0){var se=ys,ce=n;switch(n){case"keypress":if(gs(a)===0)break e;case"keydown":case"keyup":se=p;break;case"focusin":ce="focus",se=ws;break;case"focusout":ce="blur",se=ws;break;case"beforeblur":case"afterblur":se=ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=_s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=el;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case kd:case xd:case Nd:se=gr;break;case Dd:se=je;break;case"scroll":se=cc;break;case"wheel":se=Ve;break;case"copy":case"cut":case"paste":se=rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=w}var he=(i&4)!==0,st=!he&&n==="scroll",B=he?X!==null?X+"Capture":null:X;he=[];for(var V=j,z;V!==null;){z=V;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,B!==null&&(te=it(V,B),te!=null&&he.push(qo(V,te,z)))),st)break;V=V.return}0<he.length&&(X=new se(X,ce,null,a,Y),Z.push({event:X,listeners:he}))}}if((i&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",X&&a!==mi&&(ce=a.relatedTarget||a.fromElement)&&(Pi(ce)||ce[yr]))break e;if((se||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,se?(ce=a.relatedTarget||a.toElement,se=j,ce=ce?Pi(ce):null,ce!==null&&(st=In(ce),ce!==st||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=j),se!==ce)){if(he=_s,te="onMouseLeave",B="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(he=w,te="onPointerLeave",B="onPointerEnter",V="pointer"),st=se==null?X:ks(se),z=ce==null?X:ks(ce),X=new he(te,V+"leave",se,a,Y),X.target=st,X.relatedTarget=z,te=null,Pi(Y)===j&&(he=new he(B,V+"enter",ce,a,Y),he.target=z,he.relatedTarget=st,te=he),st=te,se&&ce)t:{for(he=se,B=ce,V=0,z=he;z;z=As(z))V++;for(z=0,te=B;te;te=As(te))z++;for(;0<V-z;)he=As(he),V--;for(;0<z-V;)B=As(B),z--;for(;V--;){if(he===B||B!==null&&he===B.alternate)break t;he=As(he),B=As(B)}he=null}else he=null;se!==null&&bd(Z,X,se,he,!1),ce!==null&&st!==null&&bd(Z,st,ce,he,!0)}}e:{if(X=j?ks(j):window,se=X.nodeName&&X.nodeName.toLowerCase(),se==="select"||se==="input"&&X.type==="file")var fe=pv;else if(yd(X))if(_d)fe=vv;else{fe=gv;var ye=mv}else(se=X.nodeName)&&se.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(fe=yv);if(fe&&(fe=fe(n,j))){vd(Z,fe,a,Y);break e}ye&&ye(n,X,j),n==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&es(X,"number",X.value)}switch(ye=j?ks(j):window,n){case"focusin":(yd(ye)||ye.contentEditable==="true")&&(Is=ye,pc=j,zo=null);break;case"focusout":zo=pc=Is=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,Ad(Z,a,Y);break;case"selectionchange":if(wv)break;case"keydown":case"keyup":Ad(Z,a,Y)}var ve;if(lt)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Rs?md(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Ai&&a.locale!=="ko"&&(Rs||we!=="onCompositionStart"?we==="onCompositionEnd"&&Rs&&(ve=Lo()):(sn=Y,ms="value"in sn?sn.value:sn.textContent,Rs=!0)),ye=hl(j,we),0<ye.length&&(we=new Fo(we,n,null,a,Y),Z.push({event:we,listeners:ye}),ve?we.data=ve:(ve=gd(a),ve!==null&&(we.data=ve)))),(ve=on?cv(n,a):hv(n,a))&&(j=hl(j,"onBeforeInput"),0<j.length&&(Y=new Fo("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Y,listeners:j}),Y.data=ve))}Md(Z,i)})}function qo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function hl(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=it(n,a),m!=null&&c.unshift(qo(n,m,f)),m=it(n,i),m!=null&&c.push(qo(n,m,f))),n=n.return}return c}function As(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bd(n,i,a,c,f){for(var m=i._reactName,_=[];a!==null&&a!==c;){var I=a,D=I.alternate,j=I.stateNode;if(D!==null&&D===c)break;I.tag===5&&j!==null&&(I=j,f?(D=it(a,m),D!=null&&_.unshift(qo(a,D,I))):f||(D=it(a,m),D!=null&&_.push(qo(a,D,I)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var Iv=/\r\n?/g,Cv=/\u0000|\uFFFD/g;function Ud(n){return(typeof n=="string"?n:""+n).replace(Iv,`
`).replace(Cv,"")}function fl(n,i,a){if(i=Ud(i),Ud(n)!==i&&a)throw Error(t(425))}function dl(){}var wc=null,Tc=null;function Sc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rc=typeof setTimeout=="function"?setTimeout:void 0,Av=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,Pv=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(n){return Bd.resolve(null).then(n).catch(kv)}:Rc;function kv(n){setTimeout(function(){throw n})}function Ic(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),xn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);xn(i)}function zr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function zd(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Ps,Ho="__reactProps$"+Ps,yr="__reactContainer$"+Ps,Cc="__reactEvents$"+Ps,xv="__reactListeners$"+Ps,Nv="__reactHandles$"+Ps;function Pi(n){var i=n[Gn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[yr]||a[Gn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=zd(n);n!==null;){if(a=n[Gn])return a;n=zd(n)}return i}n=a,a=n.parentNode}return null}function Wo(n){return n=n[Gn]||n[yr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ks(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function pl(n){return n[Ho]||null}var Ac=[],xs=-1;function jr(n){return{current:n}}function Qe(n){0>xs||(n.current=Ac[xs],Ac[xs]=null,xs--)}function We(n,i){xs++,Ac[xs]=n.current,n.current=i}var $r={},Lt=jr($r),Qt=jr(!1),ki=$r;function Ns(n,i){var a=n.type.contextTypes;if(!a)return $r;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Gt(n){return n=n.childContextTypes,n!=null}function ml(){Qe(Qt),Qe(Lt)}function jd(n,i,a){if(Lt.current!==$r)throw Error(t(168));We(Lt,i),We(Qt,a)}function $d(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,be(n)||"Unknown",f));return oe({},a,c)}function gl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||$r,ki=Lt.current,We(Lt,n),We(Qt,Qt.current),!0}function qd(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=$d(n,i,ki),c.__reactInternalMemoizedMergedChildContext=n,Qe(Qt),Qe(Lt),We(Lt,n)):Qe(Qt),We(Qt,a)}var vr=null,yl=!1,Pc=!1;function Hd(n){vr===null?vr=[n]:vr.push(n)}function Dv(n){yl=!0,Hd(n)}function qr(){if(!Pc&&vr!==null){Pc=!0;var n=0,i=xe;try{var a=vr;for(xe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}vr=null,yl=!1}catch(f){throw vr!==null&&(vr=vr.slice(n+1)),cs(Ei,qr),f}finally{xe=i,Pc=!1}}return null}var Ds=[],Vs=0,vl=null,_l=0,mn=[],gn=0,xi=null,_r=1,Er="";function Ni(n,i){Ds[Vs++]=_l,Ds[Vs++]=vl,vl=n,_l=i}function Wd(n,i,a){mn[gn++]=_r,mn[gn++]=Er,mn[gn++]=xi,xi=n;var c=_r;n=Er;var f=32-jt(c)-1;c&=~(1<<f),a+=1;var m=32-jt(i)+f;if(30<m){var _=f-f%5;m=(c&(1<<_)-1).toString(32),c>>=_,f-=_,_r=1<<32-jt(i)+f|a<<f|c,Er=m+n}else _r=1<<m|a<<f|c,Er=n}function kc(n){n.return!==null&&(Ni(n,1),Wd(n,1,0))}function xc(n){for(;n===vl;)vl=Ds[--Vs],Ds[Vs]=null,_l=Ds[--Vs],Ds[Vs]=null;for(;n===xi;)xi=mn[--gn],mn[gn]=null,Er=mn[--gn],mn[gn]=null,_r=mn[--gn],mn[gn]=null}var an=null,ln=null,Ye=!1,Vn=null;function Kd(n,i){var a=En(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Qd(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,an=n,ln=zr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,an=n,ln=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=xi!==null?{id:_r,overflow:Er}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=En(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,an=n,ln=null,!0):!1;default:return!1}}function Nc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Dc(n){if(Ye){var i=ln;if(i){var a=i;if(!Qd(n,i)){if(Nc(n))throw Error(t(418));i=zr(a.nextSibling);var c=an;i&&Qd(n,i)?Kd(c,a):(n.flags=n.flags&-4097|2,Ye=!1,an=n)}}else{if(Nc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ye=!1,an=n}}}function Gd(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;an=n}function El(n){if(n!==an)return!1;if(!Ye)return Gd(n),Ye=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Sc(n.type,n.memoizedProps)),i&&(i=ln)){if(Nc(n))throw Xd(),Error(t(418));for(;i;)Kd(n,i),i=zr(i.nextSibling)}if(Gd(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){ln=zr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}ln=null}}else ln=an?zr(n.stateNode.nextSibling):null;return!0}function Xd(){for(var n=ln;n;)n=zr(n.nextSibling)}function Ls(){ln=an=null,Ye=!1}function Vc(n){Vn===null?Vn=[n]:Vn.push(n)}var Vv=le.ReactCurrentBatchConfig;function Ko(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var I=f.refs;_===null?delete I[m]:I[m]=_},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function wl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Yd(n){var i=n._init;return i(n._payload)}function Jd(n){function i(B,V){if(n){var z=B.deletions;z===null?(B.deletions=[V],B.flags|=16):z.push(V)}}function a(B,V){if(!n)return null;for(;V!==null;)i(B,V),V=V.sibling;return null}function c(B,V){for(B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function f(B,V){return B=Jr(B,V),B.index=0,B.sibling=null,B}function m(B,V,z){return B.index=z,n?(z=B.alternate,z!==null?(z=z.index,z<V?(B.flags|=2,V):z):(B.flags|=2,V)):(B.flags|=1048576,V)}function _(B){return n&&B.alternate===null&&(B.flags|=2),B}function I(B,V,z,te){return V===null||V.tag!==6?(V=Rh(z,B.mode,te),V.return=B,V):(V=f(V,z),V.return=B,V)}function D(B,V,z,te){var fe=z.type;return fe===P?Y(B,V,z.props.children,te,z.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Et&&Yd(fe)===V.type)?(te=f(V,z.props),te.ref=Ko(B,V,z),te.return=B,te):(te=Hl(z.type,z.key,z.props,null,B.mode,te),te.ref=Ko(B,V,z),te.return=B,te)}function j(B,V,z,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Ih(z,B.mode,te),V.return=B,V):(V=f(V,z.children||[]),V.return=B,V)}function Y(B,V,z,te,fe){return V===null||V.tag!==7?(V=Ui(z,B.mode,te,fe),V.return=B,V):(V=f(V,z),V.return=B,V)}function Z(B,V,z){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Rh(""+V,B.mode,z),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ge:return z=Hl(V.type,V.key,V.props,null,B.mode,z),z.ref=Ko(B,null,V),z.return=B,z;case Ee:return V=Ih(V,B.mode,z),V.return=B,V;case Et:var te=V._init;return Z(B,te(V._payload),z)}if(lr(V)||me(V))return V=Ui(V,B.mode,z,null),V.return=B,V;wl(B,V)}return null}function X(B,V,z,te){var fe=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return fe!==null?null:I(B,V,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ge:return z.key===fe?D(B,V,z,te):null;case Ee:return z.key===fe?j(B,V,z,te):null;case Et:return fe=z._init,X(B,V,fe(z._payload),te)}if(lr(z)||me(z))return fe!==null?null:Y(B,V,z,te,null);wl(B,z)}return null}function se(B,V,z,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number")return B=B.get(z)||null,I(V,B,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ge:return B=B.get(te.key===null?z:te.key)||null,D(V,B,te,fe);case Ee:return B=B.get(te.key===null?z:te.key)||null,j(V,B,te,fe);case Et:var ye=te._init;return se(B,V,z,ye(te._payload),fe)}if(lr(te)||me(te))return B=B.get(z)||null,Y(V,B,te,fe,null);wl(V,te)}return null}function ce(B,V,z,te){for(var fe=null,ye=null,ve=V,we=V=0,It=null;ve!==null&&we<z.length;we++){ve.index>we?(It=ve,ve=null):It=ve.sibling;var Fe=X(B,ve,z[we],te);if(Fe===null){ve===null&&(ve=It);break}n&&ve&&Fe.alternate===null&&i(B,ve),V=m(Fe,V,we),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe,ve=It}if(we===z.length)return a(B,ve),Ye&&Ni(B,we),fe;if(ve===null){for(;we<z.length;we++)ve=Z(B,z[we],te),ve!==null&&(V=m(ve,V,we),ye===null?fe=ve:ye.sibling=ve,ye=ve);return Ye&&Ni(B,we),fe}for(ve=c(B,ve);we<z.length;we++)It=se(ve,B,we,z[we],te),It!==null&&(n&&It.alternate!==null&&ve.delete(It.key===null?we:It.key),V=m(It,V,we),ye===null?fe=It:ye.sibling=It,ye=It);return n&&ve.forEach(function(Zr){return i(B,Zr)}),Ye&&Ni(B,we),fe}function he(B,V,z,te){var fe=me(z);if(typeof fe!="function")throw Error(t(150));if(z=fe.call(z),z==null)throw Error(t(151));for(var ye=fe=null,ve=V,we=V=0,It=null,Fe=z.next();ve!==null&&!Fe.done;we++,Fe=z.next()){ve.index>we?(It=ve,ve=null):It=ve.sibling;var Zr=X(B,ve,Fe.value,te);if(Zr===null){ve===null&&(ve=It);break}n&&ve&&Zr.alternate===null&&i(B,ve),V=m(Zr,V,we),ye===null?fe=Zr:ye.sibling=Zr,ye=Zr,ve=It}if(Fe.done)return a(B,ve),Ye&&Ni(B,we),fe;if(ve===null){for(;!Fe.done;we++,Fe=z.next())Fe=Z(B,Fe.value,te),Fe!==null&&(V=m(Fe,V,we),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return Ye&&Ni(B,we),fe}for(ve=c(B,ve);!Fe.done;we++,Fe=z.next())Fe=se(ve,B,we,Fe.value,te),Fe!==null&&(n&&Fe.alternate!==null&&ve.delete(Fe.key===null?we:Fe.key),V=m(Fe,V,we),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return n&&ve.forEach(function(f_){return i(B,f_)}),Ye&&Ni(B,we),fe}function st(B,V,z,te){if(typeof z=="object"&&z!==null&&z.type===P&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ge:e:{for(var fe=z.key,ye=V;ye!==null;){if(ye.key===fe){if(fe=z.type,fe===P){if(ye.tag===7){a(B,ye.sibling),V=f(ye,z.props.children),V.return=B,B=V;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Et&&Yd(fe)===ye.type){a(B,ye.sibling),V=f(ye,z.props),V.ref=Ko(B,ye,z),V.return=B,B=V;break e}a(B,ye);break}else i(B,ye);ye=ye.sibling}z.type===P?(V=Ui(z.props.children,B.mode,te,z.key),V.return=B,B=V):(te=Hl(z.type,z.key,z.props,null,B.mode,te),te.ref=Ko(B,V,z),te.return=B,B=te)}return _(B);case Ee:e:{for(ye=z.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(B,V.sibling),V=f(V,z.children||[]),V.return=B,B=V;break e}else{a(B,V);break}else i(B,V);V=V.sibling}V=Ih(z,B.mode,te),V.return=B,B=V}return _(B);case Et:return ye=z._init,st(B,V,ye(z._payload),te)}if(lr(z))return ce(B,V,z,te);if(me(z))return he(B,V,z,te);wl(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,V!==null&&V.tag===6?(a(B,V.sibling),V=f(V,z),V.return=B,B=V):(a(B,V),V=Rh(z,B.mode,te),V.return=B,B=V),_(B)):a(B,V)}return st}var Os=Jd(!0),Zd=Jd(!1),Tl=jr(null),Sl=null,Ms=null,Lc=null;function Oc(){Lc=Ms=Sl=null}function Mc(n){var i=Tl.current;Qe(Tl),n._currentValue=i}function Fc(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Fs(n,i){Sl=n,Lc=Ms=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Xt=!0),n.firstContext=null)}function yn(n){var i=n._currentValue;if(Lc!==n)if(n={context:n,memoizedValue:i,next:null},Ms===null){if(Sl===null)throw Error(t(308));Ms=n,Sl.dependencies={lanes:0,firstContext:n}}else Ms=Ms.next=n;return i}var Di=null;function bc(n){Di===null?Di=[n]:Di.push(n)}function ep(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,bc(i)):(a.next=f.next,f.next=a),i.interleaved=a,wr(n,c)}function wr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Hr=!1;function Uc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Tr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Wr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Me&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,wr(n,a)}return f=c.interleaved,f===null?(i.next=i,bc(c)):(i.next=f.next,f.next=i),c.interleaved=i,wr(n,a)}function Rl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Or(n,a)}}function np(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Il(n,i,a,c){var f=n.updateQueue;Hr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var D=I,j=D.next;D.next=null,_===null?m=j:_.next=j,_=D;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,I=Y.lastBaseUpdate,I!==_&&(I===null?Y.firstBaseUpdate=j:I.next=j,Y.lastBaseUpdate=D))}if(m!==null){var Z=f.baseState;_=0,Y=j=D=null,I=m;do{var X=I.lane,se=I.eventTime;if((c&X)===X){Y!==null&&(Y=Y.next={eventTime:se,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ce=n,he=I;switch(X=i,se=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Z=ce.call(se,Z,X);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,X=typeof ce=="function"?ce.call(se,Z,X):ce,X==null)break e;Z=oe({},Z,X);break e;case 2:Hr=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,X=f.effects,X===null?f.effects=[I]:X.push(I))}else se={eventTime:se,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Y===null?(j=Y=se,D=Z):Y=Y.next=se,_|=X;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;X=I,I=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(Y===null&&(D=Z),f.baseState=D,f.firstBaseUpdate=j,f.lastBaseUpdate=Y,i=f.shared.interleaved,i!==null){f=i;do _|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);Oi|=_,n.lanes=_,n.memoizedState=Z}}function rp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Qo={},Xn=jr(Qo),Go=jr(Qo),Xo=jr(Qo);function Vi(n){if(n===Qo)throw Error(t(174));return n}function Bc(n,i){switch(We(Xo,i),We(Go,n),We(Xn,Qo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:dt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=dt(i,n)}Qe(Xn),We(Xn,i)}function bs(){Qe(Xn),Qe(Go),Qe(Xo)}function ip(n){Vi(Xo.current);var i=Vi(Xn.current),a=dt(i,n.type);i!==a&&(We(Go,n),We(Xn,a))}function zc(n){Go.current===n&&(Qe(Xn),Qe(Go))}var et=jr(0);function Cl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var jc=[];function $c(){for(var n=0;n<jc.length;n++)jc[n]._workInProgressVersionPrimary=null;jc.length=0}var Al=le.ReactCurrentDispatcher,qc=le.ReactCurrentBatchConfig,Li=0,tt=null,mt=null,St=null,Pl=!1,Yo=!1,Jo=0,Lv=0;function Ot(){throw Error(t(321))}function Hc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Dn(n[a],i[a]))return!1;return!0}function Wc(n,i,a,c,f,m){if(Li=m,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Al.current=n===null||n.memoizedState===null?bv:Uv,n=a(c,f),Yo){m=0;do{if(Yo=!1,Jo=0,25<=m)throw Error(t(301));m+=1,St=mt=null,i.updateQueue=null,Al.current=Bv,n=a(c,f)}while(Yo)}if(Al.current=Nl,i=mt!==null&&mt.next!==null,Li=0,St=mt=tt=null,Pl=!1,i)throw Error(t(300));return n}function Kc(){var n=Jo!==0;return Jo=0,n}function Yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?tt.memoizedState=St=n:St=St.next=n,St}function vn(){if(mt===null){var n=tt.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var i=St===null?tt.memoizedState:St.next;if(i!==null)St=i,mt=n;else{if(n===null)throw Error(t(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},St===null?tt.memoizedState=St=n:St=St.next=n}return St}function Zo(n,i){return typeof i=="function"?i(n):i}function Qc(n){var i=vn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=mt,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var I=_=null,D=null,j=m;do{var Y=j.lane;if((Li&Y)===Y)D!==null&&(D=D.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:n(c,j.action);else{var Z={lane:Y,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};D===null?(I=D=Z,_=c):D=D.next=Z,tt.lanes|=Y,Oi|=Y}j=j.next}while(j!==null&&j!==m);D===null?_=c:D.next=I,Dn(c,i.memoizedState)||(Xt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=D,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do m=f.lane,tt.lanes|=m,Oi|=m,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Gc(n){var i=vn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);Dn(m,i.memoizedState)||(Xt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function sp(){}function op(n,i){var a=tt,c=vn(),f=i(),m=!Dn(c.memoizedState,f);if(m&&(c.memoizedState=f,Xt=!0),c=c.queue,Xc(up.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,ea(9,lp.bind(null,a,c,f,i),void 0,null),Rt===null)throw Error(t(349));(Li&30)!==0||ap(a,i,f)}return f}function ap(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function lp(n,i,a,c){i.value=a,i.getSnapshot=c,cp(i)&&hp(n)}function up(n,i,a){return a(function(){cp(i)&&hp(n)})}function cp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Dn(n,a)}catch{return!0}}function hp(n){var i=wr(n,1);i!==null&&Fn(i,n,1,-1)}function fp(n){var i=Yn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:n},i.queue=n,n=n.dispatch=Fv.bind(null,tt,n),[i.memoizedState,n]}function ea(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function dp(){return vn().memoizedState}function kl(n,i,a,c){var f=Yn();tt.flags|=n,f.memoizedState=ea(1|i,a,void 0,c===void 0?null:c)}function xl(n,i,a,c){var f=vn();c=c===void 0?null:c;var m=void 0;if(mt!==null){var _=mt.memoizedState;if(m=_.destroy,c!==null&&Hc(c,_.deps)){f.memoizedState=ea(i,a,m,c);return}}tt.flags|=n,f.memoizedState=ea(1|i,a,m,c)}function pp(n,i){return kl(8390656,8,n,i)}function Xc(n,i){return xl(2048,8,n,i)}function mp(n,i){return xl(4,2,n,i)}function gp(n,i){return xl(4,4,n,i)}function yp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function vp(n,i,a){return a=a!=null?a.concat([n]):null,xl(4,4,yp.bind(null,i,n),a)}function Yc(){}function _p(n,i){var a=vn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Hc(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Ep(n,i){var a=vn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Hc(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function wp(n,i,a){return(Li&21)===0?(n.baseState&&(n.baseState=!1,Xt=!0),n.memoizedState=a):(Dn(a,i)||(a=Si(),tt.lanes|=a,Oi|=a,n.baseState=!0),i)}function Ov(n,i){var a=xe;xe=a!==0&&4>a?a:4,n(!0);var c=qc.transition;qc.transition={};try{n(!1),i()}finally{xe=a,qc.transition=c}}function Tp(){return vn().memoizedState}function Mv(n,i,a){var c=Xr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Sp(n))Rp(i,a);else if(a=ep(n,i,a,c),a!==null){var f=Ht();Fn(a,n,c,f),Ip(a,i,c)}}function Fv(n,i,a){var c=Xr(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sp(n))Rp(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,I=m(_,a);if(f.hasEagerState=!0,f.eagerState=I,Dn(I,_)){var D=i.interleaved;D===null?(f.next=f,bc(i)):(f.next=D.next,D.next=f),i.interleaved=f;return}}catch{}finally{}a=ep(n,i,f,c),a!==null&&(f=Ht(),Fn(a,n,c,f),Ip(a,i,c))}}function Sp(n){var i=n.alternate;return n===tt||i!==null&&i===tt}function Rp(n,i){Yo=Pl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Ip(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Or(n,a)}}var Nl={readContext:yn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},bv={readContext:yn,useCallback:function(n,i){return Yn().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:pp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,kl(4194308,4,yp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return kl(4194308,4,n,i)},useInsertionEffect:function(n,i){return kl(4,2,n,i)},useMemo:function(n,i){var a=Yn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Yn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=Mv.bind(null,tt,n),[c.memoizedState,n]},useRef:function(n){var i=Yn();return n={current:n},i.memoizedState=n},useState:fp,useDebugValue:Yc,useDeferredValue:function(n){return Yn().memoizedState=n},useTransition:function(){var n=fp(!1),i=n[0];return n=Ov.bind(null,n[1]),Yn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=tt,f=Yn();if(Ye){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Rt===null)throw Error(t(349));(Li&30)!==0||ap(c,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,pp(up.bind(null,c,m,n),[n]),c.flags|=2048,ea(9,lp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Yn(),i=Rt.identifierPrefix;if(Ye){var a=Er,c=_r;a=(c&~(1<<32-jt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Jo++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Lv++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},Uv={readContext:yn,useCallback:_p,useContext:yn,useEffect:Xc,useImperativeHandle:vp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:Ep,useReducer:Qc,useRef:dp,useState:function(){return Qc(Zo)},useDebugValue:Yc,useDeferredValue:function(n){var i=vn();return wp(i,mt.memoizedState,n)},useTransition:function(){var n=Qc(Zo)[0],i=vn().memoizedState;return[n,i]},useMutableSource:sp,useSyncExternalStore:op,useId:Tp,unstable_isNewReconciler:!1},Bv={readContext:yn,useCallback:_p,useContext:yn,useEffect:Xc,useImperativeHandle:vp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:Ep,useReducer:Gc,useRef:dp,useState:function(){return Gc(Zo)},useDebugValue:Yc,useDeferredValue:function(n){var i=vn();return mt===null?i.memoizedState=n:wp(i,mt.memoizedState,n)},useTransition:function(){var n=Gc(Zo)[0],i=vn().memoizedState;return[n,i]},useMutableSource:sp,useSyncExternalStore:op,useId:Tp,unstable_isNewReconciler:!1};function Ln(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Jc(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:oe({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Dl={isMounted:function(n){return(n=n._reactInternals)?In(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Ht(),f=Xr(n),m=Tr(c,f);m.payload=i,a!=null&&(m.callback=a),i=Wr(n,m,f),i!==null&&(Fn(i,n,f,c),Rl(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Ht(),f=Xr(n),m=Tr(c,f);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Wr(n,m,f),i!==null&&(Fn(i,n,f,c),Rl(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Ht(),c=Xr(n),f=Tr(a,c);f.tag=2,i!=null&&(f.callback=i),i=Wr(n,f,c),i!==null&&(Fn(i,n,c,a),Rl(i,n,c))}};function Cp(n,i,a,c,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!Bo(a,c)||!Bo(f,m):!0}function Ap(n,i,a){var c=!1,f=$r,m=i.contextType;return typeof m=="object"&&m!==null?m=yn(m):(f=Gt(i)?ki:Lt.current,c=i.contextTypes,m=(c=c!=null)?Ns(n,f):$r),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Dl,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=m),i}function Pp(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Dl.enqueueReplaceState(i,i.state,null)}function Zc(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},Uc(n);var m=i.contextType;typeof m=="object"&&m!==null?f.context=yn(m):(m=Gt(i)?ki:Lt.current,f.context=Ns(n,m)),f.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Jc(n,i,m,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Dl.enqueueReplaceState(f,f.state,null),Il(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Us(n,i){try{var a="",c=i;do a+=Ae(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:f,digest:null}}function eh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function th(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var zv=typeof WeakMap=="function"?WeakMap:Map;function kp(n,i,a){a=Tr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Ul||(Ul=!0,gh=c),th(n,i)},a}function xp(n,i,a){a=Tr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){th(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){th(n,i),typeof c!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function Np(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new zv;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=t_.bind(null,n,i,a),i.then(n,n))}function Dp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Vp(n,i,a,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Tr(-1,1),i.tag=2,Wr(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var jv=le.ReactCurrentOwner,Xt=!1;function qt(n,i,a,c){i.child=n===null?Zd(i,null,a,c):Os(i,n.child,a,c)}function Lp(n,i,a,c,f){a=a.render;var m=i.ref;return Fs(i,f),c=Wc(n,i,a,c,m,f),a=Kc(),n!==null&&!Xt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Sr(n,i,f)):(Ye&&a&&kc(i),i.flags|=1,qt(n,i,c,f),i.child)}function Op(n,i,a,c,f){if(n===null){var m=a.type;return typeof m=="function"&&!Sh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Mp(n,i,m,c,f)):(n=Hl(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,(n.lanes&f)===0){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(_,c)&&n.ref===i.ref)return Sr(n,i,f)}return i.flags|=1,n=Jr(m,c),n.ref=i.ref,n.return=i,i.child=n}function Mp(n,i,a,c,f){if(n!==null){var m=n.memoizedProps;if(Bo(m,c)&&n.ref===i.ref)if(Xt=!1,i.pendingProps=c=m,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Xt=!0);else return i.lanes=n.lanes,Sr(n,i,f)}return nh(n,i,a,c,f)}function Fp(n,i,a){var c=i.pendingProps,f=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(zs,un),un|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,We(zs,un),un|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,We(zs,un),un|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,We(zs,un),un|=c;return qt(n,i,f,a),i.child}function bp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function nh(n,i,a,c,f){var m=Gt(a)?ki:Lt.current;return m=Ns(i,m),Fs(i,f),a=Wc(n,i,a,c,m,f),c=Kc(),n!==null&&!Xt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Sr(n,i,f)):(Ye&&c&&kc(i),i.flags|=1,qt(n,i,a,f),i.child)}function Up(n,i,a,c,f){if(Gt(a)){var m=!0;gl(i)}else m=!1;if(Fs(i,f),i.stateNode===null)Ll(n,i),Ap(i,a,c),Zc(i,a,c,f),c=!0;else if(n===null){var _=i.stateNode,I=i.memoizedProps;_.props=I;var D=_.context,j=a.contextType;typeof j=="object"&&j!==null?j=yn(j):(j=Gt(a)?ki:Lt.current,j=Ns(i,j));var Y=a.getDerivedStateFromProps,Z=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||D!==j)&&Pp(i,_,c,j),Hr=!1;var X=i.memoizedState;_.state=X,Il(i,c,_,f),D=i.memoizedState,I!==c||X!==D||Qt.current||Hr?(typeof Y=="function"&&(Jc(i,a,Y,c),D=i.memoizedState),(I=Hr||Cp(i,a,I,c,X,D,j))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=D),_.props=c,_.state=D,_.context=j,c=I):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,tp(n,i),I=i.memoizedProps,j=i.type===i.elementType?I:Ln(i.type,I),_.props=j,Z=i.pendingProps,X=_.context,D=a.contextType,typeof D=="object"&&D!==null?D=yn(D):(D=Gt(a)?ki:Lt.current,D=Ns(i,D));var se=a.getDerivedStateFromProps;(Y=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==Z||X!==D)&&Pp(i,_,c,D),Hr=!1,X=i.memoizedState,_.state=X,Il(i,c,_,f);var ce=i.memoizedState;I!==Z||X!==ce||Qt.current||Hr?(typeof se=="function"&&(Jc(i,a,se,c),ce=i.memoizedState),(j=Hr||Cp(i,a,j,c,X,ce,D)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ce,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ce,D)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ce),_.props=c,_.state=ce,_.context=D,c=j):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),c=!1)}return rh(n,i,a,c,m,f)}function rh(n,i,a,c,f,m){bp(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return f&&qd(i,a,!1),Sr(n,i,m);c=i.stateNode,jv.current=i;var I=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=Os(i,n.child,null,m),i.child=Os(i,null,I,m)):qt(n,i,I,m),i.memoizedState=c.state,f&&qd(i,a,!0),i.child}function Bp(n){var i=n.stateNode;i.pendingContext?jd(n,i.pendingContext,i.pendingContext!==i.context):i.context&&jd(n,i.context,!1),Bc(n,i.containerInfo)}function zp(n,i,a,c,f){return Ls(),Vc(f),i.flags|=256,qt(n,i,a,c),i.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function sh(n){return{baseLanes:n,cachePool:null,transitions:null}}function jp(n,i,a){var c=i.pendingProps,f=et.current,m=!1,_=(i.flags&128)!==0,I;if((I=_)||(I=n!==null&&n.memoizedState===null?!1:(f&2)!==0),I?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),We(et,f&1),n===null)return Dc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=c.children,n=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Wl(_,c,0,null),n=Ui(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=sh(a),i.memoizedState=ih,n):oh(i,_));if(f=n.memoizedState,f!==null&&(I=f.dehydrated,I!==null))return $v(n,i,_,c,I,f,a);if(m){m=c.fallback,_=i.mode,f=n.child,I=f.sibling;var D={mode:"hidden",children:c.children};return(_&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=D,i.deletions=null):(c=Jr(f,D),c.subtreeFlags=f.subtreeFlags&14680064),I!==null?m=Jr(I,m):(m=Ui(m,_,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=n.child.memoizedState,_=_===null?sh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,i.memoizedState=ih,c}return m=n.child,n=m.sibling,c=Jr(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function oh(n,i){return i=Wl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Vl(n,i,a,c){return c!==null&&Vc(c),Os(i,n.child,null,a),n=oh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function $v(n,i,a,c,f,m,_){if(a)return i.flags&256?(i.flags&=-257,c=eh(Error(t(422))),Vl(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=Wl({mode:"visible",children:c.children},f,0,null),m=Ui(m,f,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&Os(i,n.child,null,_),i.child.memoizedState=sh(_),i.memoizedState=ih,m);if((i.mode&1)===0)return Vl(n,i,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(t(419)),c=eh(m,c,void 0),Vl(n,i,_,c)}if(I=(_&n.childLanes)!==0,Xt||I){if(c=Rt,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|_))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,wr(n,f),Fn(c,n,f,-1))}return Th(),c=eh(Error(t(421))),Vl(n,i,_,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=n_.bind(null,n),f._reactRetry=i,null):(n=m.treeContext,ln=zr(f.nextSibling),an=i,Ye=!0,Vn=null,n!==null&&(mn[gn++]=_r,mn[gn++]=Er,mn[gn++]=xi,_r=n.id,Er=n.overflow,xi=i),i=oh(i,c.children),i.flags|=4096,i)}function $p(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Fc(n.return,i,a)}function ah(n,i,a,c,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function qp(n,i,a){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(qt(n,i,c.children,a),c=et.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$p(n,a,i);else if(n.tag===19)$p(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(We(et,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Cl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),ah(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Cl(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}ah(i,!0,a,null,m);break;case"together":ah(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ll(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Sr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Oi|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=Jr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Jr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function qv(n,i,a){switch(i.tag){case 3:Bp(i),Ls();break;case 5:ip(i);break;case 1:Gt(i.type)&&gl(i);break;case 4:Bc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;We(Tl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(We(et,et.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?jp(n,i,a):(We(et,et.current&1),n=Sr(n,i,a),n!==null?n.sibling:null);We(et,et.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return qp(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),We(et,et.current),c)break;return null;case 22:case 23:return i.lanes=0,Fp(n,i,a)}return Sr(n,i,a)}var Hp,lh,Wp,Kp;Hp=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},lh=function(){},Wp=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,Vi(Xn.current);var m=null;switch(a){case"input":f=fi(n,f),c=fi(n,c),m=[];break;case"select":f=oe({},f,{value:void 0}),c=oe({},c,{value:void 0}),m=[];break;case"textarea":f=mo(n,f),c=mo(n,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=dl)}wo(a,c);var _;a=null;for(j in f)if(!c.hasOwnProperty(j)&&f.hasOwnProperty(j)&&f[j]!=null)if(j==="style"){var I=f[j];for(_ in I)I.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?m||(m=[]):(m=m||[]).push(j,null));for(j in c){var D=c[j];if(I=f!=null?f[j]:void 0,c.hasOwnProperty(j)&&D!==I&&(D!=null||I!=null))if(j==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||D&&D.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in D)D.hasOwnProperty(_)&&I[_]!==D[_]&&(a||(a={}),a[_]=D[_])}else a||(m||(m=[]),m.push(j,a)),a=D;else j==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,I=I?I.__html:void 0,D!=null&&I!==D&&(m=m||[]).push(j,D)):j==="children"?typeof D!="string"&&typeof D!="number"||(m=m||[]).push(j,""+D):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(o.hasOwnProperty(j)?(D!=null&&j==="onScroll"&&Ke("scroll",n),m||I===D||(m=[])):(m=m||[]).push(j,D))}a&&(m=m||[]).push("style",a);var j=m;(i.updateQueue=j)&&(i.flags|=4)}},Kp=function(n,i,a,c){a!==c&&(i.flags|=4)};function ta(n,i){if(!Ye)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Mt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function Hv(n,i,a){var c=i.pendingProps;switch(xc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(i),null;case 1:return Gt(i.type)&&ml(),Mt(i),null;case 3:return c=i.stateNode,bs(),Qe(Qt),Qe(Lt),$c(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(El(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vn!==null&&(_h(Vn),Vn=null))),lh(n,i),Mt(i),null;case 5:zc(i);var f=Vi(Xo.current);if(a=i.type,n!==null&&i.stateNode!=null)Wp(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Mt(i),null}if(n=Vi(Xn.current),El(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Gn]=i,c[Ho]=m,n=(i.mode&1)!==0,a){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(f=0;f<jo.length;f++)Ke(jo[f],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":Zi(c,m),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ke("invalid",c);break;case"textarea":ts(c,m),Ke("invalid",c)}wo(a,m),f=null;for(var _ in m)if(m.hasOwnProperty(_)){var I=m[_];_==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&fl(c.textContent,I,n),f=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&fl(c.textContent,I,n),f=["children",""+I]):o.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&Ke("scroll",c)}switch(a){case"input":ar(c),ba(c,m,!0);break;case"textarea":ar(c),go(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=dl)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ft(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Gn]=i,n[Ho]=c,Hp(n,i,!1,!1),i.stateNode=n;e:{switch(_=To(a,c),a){case"dialog":Ke("cancel",n),Ke("close",n),f=c;break;case"iframe":case"object":case"embed":Ke("load",n),f=c;break;case"video":case"audio":for(f=0;f<jo.length;f++)Ke(jo[f],n);f=c;break;case"source":Ke("error",n),f=c;break;case"img":case"image":case"link":Ke("error",n),Ke("load",n),f=c;break;case"details":Ke("toggle",n),f=c;break;case"input":Zi(n,c),f=fi(n,c),Ke("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=oe({},c,{value:void 0}),Ke("invalid",n);break;case"textarea":ts(n,c),f=mo(n,c),Ke("invalid",n);break;default:f=c}wo(a,f),I=f;for(m in I)if(I.hasOwnProperty(m)){var D=I[m];m==="style"?_o(n,D):m==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&yo(n,D)):m==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&xr(n,D):typeof D=="number"&&xr(n,""+D):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?D!=null&&m==="onScroll"&&Ke("scroll",n):D!=null&&ee(n,m,D,_))}switch(a){case"input":ar(n),ba(n,c,!1);break;case"textarea":ar(n),go(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ue(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?ur(n,!!c.multiple,m,!1):c.defaultValue!=null&&ur(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=dl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Mt(i),null;case 6:if(n&&i.stateNode!=null)Kp(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Vi(Xo.current),Vi(Xn.current),El(i)){if(c=i.stateNode,a=i.memoizedProps,c[Gn]=i,(m=c.nodeValue!==a)&&(n=an,n!==null))switch(n.tag){case 3:fl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fl(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Gn]=i,i.stateNode=c}return Mt(i),null;case 13:if(Qe(et),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ye&&ln!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Xd(),Ls(),i.flags|=98560,m=!1;else if(m=El(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Gn]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Mt(i),m=!1}else Vn!==null&&(_h(Vn),Vn=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(et.current&1)!==0?gt===0&&(gt=3):Th())),i.updateQueue!==null&&(i.flags|=4),Mt(i),null);case 4:return bs(),lh(n,i),n===null&&$o(i.stateNode.containerInfo),Mt(i),null;case 10:return Mc(i.type._context),Mt(i),null;case 17:return Gt(i.type)&&ml(),Mt(i),null;case 19:if(Qe(et),m=i.memoizedState,m===null)return Mt(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)ta(m,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(_=Cl(n),_!==null){for(i.flags|=128,ta(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return We(et,et.current&1|2),i.child}n=n.sibling}m.tail!==null&&He()>js&&(i.flags|=128,c=!0,ta(m,!1),i.lanes=4194304)}else{if(!c)if(n=Cl(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ta(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Ye)return Mt(i),null}else 2*He()-m.renderingStartTime>js&&a!==1073741824&&(i.flags|=128,c=!0,ta(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(a=m.last,a!==null?a.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=He(),i.sibling=null,a=et.current,We(et,c?a&1|2:a&1),i):(Mt(i),null);case 22:case 23:return wh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(un&1073741824)!==0&&(Mt(i),i.subtreeFlags&6&&(i.flags|=8192)):Mt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Wv(n,i){switch(xc(i),i.tag){case 1:return Gt(i.type)&&ml(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return bs(),Qe(Qt),Qe(Lt),$c(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return zc(i),null;case 13:if(Qe(et),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ls()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Qe(et),null;case 4:return bs(),null;case 10:return Mc(i.type._context),null;case 22:case 23:return wh(),null;case 24:return null;default:return null}}var Ol=!1,Ft=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Bs(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){rt(n,i,c)}else a.current=null}function uh(n,i,a){try{a()}catch(c){rt(n,i,c)}}var Qp=!1;function Qv(n,i){if(wc=br,n=Cd(),dc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,I=-1,D=-1,j=0,Y=0,Z=n,X=null;t:for(;;){for(var se;Z!==a||f!==0&&Z.nodeType!==3||(I=_+f),Z!==m||c!==0&&Z.nodeType!==3||(D=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(se=Z.firstChild)!==null;)X=Z,Z=se;for(;;){if(Z===n)break t;if(X===a&&++j===f&&(I=_),X===m&&++Y===c&&(D=_),(se=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=se}a=I===-1||D===-1?null:{start:I,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tc={focusedElem:n,selectionRange:a},br=!1,ue=i;ue!==null;)if(i=ue,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ue=n;else for(;ue!==null;){i=ue;try{var ce=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,st=ce.memoizedState,B=i.stateNode,V=B.getSnapshotBeforeUpdate(i.elementType===i.type?he:Ln(i.type,he),st);B.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){rt(i,i.return,te)}if(n=i.sibling,n!==null){n.return=i.return,ue=n;break}ue=i.return}return ce=Qp,Qp=!1,ce}function na(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var m=f.destroy;f.destroy=void 0,m!==void 0&&uh(i,a,m)}f=f.next}while(f!==c)}}function Ml(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function ch(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Gp(n){var i=n.alternate;i!==null&&(n.alternate=null,Gp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Gn],delete i[Ho],delete i[Cc],delete i[xv],delete i[Nv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Xp(n){return n.tag===5||n.tag===3||n.tag===4}function Yp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Xp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=dl));else if(c!==4&&(n=n.child,n!==null))for(hh(n,i,a),n=n.sibling;n!==null;)hh(n,i,a),n=n.sibling}function fh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(fh(n,i,a),n=n.sibling;n!==null;)fh(n,i,a),n=n.sibling}var kt=null,On=!1;function Kr(n,i,a){for(a=a.child;a!==null;)Jp(n,i,a),a=a.sibling}function Jp(n,i,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(wi,a)}catch{}switch(a.tag){case 5:Ft||Bs(a,i);case 6:var c=kt,f=On;kt=null,Kr(n,i,a),kt=c,On=f,kt!==null&&(On?(n=kt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):kt.removeChild(a.stateNode));break;case 18:kt!==null&&(On?(n=kt,a=a.stateNode,n.nodeType===8?Ic(n.parentNode,a):n.nodeType===1&&Ic(n,a),xn(n)):Ic(kt,a.stateNode));break;case 4:c=kt,f=On,kt=a.stateNode.containerInfo,On=!0,Kr(n,i,a),kt=c,On=f;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&uh(a,i,_),f=f.next}while(f!==c)}Kr(n,i,a);break;case 1:if(!Ft&&(Bs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){rt(a,i,I)}Kr(n,i,a);break;case 21:Kr(n,i,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,Kr(n,i,a),Ft=c):Kr(n,i,a);break;default:Kr(n,i,a)}}function Zp(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Kv),i.forEach(function(c){var f=r_.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Mn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=n,_=i,I=_;e:for(;I!==null;){switch(I.tag){case 5:kt=I.stateNode,On=!1;break e;case 3:kt=I.stateNode.containerInfo,On=!0;break e;case 4:kt=I.stateNode.containerInfo,On=!0;break e}I=I.return}if(kt===null)throw Error(t(160));Jp(m,_,f),kt=null,On=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(j){rt(f,i,j)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)em(i,n),i=i.sibling}function em(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mn(i,n),Jn(n),c&4){try{na(3,n,n.return),Ml(3,n)}catch(he){rt(n,n.return,he)}try{na(5,n,n.return)}catch(he){rt(n,n.return,he)}}break;case 1:Mn(i,n),Jn(n),c&512&&a!==null&&Bs(a,a.return);break;case 5:if(Mn(i,n),Jn(n),c&512&&a!==null&&Bs(a,a.return),n.flags&32){var f=n.stateNode;try{xr(f,"")}catch(he){rt(n,n.return,he)}}if(c&4&&(f=n.stateNode,f!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,I=n.type,D=n.updateQueue;if(n.updateQueue=null,D!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&fo(f,m),To(I,_);var j=To(I,m);for(_=0;_<D.length;_+=2){var Y=D[_],Z=D[_+1];Y==="style"?_o(f,Z):Y==="dangerouslySetInnerHTML"?yo(f,Z):Y==="children"?xr(f,Z):ee(f,Y,Z,j)}switch(I){case"input":po(f,m);break;case"textarea":ns(f,m);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?ur(f,!!m.multiple,se,!1):X!==!!m.multiple&&(m.defaultValue!=null?ur(f,!!m.multiple,m.defaultValue,!0):ur(f,!!m.multiple,m.multiple?[]:"",!1))}f[Ho]=m}catch(he){rt(n,n.return,he)}}break;case 6:if(Mn(i,n),Jn(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,m=n.memoizedProps;try{f.nodeValue=m}catch(he){rt(n,n.return,he)}}break;case 3:if(Mn(i,n),Jn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{xn(i.containerInfo)}catch(he){rt(n,n.return,he)}break;case 4:Mn(i,n),Jn(n);break;case 13:Mn(i,n),Jn(n),f=n.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(mh=He())),c&4&&Zp(n);break;case 22:if(Y=a!==null&&a.memoizedState!==null,n.mode&1?(Ft=(j=Ft)||Y,Mn(i,n),Ft=j):Mn(i,n),Jn(n),c&8192){if(j=n.memoizedState!==null,(n.stateNode.isHidden=j)&&!Y&&(n.mode&1)!==0)for(ue=n,Y=n.child;Y!==null;){for(Z=ue=Y;ue!==null;){switch(X=ue,se=X.child,X.tag){case 0:case 11:case 14:case 15:na(4,X,X.return);break;case 1:Bs(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){c=X,a=X.return;try{i=c,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(he){rt(c,a,he)}}break;case 5:Bs(X,X.return);break;case 22:if(X.memoizedState!==null){rm(Z);continue}}se!==null?(se.return=X,ue=se):rm(Z)}Y=Y.sibling}e:for(Y=null,Z=n;;){if(Z.tag===5){if(Y===null){Y=Z;try{f=Z.stateNode,j?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=Z.stateNode,D=Z.memoizedProps.style,_=D!=null&&D.hasOwnProperty("display")?D.display:null,I.style.display=vo("display",_))}catch(he){rt(n,n.return,he)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=j?"":Z.memoizedProps}catch(he){rt(n,n.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Mn(i,n),Jn(n),c&4&&Zp(n);break;case 21:break;default:Mn(i,n),Jn(n)}}function Jn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Xp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(xr(f,""),c.flags&=-33);var m=Yp(n);fh(n,m,f);break;case 3:case 4:var _=c.stateNode.containerInfo,I=Yp(n);hh(n,I,_);break;default:throw Error(t(161))}}catch(D){rt(n,n.return,D)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Gv(n,i,a){ue=n,tm(n)}function tm(n,i,a){for(var c=(n.mode&1)!==0;ue!==null;){var f=ue,m=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Ol;if(!_){var I=f.alternate,D=I!==null&&I.memoizedState!==null||Ft;I=Ol;var j=Ft;if(Ol=_,(Ft=D)&&!j)for(ue=f;ue!==null;)_=ue,D=_.child,_.tag===22&&_.memoizedState!==null?im(f):D!==null?(D.return=_,ue=D):im(f);for(;m!==null;)ue=m,tm(m),m=m.sibling;ue=f,Ol=I,Ft=j}nm(n)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,ue=m):nm(n)}}function nm(n){for(;ue!==null;){var i=ue;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ft||Ml(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Ln(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&rp(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}rp(i,_,a)}break;case 5:var I=i.stateNode;if(a===null&&i.flags&4){a=I;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var j=i.alternate;if(j!==null){var Y=j.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&xn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||i.flags&512&&ch(i)}catch(X){rt(i,i.return,X)}}if(i===n){ue=null;break}if(a=i.sibling,a!==null){a.return=i.return,ue=a;break}ue=i.return}}function rm(n){for(;ue!==null;){var i=ue;if(i===n){ue=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ue=a;break}ue=i.return}}function im(n){for(;ue!==null;){var i=ue;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Ml(4,i)}catch(D){rt(i,a,D)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(D){rt(i,f,D)}}var m=i.return;try{ch(i)}catch(D){rt(i,m,D)}break;case 5:var _=i.return;try{ch(i)}catch(D){rt(i,_,D)}}}catch(D){rt(i,i.return,D)}if(i===n){ue=null;break}var I=i.sibling;if(I!==null){I.return=i.return,ue=I;break}ue=i.return}}var Xv=Math.ceil,Fl=le.ReactCurrentDispatcher,dh=le.ReactCurrentOwner,_n=le.ReactCurrentBatchConfig,Me=0,Rt=null,ut=null,xt=0,un=0,zs=jr(0),gt=0,ra=null,Oi=0,bl=0,ph=0,ia=null,Yt=null,mh=0,js=1/0,Rr=null,Ul=!1,gh=null,Qr=null,Bl=!1,Gr=null,zl=0,sa=0,yh=null,jl=-1,$l=0;function Ht(){return(Me&6)!==0?He():jl!==-1?jl:jl=He()}function Xr(n){return(n.mode&1)===0?1:(Me&2)!==0&&xt!==0?xt&-xt:Vv.transition!==null?($l===0&&($l=Si()),$l):(n=xe,n!==0||(n=window.event,n=n===void 0?16:Vo(n.type)),n)}function Fn(n,i,a,c){if(50<sa)throw sa=0,yh=null,Error(t(185));Lr(n,a,c),((Me&2)===0||n!==Rt)&&(n===Rt&&((Me&2)===0&&(bl|=a),gt===4&&Yr(n,xt)),Jt(n,c),a===1&&Me===0&&(i.mode&1)===0&&(js=He()+500,yl&&qr()))}function Jt(n,i){var a=n.callbackNode;fr(n,i);var c=Ti(n,n===Rt?xt:0);if(c===0)a!==null&&Po(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Po(a),i===1)n.tag===0?Dv(om.bind(null,n)):Hd(om.bind(null,n)),Pv(function(){(Me&6)===0&&qr()}),a=null;else{switch(Mr(c)){case 1:a=Ei;break;case 4:a=Nr;break;case 16:a=fn;break;case 536870912:a=$a;break;default:a=fn}a=pm(a,sm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function sm(n,i){if(jl=-1,$l=0,(Me&6)!==0)throw Error(t(327));var a=n.callbackNode;if($s()&&n.callbackNode!==a)return null;var c=Ti(n,n===Rt?xt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=ql(n,c);else{i=c;var f=Me;Me|=2;var m=lm();(Rt!==n||xt!==i)&&(Rr=null,js=He()+500,Fi(n,i));do try{Zv();break}catch(I){am(n,I)}while(!0);Oc(),Fl.current=m,Me=f,ut!==null?i=0:(Rt=null,xt=0,i=gt)}if(i!==0){if(i===2&&(f=rn(n),f!==0&&(c=f,i=vh(n,f))),i===1)throw a=ra,Fi(n,0),Yr(n,c),Jt(n,He()),a;if(i===6)Yr(n,c);else{if(f=n.current.alternate,(c&30)===0&&!Yv(f)&&(i=ql(n,c),i===2&&(m=rn(n),m!==0&&(c=m,i=vh(n,m))),i===1))throw a=ra,Fi(n,0),Yr(n,c),Jt(n,He()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:bi(n,Yt,Rr);break;case 3:if(Yr(n,c),(c&130023424)===c&&(i=mh+500-He(),10<i)){if(Ti(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Ht(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Rc(bi.bind(null,n,Yt,Rr),i);break}bi(n,Yt,Rr);break;case 4:if(Yr(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var _=31-jt(c);m=1<<_,_=i[_],_>f&&(f=_),c&=~m}if(c=f,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Xv(c/1960))-c,10<c){n.timeoutHandle=Rc(bi.bind(null,n,Yt,Rr),c);break}bi(n,Yt,Rr);break;case 5:bi(n,Yt,Rr);break;default:throw Error(t(329))}}}return Jt(n,He()),n.callbackNode===a?sm.bind(null,n):null}function vh(n,i){var a=ia;return n.current.memoizedState.isDehydrated&&(Fi(n,i).flags|=256),n=ql(n,i),n!==2&&(i=Yt,Yt=a,i!==null&&_h(i)),n}function _h(n){Yt===null?Yt=n:Yt.push.apply(Yt,n)}function Yv(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!Dn(m(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yr(n,i){for(i&=~ph,i&=~bl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-jt(i),c=1<<a;n[a]=-1,i&=~c}}function om(n){if((Me&6)!==0)throw Error(t(327));$s();var i=Ti(n,0);if((i&1)===0)return Jt(n,He()),null;var a=ql(n,i);if(n.tag!==0&&a===2){var c=rn(n);c!==0&&(i=c,a=vh(n,c))}if(a===1)throw a=ra,Fi(n,0),Yr(n,i),Jt(n,He()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,bi(n,Yt,Rr),Jt(n,He()),null}function Eh(n,i){var a=Me;Me|=1;try{return n(i)}finally{Me=a,Me===0&&(js=He()+500,yl&&qr())}}function Mi(n){Gr!==null&&Gr.tag===0&&(Me&6)===0&&$s();var i=Me;Me|=1;var a=_n.transition,c=xe;try{if(_n.transition=null,xe=1,n)return n()}finally{xe=c,_n.transition=a,Me=i,(Me&6)===0&&qr()}}function wh(){un=zs.current,Qe(zs)}function Fi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Av(a)),ut!==null)for(a=ut.return;a!==null;){var c=a;switch(xc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ml();break;case 3:bs(),Qe(Qt),Qe(Lt),$c();break;case 5:zc(c);break;case 4:bs();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:Mc(c.type._context);break;case 22:case 23:wh()}a=a.return}if(Rt=n,ut=n=Jr(n.current,null),xt=un=i,gt=0,ra=null,ph=bl=Oi=0,Yt=ia=null,Di!==null){for(i=0;i<Di.length;i++)if(a=Di[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=f,c.next=_}a.pending=c}Di=null}return n}function am(n,i){do{var a=ut;try{if(Oc(),Al.current=Nl,Pl){for(var c=tt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Pl=!1}if(Li=0,St=mt=tt=null,Yo=!1,Jo=0,dh.current=null,a===null||a.return===null){gt=1,ra=i,ut=null;break}e:{var m=n,_=a.return,I=a,D=i;if(i=xt,I.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var j=D,Y=I,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var se=Dp(_);if(se!==null){se.flags&=-257,Vp(se,_,I,m,i),se.mode&1&&Np(m,j,i),i=se,D=j;var ce=i.updateQueue;if(ce===null){var he=new Set;he.add(D),i.updateQueue=he}else ce.add(D);break e}else{if((i&1)===0){Np(m,j,i),Th();break e}D=Error(t(426))}}else if(Ye&&I.mode&1){var st=Dp(_);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Vp(st,_,I,m,i),Vc(Us(D,I));break e}}m=D=Us(D,I),gt!==4&&(gt=2),ia===null?ia=[m]:ia.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var B=kp(m,D,i);np(m,B);break e;case 1:I=D;var V=m.type,z=m.stateNode;if((m.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Qr===null||!Qr.has(z)))){m.flags|=65536,i&=-i,m.lanes|=i;var te=xp(m,I,i);np(m,te);break e}}m=m.return}while(m!==null)}cm(a)}catch(fe){i=fe,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function lm(){var n=Fl.current;return Fl.current=Nl,n===null?Nl:n}function Th(){(gt===0||gt===3||gt===2)&&(gt=4),Rt===null||(Oi&268435455)===0&&(bl&268435455)===0||Yr(Rt,xt)}function ql(n,i){var a=Me;Me|=2;var c=lm();(Rt!==n||xt!==i)&&(Rr=null,Fi(n,i));do try{Jv();break}catch(f){am(n,f)}while(!0);if(Oc(),Me=a,Fl.current=c,ut!==null)throw Error(t(261));return Rt=null,xt=0,gt}function Jv(){for(;ut!==null;)um(ut)}function Zv(){for(;ut!==null&&!za();)um(ut)}function um(n){var i=dm(n.alternate,n,un);n.memoizedProps=n.pendingProps,i===null?cm(n):ut=i,dh.current=null}function cm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=Hv(a,i,un),a!==null){ut=a;return}}else{if(a=Wv(a,i),a!==null){a.flags&=32767,ut=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{gt=6,ut=null;return}}if(i=i.sibling,i!==null){ut=i;return}ut=i=n}while(i!==null);gt===0&&(gt=5)}function bi(n,i,a){var c=xe,f=_n.transition;try{_n.transition=null,xe=1,e_(n,i,a,c)}finally{_n.transition=f,xe=c}return null}function e_(n,i,a,c){do $s();while(Gr!==null);if((Me&6)!==0)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if($e(n,m),n===Rt&&(ut=Rt=null,xt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Bl||(Bl=!0,pm(fn,function(){return $s(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=_n.transition,_n.transition=null;var _=xe;xe=1;var I=Me;Me|=4,dh.current=null,Qv(n,a),em(a,n),Ev(Tc),br=!!wc,Tc=wc=null,n.current=a,Gv(a),sc(),Me=I,xe=_,_n.transition=m}else n.current=a;if(Bl&&(Bl=!1,Gr=n,zl=f),m=n.pendingLanes,m===0&&(Qr=null),qa(a.stateNode),Jt(n,He()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ul)throw Ul=!1,n=gh,gh=null,n;return(zl&1)!==0&&n.tag!==0&&$s(),m=n.pendingLanes,(m&1)!==0?n===yh?sa++:(sa=0,yh=n):sa=0,qr(),null}function $s(){if(Gr!==null){var n=Mr(zl),i=_n.transition,a=xe;try{if(_n.transition=null,xe=16>n?16:n,Gr===null)var c=!1;else{if(n=Gr,Gr=null,zl=0,(Me&6)!==0)throw Error(t(331));var f=Me;for(Me|=4,ue=n.current;ue!==null;){var m=ue,_=m.child;if((ue.flags&16)!==0){var I=m.deletions;if(I!==null){for(var D=0;D<I.length;D++){var j=I[D];for(ue=j;ue!==null;){var Y=ue;switch(Y.tag){case 0:case 11:case 15:na(8,Y,m)}var Z=Y.child;if(Z!==null)Z.return=Y,ue=Z;else for(;ue!==null;){Y=ue;var X=Y.sibling,se=Y.return;if(Gp(Y),Y===j){ue=null;break}if(X!==null){X.return=se,ue=X;break}ue=se}}}var ce=m.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var st=he.sibling;he.sibling=null,he=st}while(he!==null)}}ue=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,ue=_;else e:for(;ue!==null;){if(m=ue,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:na(9,m,m.return)}var B=m.sibling;if(B!==null){B.return=m.return,ue=B;break e}ue=m.return}}var V=n.current;for(ue=V;ue!==null;){_=ue;var z=_.child;if((_.subtreeFlags&2064)!==0&&z!==null)z.return=_,ue=z;else e:for(_=V;ue!==null;){if(I=ue,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Ml(9,I)}}catch(fe){rt(I,I.return,fe)}if(I===_){ue=null;break e}var te=I.sibling;if(te!==null){te.return=I.return,ue=te;break e}ue=I.return}}if(Me=f,qr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(wi,n)}catch{}c=!0}return c}finally{xe=a,_n.transition=i}}return!1}function hm(n,i,a){i=Us(a,i),i=kp(n,i,1),n=Wr(n,i,1),i=Ht(),n!==null&&(Lr(n,1,i),Jt(n,i))}function rt(n,i,a){if(n.tag===3)hm(n,n,a);else for(;i!==null;){if(i.tag===3){hm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Qr===null||!Qr.has(c))){n=Us(a,n),n=xp(i,n,1),i=Wr(i,n,1),n=Ht(),i!==null&&(Lr(i,1,n),Jt(i,n));break}}i=i.return}}function t_(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Ht(),n.pingedLanes|=n.suspendedLanes&a,Rt===n&&(xt&a)===a&&(gt===4||gt===3&&(xt&130023424)===xt&&500>He()-mh?Fi(n,0):ph|=a),Jt(n,i)}function fm(n,i){i===0&&((n.mode&1)===0?i=1:(i=fs,fs<<=1,(fs&130023424)===0&&(fs=4194304)));var a=Ht();n=wr(n,i),n!==null&&(Lr(n,i,a),Jt(n,a))}function n_(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),fm(n,a)}function r_(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),fm(n,a)}var dm;dm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Qt.current)Xt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Xt=!1,qv(n,i,a);Xt=(n.flags&131072)!==0}else Xt=!1,Ye&&(i.flags&1048576)!==0&&Wd(i,_l,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Ll(n,i),n=i.pendingProps;var f=Ns(i,Lt.current);Fs(i,a),f=Wc(null,i,c,n,f,a);var m=Kc();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Gt(c)?(m=!0,gl(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Uc(i),f.updater=Dl,i.stateNode=f,f._reactInternals=i,Zc(i,c,n,a),i=rh(null,i,c,!0,m,a)):(i.tag=0,Ye&&m&&kc(i),qt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Ll(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=s_(c),n=Ln(c,n),f){case 0:i=nh(null,i,c,n,a);break e;case 1:i=Up(null,i,c,n,a);break e;case 11:i=Lp(null,i,c,n,a);break e;case 14:i=Op(null,i,c,Ln(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Ln(c,f),nh(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Ln(c,f),Up(n,i,c,f,a);case 3:e:{if(Bp(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,f=m.element,tp(n,i),Il(i,c,null,a);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=Us(Error(t(423)),i),i=zp(n,i,c,a,f);break e}else if(c!==f){f=Us(Error(t(424)),i),i=zp(n,i,c,a,f);break e}else for(ln=zr(i.stateNode.containerInfo.firstChild),an=i,Ye=!0,Vn=null,a=Zd(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ls(),c===f){i=Sr(n,i,a);break e}qt(n,i,c,a)}i=i.child}return i;case 5:return ip(i),n===null&&Dc(i),c=i.type,f=i.pendingProps,m=n!==null?n.memoizedProps:null,_=f.children,Sc(c,f)?_=null:m!==null&&Sc(c,m)&&(i.flags|=32),bp(n,i),qt(n,i,_,a),i.child;case 6:return n===null&&Dc(i),null;case 13:return jp(n,i,a);case 4:return Bc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Os(i,null,c,a):qt(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Ln(c,f),Lp(n,i,c,f,a);case 7:return qt(n,i,i.pendingProps,a),i.child;case 8:return qt(n,i,i.pendingProps.children,a),i.child;case 12:return qt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,_=f.value,We(Tl,c._currentValue),c._currentValue=_,m!==null)if(Dn(m.value,_)){if(m.children===f.children&&!Qt.current){i=Sr(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var I=m.dependencies;if(I!==null){_=m.child;for(var D=I.firstContext;D!==null;){if(D.context===c){if(m.tag===1){D=Tr(-1,a&-a),D.tag=2;var j=m.updateQueue;if(j!==null){j=j.shared;var Y=j.pending;Y===null?D.next=D:(D.next=Y.next,Y.next=D),j.pending=D}}m.lanes|=a,D=m.alternate,D!==null&&(D.lanes|=a),Fc(m.return,a,i),I.lanes|=a;break}D=D.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,I=_.alternate,I!==null&&(I.lanes|=a),Fc(_,a,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}qt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Fs(i,a),f=yn(f),c=c(f),i.flags|=1,qt(n,i,c,a),i.child;case 14:return c=i.type,f=Ln(c,i.pendingProps),f=Ln(c.type,f),Op(n,i,c,f,a);case 15:return Mp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Ln(c,f),Ll(n,i),i.tag=1,Gt(c)?(n=!0,gl(i)):n=!1,Fs(i,a),Ap(i,c,f),Zc(i,c,f,a),rh(null,i,c,!0,n,a);case 19:return qp(n,i,a);case 22:return Fp(n,i,a)}throw Error(t(156,i.tag))};function pm(n,i){return cs(n,i)}function i_(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,i,a,c){return new i_(n,i,a,c)}function Sh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function s_(n){if(typeof n=="function")return Sh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===ht)return 14}return 2}function Jr(n,i){var a=n.alternate;return a===null?(a=En(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Hl(n,i,a,c,f,m){var _=2;if(c=n,typeof n=="function")Sh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case P:return Ui(a.children,f,m,i);case S:_=8,f|=8;break;case C:return n=En(12,a,i,f|2),n.elementType=C,n.lanes=m,n;case A:return n=En(13,a,i,f),n.elementType=A,n.lanes=m,n;case Ge:return n=En(19,a,i,f),n.elementType=Ge,n.lanes=m,n;case Be:return Wl(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:_=10;break e;case L:_=9;break e;case M:_=11;break e;case ht:_=14;break e;case Et:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=En(_,a,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function Ui(n,i,a,c){return n=En(7,n,c,i),n.lanes=a,n}function Wl(n,i,a,c){return n=En(22,n,c,i),n.elementType=Be,n.lanes=a,n.stateNode={isHidden:!1},n}function Rh(n,i,a){return n=En(6,n,null,i),n.lanes=a,n}function Ih(n,i,a){return i=En(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function o_(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vr(0),this.expirationTimes=Vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ch(n,i,a,c,f,m,_,I,D){return n=new o_(n,i,a,I,D),i===1?(i=1,m===!0&&(i|=8)):i=0,m=En(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uc(m),n}function a_(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function mm(n){if(!n)return $r;n=n._reactInternals;e:{if(In(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Gt(a))return $d(n,a,i)}return i}function gm(n,i,a,c,f,m,_,I,D){return n=Ch(a,c,!0,n,f,m,_,I,D),n.context=mm(null),a=n.current,c=Ht(),f=Xr(a),m=Tr(c,f),m.callback=i??null,Wr(a,m,f),n.current.lanes=f,Lr(n,f,c),Jt(n,c),n}function Kl(n,i,a,c){var f=i.current,m=Ht(),_=Xr(f);return a=mm(a),i.context===null?i.context=a:i.pendingContext=a,i=Tr(m,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Wr(f,i,_),n!==null&&(Fn(n,f,_,m),Rl(n,f,_)),_}function Ql(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ym(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Ah(n,i){ym(n,i),(n=n.alternate)&&ym(n,i)}function l_(){return null}var vm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ph(n){this._internalRoot=n}Gl.prototype.render=Ph.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Kl(n,i,null,null)},Gl.prototype.unmount=Ph.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Mi(function(){Kl(null,n,null,null)}),i[yr]=null}};function Gl(n){this._internalRoot=n}Gl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ga();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Hn.length&&i!==0&&i<Hn[a].priority;a++);Hn.splice(a,0,n),a===0&&Ja(n)}};function kh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Xl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function _m(){}function u_(n,i,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var j=Ql(_);m.call(j)}}var _=gm(i,c,n,0,null,!1,!1,"",_m);return n._reactRootContainer=_,n[yr]=_.current,$o(n.nodeType===8?n.parentNode:n),Mi(),_}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var I=c;c=function(){var j=Ql(D);I.call(j)}}var D=Ch(n,0,!1,null,null,!1,!1,"",_m);return n._reactRootContainer=D,n[yr]=D.current,$o(n.nodeType===8?n.parentNode:n),Mi(function(){Kl(i,D,a,c)}),D}function Yl(n,i,a,c,f){var m=a._reactRootContainer;if(m){var _=m;if(typeof f=="function"){var I=f;f=function(){var D=Ql(_);I.call(D)}}Kl(i,_,n,f)}else _=u_(a,i,n,f,c);return Ql(_)}Ka=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Dr(i.pendingLanes);a!==0&&(Or(i,a|1),Jt(i,He()),(Me&6)===0&&(js=He()+500,qr()))}break;case 13:Mi(function(){var c=wr(n,1);if(c!==null){var f=Ht();Fn(c,n,1,f)}}),Ah(n,1)}},ds=function(n){if(n.tag===13){var i=wr(n,134217728);if(i!==null){var a=Ht();Fn(i,n,134217728,a)}Ah(n,134217728)}},Qa=function(n){if(n.tag===13){var i=Xr(n),a=wr(n,i);if(a!==null){var c=Ht();Fn(a,n,i,c)}Ah(n,i)}},Ga=function(){return xe},Xa=function(n,i){var a=xe;try{return xe=n,i()}finally{xe=a}},is=function(n,i,a){switch(i){case"input":if(po(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=pl(c);if(!f)throw Error(t(90));Ji(c),po(c,f)}}}break;case"textarea":ns(n,a);break;case"select":i=a.value,i!=null&&ur(n,!!a.multiple,i,!1)}},gi=Eh,Ro=Mi;var c_={usingClientEntryPoint:!1,Events:[Wo,ks,pl,$n,So,Eh]},oa={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h_={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ao(n),n===null?null:n.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||l_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{wi=Jl.inject(h_),nn=Jl}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c_,Zt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kh(i))throw Error(t(200));return a_(n,i,null,a)},Zt.createRoot=function(n,i){if(!kh(n))throw Error(t(299));var a=!1,c="",f=vm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Ch(n,1,!1,null,null,a,!1,c,f),n[yr]=i.current,$o(n.nodeType===8?n.parentNode:n),new Ph(i)},Zt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Ao(i),n=n===null?null:n.stateNode,n},Zt.flushSync=function(n){return Mi(n)},Zt.hydrate=function(n,i,a){if(!Xl(i))throw Error(t(200));return Yl(null,n,i,!0,a)},Zt.hydrateRoot=function(n,i,a){if(!kh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",_=vm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=gm(i,null,n,1,a??null,f,!1,m,_),n[yr]=i.current,$o(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Gl(i)},Zt.render=function(n,i,a){if(!Xl(i))throw Error(t(200));return Yl(null,n,i,!1,a)},Zt.unmountComponentAtNode=function(n){if(!Xl(n))throw Error(t(40));return n._reactRootContainer?(Mi(function(){Yl(null,null,n,!1,function(){n._reactRootContainer=null,n[yr]=null})}),!0):!1},Zt.unstable_batchedUpdates=Eh,Zt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Xl(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Yl(n,i,a,!1,c)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var Am;function E_(){if(Am)return Dh.exports;Am=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dh.exports=__(),Dh.exports}var Pm;function w_(){if(Pm)return Zl;Pm=1;var r=E_();return Zl.createRoot=r.createRoot,Zl.hydrateRoot=r.hydrateRoot,Zl}var T_=w_(),la={},km;function S_(){if(km)return la;km=1,Object.defineProperty(la,"__esModule",{value:!0}),la.parse=h,la.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,O){const k=new l,F=R.length;if(F<2)return k;const N=(O==null?void 0:O.decode)||E;let q=0;do{const K=R.indexOf("=",q);if(K===-1)break;const ee=R.indexOf(";",q),le=ee===-1?F:ee;if(K>le){q=R.lastIndexOf(";",K-1)+1;continue}const ge=d(R,q,K),Ee=g(R,K,ge),P=R.slice(ge,Ee);if(k[P]===void 0){let S=d(R,K+1,le),C=g(R,le,S);const x=N(R.slice(S,C));k[P]=x}q=le+1}while(q<F);return k}function d(R,O,k){do{const F=R.charCodeAt(O);if(F!==32&&F!==9)return O}while(++O<k);return k}function g(R,O,k){for(;O>k;){const F=R.charCodeAt(--O);if(F!==32&&F!==9)return O+1}return k}function y(R,O,k){const F=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const N=F(O);if(!e.test(N))throw new TypeError(`argument val is invalid: ${O}`);let q=R+"="+N;if(!k)return q;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);q+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);q+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);q+="; Path="+k.path}if(k.expires){if(!T(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);q+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(q+="; HttpOnly"),k.secure&&(q+="; Secure"),k.partitioned&&(q+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return q}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function T(R){return o.call(R)==="[object Date]"}return la}S_();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xm="popstate";function R_(r={}){function e(o,l){let{pathname:h="/",search:d="",hash:g=""}=Ki(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Yh("",{pathname:h,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");d=y===-1?g:g.slice(0,y)}return d+"#"+(typeof l=="string"?l:va(l))}function s(o,l){Tn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return C_(e,t,s,r)}function Ze(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Tn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I_(){return Math.random().toString(36).substring(2,10)}function Nm(r,e){return{usr:r.state,key:r.key,idx:e}}function Yh(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ki(e):e,state:t,key:e&&e.key||s||I_()}}function va({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ki(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function C_(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let N=E(),q=N==null?null:N-y;y=N,g&&g({action:d,location:F.location,delta:q})}function R(N,q){d="PUSH";let K=Yh(F.location,N,q);t&&t(K,N),y=E()+1;let ee=Nm(K,y),le=F.createHref(K);try{h.pushState(ee,"",le)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(le)}l&&g&&g({action:d,location:F.location,delta:1})}function O(N,q){d="REPLACE";let K=Yh(F.location,N,q);t&&t(K,N),y=E();let ee=Nm(K,y),le=F.createHref(K);h.replaceState(ee,"",le),l&&g&&g({action:d,location:F.location,delta:0})}function k(N){let q=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof N=="string"?N:va(N);return K=K.replace(/ $/,"%20"),Ze(q,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,q)}let F={get action(){return d},get location(){return r(o,h)},listen(N){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(xm,T),g=N,()=>{o.removeEventListener(xm,T),g=null}},createHref(N){return e(o,N)},createURL:k,encodeLocation(N){let q=k(N);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:R,replace:O,go(N){return h.go(N)}};return F}function Wg(r,e,t="/"){return A_(r,e,t,!1)}function A_(r,e,t,s){let o=typeof e=="string"?Ki(e):e,l=si(o.pathname||"/",t);if(l==null)return null;let h=Kg(r);P_(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let y=U_(l);d=F_(h[g],y,s)}return d}function Kg(r,e=[],t=[],s=""){let o=(l,h,d)=>{let g={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(Ze(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Ir([s,g.relativePath]),E=t.concat(g);l.children&&l.children.length>0&&(Ze(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Kg(l.children,e,E,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:O_(y,l.index),routesMeta:E})};return r.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let g of Qg(l.path))o(l,h,g)}),e}function Qg(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=Qg(s.join("/")),d=[];return d.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&d.push(...h),d.map(g=>r.startsWith("/")&&g===""?"/":g)}function P_(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:M_(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var k_=/^:[\w-]+$/,x_=3,N_=2,D_=1,V_=10,L_=-2,Dm=r=>r==="*";function O_(r,e){let t=r.split("/"),s=t.length;return t.some(Dm)&&(s+=L_),e&&(s+=N_),t.filter(o=>!Dm(o)).reduce((o,l)=>o+(k_.test(l)?x_:l===""?D_:V_),s)}function M_(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function F_(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],y=d===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",T=_u({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!T&&y&&t&&!s[s.length-1].route.index&&(T=_u({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Ir([l,T.pathname]),pathnameBase:$_(Ir([l,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(l=Ir([l,T.pathnameBase]))}return h}function _u(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=b_(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},R)=>{if(E==="*"){let k=d[R]||"";h=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const O=d[R];return T&&!O?y[E]=void 0:y[E]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function b_(r,e=!1,t=!0){Tn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function U_(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tn(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function si(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function B_(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Ki(r):r;return{pathname:t?t.startsWith("/")?t:z_(t,e):e,search:q_(s),hash:H_(o)}}function z_(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Oh(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j_(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Pf(r){let e=j_(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function kf(r,e,t,s=!1){let o;typeof r=="string"?o=Ki(r):(o={...r},Ze(!o.pathname||!o.pathname.includes("?"),Oh("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Oh("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Oh("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}d=T>=0?e[T]:"/"}let g=B_(o,d),y=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Ir=r=>r.join("/").replace(/\/\/+/g,"/"),$_=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),q_=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,H_=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function W_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Gg=["POST","PUT","PATCH","DELETE"];new Set(Gg);var K_=["GET",...Gg];new Set(K_);var ro=W.createContext(null);ro.displayName="DataRouter";var Ou=W.createContext(null);Ou.displayName="DataRouterState";var Xg=W.createContext({isTransitioning:!1});Xg.displayName="ViewTransition";var Q_=W.createContext(new Map);Q_.displayName="Fetchers";var G_=W.createContext(null);G_.displayName="Await";var Bn=W.createContext(null);Bn.displayName="Navigation";var xa=W.createContext(null);xa.displayName="Location";var or=W.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var xf=W.createContext(null);xf.displayName="RouteError";function X_(r,{relative:e}={}){Ze(io(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=W.useContext(Bn),{hash:o,pathname:l,search:h}=Na(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ir([t,l])),s.createHref({pathname:d,search:h,hash:o})}function io(){return W.useContext(xa)!=null}function hi(){return Ze(io(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(xa).location}var Yg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jg(r){W.useContext(Bn).static||W.useLayoutEffect(r)}function Zg(){let{isDataRoute:r}=W.useContext(or);return r?uE():Y_()}function Y_(){Ze(io(),"useNavigate() may be used only in the context of a <Router> component.");let r=W.useContext(ro),{basename:e,navigator:t}=W.useContext(Bn),{matches:s}=W.useContext(or),{pathname:o}=hi(),l=JSON.stringify(Pf(s)),h=W.useRef(!1);return Jg(()=>{h.current=!0}),W.useCallback((g,y={})=>{if(Tn(h.current,Yg),!h.current)return;if(typeof g=="number"){t.go(g);return}let E=kf(g,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ir([e,E.pathname])),(y.replace?t.replace:t.push)(E,y.state,y)},[e,t,l,o,r])}W.createContext(null);function Na(r,{relative:e}={}){let{matches:t}=W.useContext(or),{pathname:s}=hi(),o=JSON.stringify(Pf(t));return W.useMemo(()=>kf(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function J_(r,e){return ey(r,e)}function ey(r,e,t,s){var q;Ze(io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(Bn),{matches:l}=W.useContext(or),h=l[l.length-1],d=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let K=E&&E.path||"";ty(g,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let T=hi(),R;if(e){let K=typeof e=="string"?Ki(e):e;Ze(y==="/"||((q=K.pathname)==null?void 0:q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${K.pathname}" was given in the \`location\` prop.`),R=K}else R=T;let O=R.pathname||"/",k=O;if(y!=="/"){let K=y.replace(/^\//,"").split("/");k="/"+O.replace(/^\//,"").split("/").slice(K.length).join("/")}let F=Wg(r,{pathname:k});Tn(E||F!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Tn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=rE(F&&F.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:Ir([y,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:Ir([y,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),l,t,s);return e&&N?W.createElement(xa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},N):N}function Z_(){let r=lE(),e=W_(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:l},"ErrorBoundary")," or"," ",W.createElement("code",{style:l},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:o},t):null,h)}var eE=W.createElement(Z_,null),tE=class extends W.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?W.createElement(or.Provider,{value:this.props.routeContext},W.createElement(xf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nE({routeContext:r,match:e,children:t}){let s=W.useContext(ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(or.Provider,{value:r},t)}function rE(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let g=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Ze(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=g),y.route.id){let{loaderData:E,errors:T}=t,R=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||R){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let T,R=!1,O=null,k=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,O=y.route.errorElement||eE,h&&(d<0&&E===0?(ty("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,k=null):d===E&&(R=!0,k=y.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),N=()=>{let q;return T?q=O:R?q=k:y.route.Component?q=W.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=g,W.createElement(nE,{match:y,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?W.createElement(tE,{location:t.location,revalidation:t.revalidation,component:O,error:T,children:N(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):N()},null)}function Nf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iE(r){let e=W.useContext(ro);return Ze(e,Nf(r)),e}function sE(r){let e=W.useContext(Ou);return Ze(e,Nf(r)),e}function oE(r){let e=W.useContext(or);return Ze(e,Nf(r)),e}function Df(r){let e=oE(r),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function aE(){return Df("useRouteId")}function lE(){var s;let r=W.useContext(xf),e=sE("useRouteError"),t=Df("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function uE(){let{router:r}=iE("useNavigate"),e=Df("useNavigate"),t=W.useRef(!1);return Jg(()=>{t.current=!0}),W.useCallback(async(o,l={})=>{Tn(t.current,Yg),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Vm={};function ty(r,e,t){!e&&!Vm[r]&&(Vm[r]=!0,Tn(!1,t))}W.memo(cE);function cE({routes:r,future:e,state:t}){return ey(r,void 0,t,e)}function hE({to:r,replace:e,state:t,relative:s}){Ze(io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=W.useContext(Bn);Tn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=W.useContext(or),{pathname:h}=hi(),d=Zg(),g=kf(r,Pf(l),h,s==="path"),y=JSON.stringify(g);return W.useEffect(()=>{d(JSON.parse(y),{replace:e,state:t,relative:s})},[d,y,s,e,t]),null}function au(r){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fE({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){Ze(!io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Ki(t));let{pathname:g="/",search:y="",hash:E="",state:T=null,key:R="default"}=t,O=W.useMemo(()=>{let k=si(g,h);return k==null?null:{location:{pathname:k,search:y,hash:E,state:T,key:R},navigationType:s}},[h,g,y,E,T,R,s]);return Tn(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:W.createElement(Bn.Provider,{value:d},W.createElement(xa.Provider,{children:e,value:O}))}function dE({children:r,location:e}){return J_(Jh(r),e)}function Jh(r,e=[]){let t=[];return W.Children.forEach(r,(s,o)=>{if(!W.isValidElement(s))return;let l=[...e,o];if(s.type===W.Fragment){t.push.apply(t,Jh(s.props.children,l));return}Ze(s.type===au,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Jh(s.props.children,l)),t.push(h)}),t}var lu="get",uu="application/x-www-form-urlencoded";function Mu(r){return r!=null&&typeof r.tagName=="string"}function pE(r){return Mu(r)&&r.tagName.toLowerCase()==="button"}function mE(r){return Mu(r)&&r.tagName.toLowerCase()==="form"}function gE(r){return Mu(r)&&r.tagName.toLowerCase()==="input"}function yE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vE(r,e){return r.button===0&&(!e||e==="_self")&&!yE(r)}var eu=null;function _E(){if(eu===null)try{new FormData(document.createElement("form"),0),eu=!1}catch{eu=!0}return eu}var EE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mh(r){return r!=null&&!EE.has(r)?(Tn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uu}"`),null):r}function wE(r,e){let t,s,o,l,h;if(mE(r)){let d=r.getAttribute("action");s=d?si(d,e):null,t=r.getAttribute("method")||lu,o=Mh(r.getAttribute("enctype"))||uu,l=new FormData(r)}else if(pE(r)||gE(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||d.getAttribute("action");if(s=g?si(g,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||lu,o=Mh(r.getAttribute("formenctype"))||Mh(d.getAttribute("enctype"))||uu,l=new FormData(d,r),!_E()){let{name:y,type:E,value:T}=r;if(E==="image"){let R=y?`${y}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else y&&l.append(y,T)}}else{if(Mu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lu,s=null,o=uu,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Vf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function TE(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function RE(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await TE(l,t);return h.links?h.links():[]}return[]}));return PE(s.flat(1).filter(SE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lm(r,e,t,s,o,l){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,d=(g,y)=>{var E;return t[y].pathname!==g.pathname||((E=t[y].route.path)==null?void 0:E.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,y)=>h(g,y)||d(g,y)):l==="data"?e.filter((g,y)=>{var T;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||d(g,y))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function IE(r,e){return CE(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function CE(r){return[...new Set(r)]}function AE(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function PE(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(AE(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function kE(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function xE(){let r=W.useContext(ro);return Vf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function NE(){let r=W.useContext(Ou);return Vf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Lf=W.createContext(void 0);Lf.displayName="FrameworkContext";function ny(){let r=W.useContext(Lf);return Vf(r,"You must render this element inside a <HydratedRouter> element"),r}function DE(r,e){let t=W.useContext(Lf),[s,o]=W.useState(!1),[l,h]=W.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,R=W.useRef(null);W.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let F=q=>{q.forEach(K=>{h(K.isIntersecting)})},N=new IntersectionObserver(F,{threshold:.5});return R.current&&N.observe(R.current),()=>{N.disconnect()}}},[r]),W.useEffect(()=>{if(s){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[s]);let O=()=>{o(!0)},k=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,R,{}]:[l,R,{onFocus:ua(d,O),onBlur:ua(g,k),onMouseEnter:ua(y,O),onMouseLeave:ua(E,k),onTouchStart:ua(T,O)}]:[!1,R,{}]}function ua(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function VE({page:r,...e}){let{router:t}=xE(),s=W.useMemo(()=>Wg(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?W.createElement(OE,{page:r,matches:s,...e}):null}function LE(r){let{manifest:e,routeModules:t}=ny(),[s,o]=W.useState([]);return W.useEffect(()=>{let l=!1;return RE(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function OE({page:r,matches:e,...t}){let s=hi(),{manifest:o,routeModules:l}=ny(),{loaderData:h,matches:d}=NE(),g=W.useMemo(()=>Lm(r,e,d,o,s,"data"),[r,e,d,o,s]),y=W.useMemo(()=>Lm(r,e,d,o,s,"assets"),[r,e,d,o,s]),E=W.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,k=!1;if(e.forEach(N=>{var K;let q=o.routes[N.route.id];!q||!q.hasLoader||(!g.some(ee=>ee.route.id===N.route.id)&&N.route.id in h&&((K=l[N.route.id])!=null&&K.shouldRevalidate)||q.hasClientLoader?k=!0:O.add(N.route.id))}),O.size===0)return[];let F=kE(r);return k&&O.size>0&&F.searchParams.set("_routes",e.filter(N=>O.has(N.route.id)).map(N=>N.route.id).join(",")),[F.pathname+F.search]},[h,s,o,g,e,r,l]),T=W.useMemo(()=>IE(y,o),[y,o]),R=LE(y);return W.createElement(W.Fragment,null,E.map(O=>W.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),T.map(O=>W.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),R.map(({key:O,link:k})=>W.createElement("link",{key:O,...k})))}function ME(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ry=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ry&&(window.__reactRouterVersion="7.1.1")}catch{}function FE({basename:r,children:e,window:t}){let s=W.useRef();s.current==null&&(s.current=R_({window:t,v5Compat:!0}));let o=s.current,[l,h]=W.useState({action:o.action,location:o.location}),d=W.useCallback(g=>{W.startTransition(()=>h(g))},[h]);return W.useLayoutEffect(()=>o.listen(d),[o,d]),W.createElement(fE,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var iy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sy=W.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:g,to:y,preventScrollReset:E,viewTransition:T,...R},O){let{basename:k}=W.useContext(Bn),F=typeof y=="string"&&iy.test(y),N,q=!1;if(typeof y=="string"&&F&&(N=y,ry))try{let C=new URL(window.location.href),x=y.startsWith("//")?new URL(C.protocol+y):new URL(y),L=si(x.pathname,k);x.origin===C.origin&&L!=null?y=L+x.search+x.hash:q=!0}catch{Tn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=X_(y,{relative:o}),[ee,le,ge]=DE(s,R),Ee=BE(y,{replace:h,state:d,target:g,preventScrollReset:E,relative:o,viewTransition:T});function P(C){e&&e(C),C.defaultPrevented||Ee(C)}let S=W.createElement("a",{...R,...ge,href:N||K,onClick:q||l?e:P,ref:ME(O,le),target:g,"data-discover":!F&&t==="render"?"true":void 0});return ee&&!F?W.createElement(W.Fragment,null,S,W.createElement(VE,{page:K})):S});sy.displayName="Link";var Zh=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:g,...y},E){let T=Na(h,{relative:y.relative}),R=hi(),O=W.useContext(Ou),{navigator:k,basename:F}=W.useContext(Bn),N=O!=null&&HE(T)&&d===!0,q=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,K=R.pathname,ee=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(K=K.toLowerCase(),ee=ee?ee.toLowerCase():null,q=q.toLowerCase()),ee&&F&&(ee=si(ee,F)||ee);const le=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ge=K===q||!o&&K.startsWith(q)&&K.charAt(le)==="/",Ee=ee!=null&&(ee===q||!o&&ee.startsWith(q)&&ee.charAt(q.length)==="/"),P={isActive:ge,isPending:Ee,isTransitioning:N},S=ge?e:void 0,C;typeof s=="function"?C=s(P):C=[s,ge?"active":null,Ee?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(P):l;return W.createElement(sy,{...y,"aria-current":S,className:C,ref:E,style:x,to:h,viewTransition:d},typeof g=="function"?g(P):g)});Zh.displayName="NavLink";var bE=W.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=lu,action:d,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:T,...R},O)=>{let k=$E(),F=qE(d,{relative:y}),N=h.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&iy.test(d),K=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let le=ee.nativeEvent.submitter,ge=(le==null?void 0:le.getAttribute("formmethod"))||h;k(le||ee.currentTarget,{fetcherKey:e,method:ge,navigate:t,replace:o,state:l,relative:y,preventScrollReset:E,viewTransition:T})};return W.createElement("form",{ref:O,method:N,action:F,onSubmit:s?g:K,...R,"data-discover":!q&&r==="render"?"true":void 0})});bE.displayName="Form";function UE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oy(r){let e=W.useContext(ro);return Ze(e,UE(r)),e}function BE(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=Zg(),g=hi(),y=Na(r,{relative:l});return W.useCallback(E=>{if(vE(E,e)){E.preventDefault();let T=t!==void 0?t:va(g)===va(y);d(r,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[g,d,y,t,s,e,r,o,l,h])}var zE=0,jE=()=>`__${String(++zE)}__`;function $E(){let{router:r}=oy("useSubmit"),{basename:e}=W.useContext(Bn),t=aE();return W.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:g,body:y}=wE(s,e);if(o.navigate===!1){let E=o.fetcherKey||jE();await r.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function qE(r,{relative:e}={}){let{basename:t}=W.useContext(Bn),s=W.useContext(or);Ze(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Na(r||".",{relative:e})},h=hi();if(r==null){l.search=h.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(E=>E==="")){d.delete("index"),g.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();l.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ir([t,l.pathname])),va(l)}function HE(r,e={}){let t=W.useContext(Xg);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=oy("useViewTransitionState"),o=Na(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=si(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=si(t.nextLocation.pathname,s)||t.nextLocation.pathname;return _u(o.pathname,h)!=null||_u(o.pathname,l)!=null}new TextEncoder;const WE="/gestionefertab/assets/FTD_logoBig-3vh6usYB.svg";function KE(){return ne.jsxs("nav",{children:[ne.jsx("img",{id:"navbarLogo",src:WE,alt:"Logo"}),ne.jsxs("div",{id:"menu",children:[ne.jsx(Zh,{to:"/aggiungi-prodotto",className:({isActive:r})=>r?"active nav-link":"nav-link",children:"Aggiungi"}),ne.jsx(Zh,{to:"/elimina-prodotto",className:({isActive:r})=>r?"active nav-link":"nav-link",children:"Elimina"})]})]})}function ay(r,e){return function(){return r.apply(e,arguments)}}const{toString:QE}=Object.prototype,{getPrototypeOf:Of}=Object,Fu=(r=>e=>{const t=QE.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),zn=r=>(r=r.toLowerCase(),e=>Fu(e)===r),bu=r=>e=>typeof e===r,{isArray:so}=Array,_a=bu("undefined");function GE(r){return r!==null&&!_a(r)&&r.constructor!==null&&!_a(r.constructor)&&cn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const ly=zn("ArrayBuffer");function XE(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&ly(r.buffer),e}const YE=bu("string"),cn=bu("function"),uy=bu("number"),Uu=r=>r!==null&&typeof r=="object",JE=r=>r===!0||r===!1,cu=r=>{if(Fu(r)!=="object")return!1;const e=Of(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},ZE=zn("Date"),e2=zn("File"),t2=zn("Blob"),n2=zn("FileList"),r2=r=>Uu(r)&&cn(r.pipe),i2=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||cn(r.append)&&((e=Fu(r))==="formdata"||e==="object"&&cn(r.toString)&&r.toString()==="[object FormData]"))},s2=zn("URLSearchParams"),[o2,a2,l2,u2]=["ReadableStream","Request","Response","Headers"].map(zn),c2=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Da(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,o;if(typeof r!="object"&&(r=[r]),so(r))for(s=0,o=r.length;s<o;s++)e.call(null,r[s],s,r);else{const l=t?Object.getOwnPropertyNames(r):Object.keys(r),h=l.length;let d;for(s=0;s<h;s++)d=l[s],e.call(null,r[d],d,r)}}function cy(r,e){e=e.toLowerCase();const t=Object.keys(r);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hy=r=>!_a(r)&&r!==zi;function ef(){const{caseless:r}=hy(this)&&this||{},e={},t=(s,o)=>{const l=r&&cy(e,o)||o;cu(e[l])&&cu(s)?e[l]=ef(e[l],s):cu(s)?e[l]=ef({},s):so(s)?e[l]=s.slice():e[l]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Da(arguments[s],t);return e}const h2=(r,e,t,{allOwnKeys:s}={})=>(Da(e,(o,l)=>{t&&cn(o)?r[l]=ay(o,t):r[l]=o},{allOwnKeys:s}),r),f2=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),d2=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},p2=(r,e,t,s)=>{let o,l,h;const d={};if(e=e||{},r==null)return e;do{for(o=Object.getOwnPropertyNames(r),l=o.length;l-- >0;)h=o[l],(!s||s(h,r,e))&&!d[h]&&(e[h]=r[h],d[h]=!0);r=t!==!1&&Of(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},m2=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},g2=r=>{if(!r)return null;if(so(r))return r;let e=r.length;if(!uy(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},y2=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Of(Uint8Array)),v2=(r,e)=>{const s=(r&&r[Symbol.iterator]).call(r);let o;for(;(o=s.next())&&!o.done;){const l=o.value;e.call(r,l[0],l[1])}},_2=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},E2=zn("HTMLFormElement"),w2=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),Om=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),T2=zn("RegExp"),fy=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};Da(t,(o,l)=>{let h;(h=e(o,l,r))!==!1&&(s[l]=h||o)}),Object.defineProperties(r,s)},S2=r=>{fy(r,(e,t)=>{if(cn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(cn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},R2=(r,e)=>{const t={},s=o=>{o.forEach(l=>{t[l]=!0})};return so(r)?s(r):s(String(r).split(e)),t},I2=()=>{},C2=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function A2(r){return!!(r&&cn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const P2=r=>{const e=new Array(10),t=(s,o)=>{if(Uu(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const l=so(s)?[]:{};return Da(s,(h,d)=>{const g=t(h,o+1);!_a(g)&&(l[d]=g)}),e[o]=void 0,l}}return s};return t(r,0)},k2=zn("AsyncFunction"),x2=r=>r&&(Uu(r)||cn(r))&&cn(r.then)&&cn(r.catch),dy=((r,e)=>r?setImmediate:e?((t,s)=>(zi.addEventListener("message",({source:o,data:l})=>{o===zi&&l===t&&s.length&&s.shift()()},!1),o=>{s.push(o),zi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",cn(zi.postMessage)),N2=typeof queueMicrotask<"u"?queueMicrotask.bind(zi):typeof process<"u"&&process.nextTick||dy,H={isArray:so,isArrayBuffer:ly,isBuffer:GE,isFormData:i2,isArrayBufferView:XE,isString:YE,isNumber:uy,isBoolean:JE,isObject:Uu,isPlainObject:cu,isReadableStream:o2,isRequest:a2,isResponse:l2,isHeaders:u2,isUndefined:_a,isDate:ZE,isFile:e2,isBlob:t2,isRegExp:T2,isFunction:cn,isStream:r2,isURLSearchParams:s2,isTypedArray:y2,isFileList:n2,forEach:Da,merge:ef,extend:h2,trim:c2,stripBOM:f2,inherits:d2,toFlatObject:p2,kindOf:Fu,kindOfTest:zn,endsWith:m2,toArray:g2,forEachEntry:v2,matchAll:_2,isHTMLForm:E2,hasOwnProperty:Om,hasOwnProp:Om,reduceDescriptors:fy,freezeMethods:S2,toObjectSet:R2,toCamelCase:w2,noop:I2,toFiniteNumber:C2,findKey:cy,global:zi,isContextDefined:hy,isSpecCompliantForm:A2,toJSONObject:P2,isAsyncFn:k2,isThenable:x2,setImmediate:dy,asap:N2};function Ie(r,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}H.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const py=Ie.prototype,my={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{my[r]={value:r}});Object.defineProperties(Ie,my);Object.defineProperty(py,"isAxiosError",{value:!0});Ie.from=(r,e,t,s,o,l)=>{const h=Object.create(py);return H.toFlatObject(r,h,function(g){return g!==Error.prototype},d=>d!=="isAxiosError"),Ie.call(h,r.message,e,t,s,o),h.cause=r,h.name=r.name,l&&Object.assign(h,l),h};const D2=null;function tf(r){return H.isPlainObject(r)||H.isArray(r)}function gy(r){return H.endsWith(r,"[]")?r.slice(0,-2):r}function Mm(r,e,t){return r?r.concat(e).map(function(o,l){return o=gy(o),!t&&l?"["+o+"]":o}).join(t?".":""):e}function V2(r){return H.isArray(r)&&!r.some(tf)}const L2=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Bu(r,e,t){if(!H.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=H.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,N){return!H.isUndefined(N[F])});const s=t.metaTokens,o=t.visitor||E,l=t.dots,h=t.indexes,g=(t.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(o))throw new TypeError("visitor must be a function");function y(k){if(k===null)return"";if(H.isDate(k))return k.toISOString();if(!g&&H.isBlob(k))throw new Ie("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(k)||H.isTypedArray(k)?g&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function E(k,F,N){let q=k;if(k&&!N&&typeof k=="object"){if(H.endsWith(F,"{}"))F=s?F:F.slice(0,-2),k=JSON.stringify(k);else if(H.isArray(k)&&V2(k)||(H.isFileList(k)||H.endsWith(F,"[]"))&&(q=H.toArray(k)))return F=gy(F),q.forEach(function(ee,le){!(H.isUndefined(ee)||ee===null)&&e.append(h===!0?Mm([F],le,l):h===null?F:F+"[]",y(ee))}),!1}return tf(k)?!0:(e.append(Mm(N,F,l),y(k)),!1)}const T=[],R=Object.assign(L2,{defaultVisitor:E,convertValue:y,isVisitable:tf});function O(k,F){if(!H.isUndefined(k)){if(T.indexOf(k)!==-1)throw Error("Circular reference detected in "+F.join("."));T.push(k),H.forEach(k,function(q,K){(!(H.isUndefined(q)||q===null)&&o.call(e,q,H.isString(K)?K.trim():K,F,R))===!0&&O(q,F?F.concat(K):[K])}),T.pop()}}if(!H.isObject(r))throw new TypeError("data must be an object");return O(r),e}function Fm(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Mf(r,e){this._pairs=[],r&&Bu(r,this,e)}const yy=Mf.prototype;yy.append=function(e,t){this._pairs.push([e,t])};yy.toString=function(e){const t=e?function(s){return e.call(this,s,Fm)}:Fm;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function O2(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vy(r,e,t){if(!e)return r;const s=t&&t.encode||O2;H.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let l;if(o?l=o(e,t):l=H.isURLSearchParams(e)?e.toString():new Mf(e,t).toString(s),l){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+l}return r}class bm{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(s){s!==null&&e(s)})}}const _y={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M2=typeof URLSearchParams<"u"?URLSearchParams:Mf,F2=typeof FormData<"u"?FormData:null,b2=typeof Blob<"u"?Blob:null,U2={isBrowser:!0,classes:{URLSearchParams:M2,FormData:F2,Blob:b2},protocols:["http","https","file","blob","url","data"]},Ff=typeof window<"u"&&typeof document<"u",nf=typeof navigator=="object"&&navigator||void 0,B2=Ff&&(!nf||["ReactNative","NativeScript","NS"].indexOf(nf.product)<0),z2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",j2=Ff&&window.location.href||"http://localhost",$2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ff,hasStandardBrowserEnv:B2,hasStandardBrowserWebWorkerEnv:z2,navigator:nf,origin:j2},Symbol.toStringTag,{value:"Module"})),zt={...$2,...U2};function q2(r,e){return Bu(r,new zt.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,l){return zt.isNode&&H.isBuffer(t)?(this.append(s,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function H2(r){return H.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function W2(r){const e={},t=Object.keys(r);let s;const o=t.length;let l;for(s=0;s<o;s++)l=t[s],e[l]=r[l];return e}function Ey(r){function e(t,s,o,l){let h=t[l++];if(h==="__proto__")return!0;const d=Number.isFinite(+h),g=l>=t.length;return h=!h&&H.isArray(o)?o.length:h,g?(H.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!d):((!o[h]||!H.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],l)&&H.isArray(o[h])&&(o[h]=W2(o[h])),!d)}if(H.isFormData(r)&&H.isFunction(r.entries)){const t={};return H.forEachEntry(r,(s,o)=>{e(H2(s),o,t,0)}),t}return null}function K2(r,e,t){if(H.isString(r))try{return(e||JSON.parse)(r),H.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const Va={transitional:_y,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,l=H.isObject(e);if(l&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return o?JSON.stringify(Ey(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return q2(e,this.formSerializer).toString();if((d=H.isFileList(e))||s.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Bu(d?{"files[]":e}:e,g&&new g,this.formSerializer)}}return l||o?(t.setContentType("application/json",!1),K2(e)):e}],transformResponse:[function(e){const t=this.transitional||Va.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(h)throw d.name==="SyntaxError"?Ie.from(d,Ie.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zt.classes.FormData,Blob:zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],r=>{Va.headers[r]={}});const Q2=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),G2=r=>{const e={};let t,s,o;return r&&r.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&Q2[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},Um=Symbol("internals");function ca(r){return r&&String(r).trim().toLowerCase()}function hu(r){return r===!1||r==null?r:H.isArray(r)?r.map(hu):String(r)}function X2(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const Y2=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Fh(r,e,t,s,o){if(H.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!H.isString(e)){if(H.isString(s))return e.indexOf(s)!==-1;if(H.isRegExp(s))return s.test(e)}}function J2(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function Z2(r,e){const t=H.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(o,l,h){return this[s].call(this,e,o,l,h)},configurable:!0})})}let tn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function l(d,g,y){const E=ca(g);if(!E)throw new Error("header name must be a non-empty string");const T=H.findKey(o,E);(!T||o[T]===void 0||y===!0||y===void 0&&o[T]!==!1)&&(o[T||g]=hu(d))}const h=(d,g)=>H.forEach(d,(y,E)=>l(y,E,g));if(H.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(H.isString(e)&&(e=e.trim())&&!Y2(e))h(G2(e),t);else if(H.isHeaders(e))for(const[d,g]of e.entries())l(g,d,s);else e!=null&&l(t,e,s);return this}get(e,t){if(e=ca(e),e){const s=H.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return X2(o);if(H.isFunction(t))return t.call(this,o,s);if(H.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ca(e),e){const s=H.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Fh(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function l(h){if(h=ca(h),h){const d=H.findKey(s,h);d&&(!t||Fh(s,s[d],d,t))&&(delete s[d],o=!0)}}return H.isArray(e)?e.forEach(l):l(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const l=t[s];(!e||Fh(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const t=this,s={};return H.forEach(this,(o,l)=>{const h=H.findKey(s,l);if(h){t[h]=hu(o),delete t[l];return}const d=e?J2(l):String(l).trim();d!==l&&delete t[l],t[d]=hu(o),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return H.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&H.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[Um]=this[Um]={accessors:{}}).accessors,o=this.prototype;function l(h){const d=ca(h);s[d]||(Z2(o,h),s[d]=!0)}return H.isArray(e)?e.forEach(l):l(e),this}};tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(tn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});H.freezeMethods(tn);function bh(r,e){const t=this||Va,s=e||t,o=tn.from(s.headers);let l=s.data;return H.forEach(r,function(d){l=d.call(t,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function wy(r){return!!(r&&r.__CANCEL__)}function oo(r,e,t){Ie.call(this,r??"canceled",Ie.ERR_CANCELED,e,t),this.name="CanceledError"}H.inherits(oo,Ie,{__CANCEL__:!0});function Ty(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new Ie("Request failed with status code "+t.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ew(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function tw(r,e){r=r||10;const t=new Array(r),s=new Array(r);let o=0,l=0,h;return e=e!==void 0?e:1e3,function(g){const y=Date.now(),E=s[l];h||(h=y),t[o]=g,s[o]=y;let T=l,R=0;for(;T!==o;)R+=t[T++],T=T%r;if(o=(o+1)%r,o===l&&(l=(l+1)%r),y-h<e)return;const O=E&&y-E;return O?Math.round(R*1e3/O):void 0}}function nw(r,e){let t=0,s=1e3/e,o,l;const h=(y,E=Date.now())=>{t=E,o=null,l&&(clearTimeout(l),l=null),r.apply(null,y)};return[(...y)=>{const E=Date.now(),T=E-t;T>=s?h(y,E):(o=y,l||(l=setTimeout(()=>{l=null,h(o)},s-T)))},()=>o&&h(o)]}const Eu=(r,e,t=3)=>{let s=0;const o=tw(50,250);return nw(l=>{const h=l.loaded,d=l.lengthComputable?l.total:void 0,g=h-s,y=o(g),E=h<=d;s=h;const T={loaded:h,total:d,progress:d?h/d:void 0,bytes:g,rate:y||void 0,estimated:y&&d&&E?(d-h)/y:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};r(T)},t)},Bm=(r,e)=>{const t=r!=null;return[s=>e[0]({lengthComputable:t,total:r,loaded:s}),e[1]]},zm=r=>(...e)=>H.asap(()=>r(...e)),rw=zt.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,zt.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(zt.origin),zt.navigator&&/(msie|trident)/i.test(zt.navigator.userAgent)):()=>!0,iw=zt.hasStandardBrowserEnv?{write(r,e,t,s,o,l){const h=[r+"="+encodeURIComponent(e)];H.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),H.isString(s)&&h.push("path="+s),H.isString(o)&&h.push("domain="+o),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sw(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function ow(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Sy(r,e,t){let s=!sw(e);return r&&(s||t==!1)?ow(r,e):e}const jm=r=>r instanceof tn?{...r}:r;function Hi(r,e){e=e||{};const t={};function s(y,E,T,R){return H.isPlainObject(y)&&H.isPlainObject(E)?H.merge.call({caseless:R},y,E):H.isPlainObject(E)?H.merge({},E):H.isArray(E)?E.slice():E}function o(y,E,T,R){if(H.isUndefined(E)){if(!H.isUndefined(y))return s(void 0,y,T,R)}else return s(y,E,T,R)}function l(y,E){if(!H.isUndefined(E))return s(void 0,E)}function h(y,E){if(H.isUndefined(E)){if(!H.isUndefined(y))return s(void 0,y)}else return s(void 0,E)}function d(y,E,T){if(T in e)return s(y,E);if(T in r)return s(void 0,y)}const g={url:l,method:l,data:l,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:d,headers:(y,E,T)=>o(jm(y),jm(E),T,!0)};return H.forEach(Object.keys(Object.assign({},r,e)),function(E){const T=g[E]||o,R=T(r[E],e[E],E);H.isUndefined(R)&&T!==d||(t[E]=R)}),t}const Ry=r=>{const e=Hi({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:h,auth:d}=e;e.headers=h=tn.from(h),e.url=vy(Sy(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),d&&h.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let g;if(H.isFormData(t)){if(zt.hasStandardBrowserEnv||zt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[y,...E]=g?g.split(";").map(T=>T.trim()).filter(Boolean):[];h.setContentType([y||"multipart/form-data",...E].join("; "))}}if(zt.hasStandardBrowserEnv&&(s&&H.isFunction(s)&&(s=s(e)),s||s!==!1&&rw(e.url))){const y=o&&l&&iw.read(l);y&&h.set(o,y)}return e},aw=typeof XMLHttpRequest<"u",lw=aw&&function(r){return new Promise(function(t,s){const o=Ry(r);let l=o.data;const h=tn.from(o.headers).normalize();let{responseType:d,onUploadProgress:g,onDownloadProgress:y}=o,E,T,R,O,k;function F(){O&&O(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(E),o.signal&&o.signal.removeEventListener("abort",E)}let N=new XMLHttpRequest;N.open(o.method.toUpperCase(),o.url,!0),N.timeout=o.timeout;function q(){if(!N)return;const ee=tn.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),ge={data:!d||d==="text"||d==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:ee,config:r,request:N};Ty(function(P){t(P),F()},function(P){s(P),F()},ge),N=null}"onloadend"in N?N.onloadend=q:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(q)},N.onabort=function(){N&&(s(new Ie("Request aborted",Ie.ECONNABORTED,r,N)),N=null)},N.onerror=function(){s(new Ie("Network Error",Ie.ERR_NETWORK,r,N)),N=null},N.ontimeout=function(){let le=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ge=o.transitional||_y;o.timeoutErrorMessage&&(le=o.timeoutErrorMessage),s(new Ie(le,ge.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,r,N)),N=null},l===void 0&&h.setContentType(null),"setRequestHeader"in N&&H.forEach(h.toJSON(),function(le,ge){N.setRequestHeader(ge,le)}),H.isUndefined(o.withCredentials)||(N.withCredentials=!!o.withCredentials),d&&d!=="json"&&(N.responseType=o.responseType),y&&([R,k]=Eu(y,!0),N.addEventListener("progress",R)),g&&N.upload&&([T,O]=Eu(g),N.upload.addEventListener("progress",T),N.upload.addEventListener("loadend",O)),(o.cancelToken||o.signal)&&(E=ee=>{N&&(s(!ee||ee.type?new oo(null,r,N):ee),N.abort(),N=null)},o.cancelToken&&o.cancelToken.subscribe(E),o.signal&&(o.signal.aborted?E():o.signal.addEventListener("abort",E)));const K=ew(o.url);if(K&&zt.protocols.indexOf(K)===-1){s(new Ie("Unsupported protocol "+K+":",Ie.ERR_BAD_REQUEST,r));return}N.send(l||null)})},uw=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let s=new AbortController,o;const l=function(y){if(!o){o=!0,d();const E=y instanceof Error?y:this.reason;s.abort(E instanceof Ie?E:new oo(E instanceof Error?E.message:E))}};let h=e&&setTimeout(()=>{h=null,l(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const d=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(y=>{y.unsubscribe?y.unsubscribe(l):y.removeEventListener("abort",l)}),r=null)};r.forEach(y=>y.addEventListener("abort",l));const{signal:g}=s;return g.unsubscribe=()=>H.asap(d),g}},cw=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let s=0,o;for(;s<t;)o=s+e,yield r.slice(s,o),s=o},hw=async function*(r,e){for await(const t of fw(r))yield*cw(t,e)},fw=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},$m=(r,e,t,s)=>{const o=hw(r,e);let l=0,h,d=g=>{h||(h=!0,s&&s(g))};return new ReadableStream({async pull(g){try{const{done:y,value:E}=await o.next();if(y){d(),g.close();return}let T=E.byteLength;if(t){let R=l+=T;t(R)}g.enqueue(new Uint8Array(E))}catch(y){throw d(y),y}},cancel(g){return d(g),o.return()}},{highWaterMark:2})},zu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Iy=zu&&typeof ReadableStream=="function",dw=zu&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Cy=(r,...e)=>{try{return!!r(...e)}catch{return!1}},pw=Iy&&Cy(()=>{let r=!1;const e=new Request(zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),qm=64*1024,rf=Iy&&Cy(()=>H.isReadableStream(new Response("").body)),wu={stream:rf&&(r=>r.body)};zu&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wu[e]&&(wu[e]=H.isFunction(r[e])?t=>t[e]():(t,s)=>{throw new Ie(`Response type '${e}' is not supported`,Ie.ERR_NOT_SUPPORT,s)})})})(new Response);const mw=async r=>{if(r==null)return 0;if(H.isBlob(r))return r.size;if(H.isSpecCompliantForm(r))return(await new Request(zt.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(H.isArrayBufferView(r)||H.isArrayBuffer(r))return r.byteLength;if(H.isURLSearchParams(r)&&(r=r+""),H.isString(r))return(await dw(r)).byteLength},gw=async(r,e)=>{const t=H.toFiniteNumber(r.getContentLength());return t??mw(e)},yw=zu&&(async r=>{let{url:e,method:t,data:s,signal:o,cancelToken:l,timeout:h,onDownloadProgress:d,onUploadProgress:g,responseType:y,headers:E,withCredentials:T="same-origin",fetchOptions:R}=Ry(r);y=y?(y+"").toLowerCase():"text";let O=uw([o,l&&l.toAbortSignal()],h),k;const F=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let N;try{if(g&&pw&&t!=="get"&&t!=="head"&&(N=await gw(E,s))!==0){let ge=new Request(e,{method:"POST",body:s,duplex:"half"}),Ee;if(H.isFormData(s)&&(Ee=ge.headers.get("content-type"))&&E.setContentType(Ee),ge.body){const[P,S]=Bm(N,Eu(zm(g)));s=$m(ge.body,qm,P,S)}}H.isString(T)||(T=T?"include":"omit");const q="credentials"in Request.prototype;k=new Request(e,{...R,signal:O,method:t.toUpperCase(),headers:E.normalize().toJSON(),body:s,duplex:"half",credentials:q?T:void 0});let K=await fetch(k);const ee=rf&&(y==="stream"||y==="response");if(rf&&(d||ee&&F)){const ge={};["status","statusText","headers"].forEach(C=>{ge[C]=K[C]});const Ee=H.toFiniteNumber(K.headers.get("content-length")),[P,S]=d&&Bm(Ee,Eu(zm(d),!0))||[];K=new Response($m(K.body,qm,P,()=>{S&&S(),F&&F()}),ge)}y=y||"text";let le=await wu[H.findKey(wu,y)||"text"](K,r);return!ee&&F&&F(),await new Promise((ge,Ee)=>{Ty(ge,Ee,{data:le,headers:tn.from(K.headers),status:K.status,statusText:K.statusText,config:r,request:k})})}catch(q){throw F&&F(),q&&q.name==="TypeError"&&/fetch/i.test(q.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,r,k),{cause:q.cause||q}):Ie.from(q,q&&q.code,r,k)}}),sf={http:D2,xhr:lw,fetch:yw};H.forEach(sf,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Hm=r=>`- ${r}`,vw=r=>H.isFunction(r)||r===null||r===!1,Ay={getAdapter:r=>{r=H.isArray(r)?r:[r];const{length:e}=r;let t,s;const o={};for(let l=0;l<e;l++){t=r[l];let h;if(s=t,!vw(t)&&(s=sf[(h=String(t)).toLowerCase()],s===void 0))throw new Ie(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+l]=s}if(!s){const l=Object.entries(o).map(([d,g])=>`adapter ${d} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=e?l.length>1?`since :
`+l.map(Hm).join(`
`):" "+Hm(l[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:sf};function Uh(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new oo(null,r)}function Wm(r){return Uh(r),r.headers=tn.from(r.headers),r.data=bh.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Ay.getAdapter(r.adapter||Va.adapter)(r).then(function(s){return Uh(r),s.data=bh.call(r,r.transformResponse,s),s.headers=tn.from(s.headers),s},function(s){return wy(s)||(Uh(r),s&&s.response&&(s.response.data=bh.call(r,r.transformResponse,s.response),s.response.headers=tn.from(s.response.headers))),Promise.reject(s)})}const Py="1.8.4",ju={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{ju[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const Km={};ju.transitional=function(e,t,s){function o(l,h){return"[Axios v"+Py+"] Transitional option '"+l+"'"+h+(s?". "+s:"")}return(l,h,d)=>{if(e===!1)throw new Ie(o(h," has been removed"+(t?" in "+t:"")),Ie.ERR_DEPRECATED);return t&&!Km[h]&&(Km[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,h,d):!0}};ju.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function _w(r,e,t){if(typeof r!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let o=s.length;for(;o-- >0;){const l=s[o],h=e[l];if(h){const d=r[l],g=d===void 0||h(d,l,r);if(g!==!0)throw new Ie("option "+l+" must be "+g,Ie.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ie("Unknown option "+l,Ie.ERR_BAD_OPTION)}}const fu={assertOptions:_w,validators:ju},Zn=fu.validators;let $i=class{constructor(e){this.defaults=e,this.interceptors={request:new bm,response:new bm}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Hi(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:l}=t;s!==void 0&&fu.assertOptions(s,{silentJSONParsing:Zn.transitional(Zn.boolean),forcedJSONParsing:Zn.transitional(Zn.boolean),clarifyTimeoutError:Zn.transitional(Zn.boolean)},!1),o!=null&&(H.isFunction(o)?t.paramsSerializer={serialize:o}:fu.assertOptions(o,{encode:Zn.function,serialize:Zn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),fu.assertOptions(t,{baseUrl:Zn.spelling("baseURL"),withXsrfToken:Zn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=l&&H.merge(l.common,l[t.method]);l&&H.forEach(["delete","get","head","post","put","patch","common"],k=>{delete l[k]}),t.headers=tn.concat(h,l);const d=[];let g=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(t)===!1||(g=g&&F.synchronous,d.unshift(F.fulfilled,F.rejected))});const y=[];this.interceptors.response.forEach(function(F){y.push(F.fulfilled,F.rejected)});let E,T=0,R;if(!g){const k=[Wm.bind(this),void 0];for(k.unshift.apply(k,d),k.push.apply(k,y),R=k.length,E=Promise.resolve(t);T<R;)E=E.then(k[T++],k[T++]);return E}R=d.length;let O=t;for(T=0;T<R;){const k=d[T++],F=d[T++];try{O=k(O)}catch(N){F.call(this,N);break}}try{E=Wm.call(this,O)}catch(k){return Promise.reject(k)}for(T=0,R=y.length;T<R;)E=E.then(y[T++],y[T++]);return E}getUri(e){e=Hi(this.defaults,e);const t=Sy(e.baseURL,e.url,e.allowAbsoluteUrls);return vy(t,e.params,e.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(e){$i.prototype[e]=function(t,s){return this.request(Hi(s||{},{method:e,url:t,data:(s||{}).data}))}});H.forEach(["post","put","patch"],function(e){function t(s){return function(l,h,d){return this.request(Hi(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:h}))}}$i.prototype[e]=t(),$i.prototype[e+"Form"]=t(!0)});let Ew=class ky{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const h=new Promise(d=>{s.subscribe(d),l=d}).then(o);return h.cancel=function(){s.unsubscribe(l)},h},e(function(l,h,d){s.reason||(s.reason=new oo(l,h,d),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ky(function(o){e=o}),cancel:e}}};function ww(r){return function(t){return r.apply(null,t)}}function Tw(r){return H.isObject(r)&&r.isAxiosError===!0}const of={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(of).forEach(([r,e])=>{of[e]=r});function xy(r){const e=new $i(r),t=ay($i.prototype.request,e);return H.extend(t,$i.prototype,e,{allOwnKeys:!0}),H.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return xy(Hi(r,o))},t}const at=xy(Va);at.Axios=$i;at.CanceledError=oo;at.CancelToken=Ew;at.isCancel=wy;at.VERSION=Py;at.toFormData=Bu;at.AxiosError=Ie;at.Cancel=at.CanceledError;at.all=function(e){return Promise.all(e)};at.spread=ww;at.isAxiosError=Tw;at.mergeConfig=Hi;at.AxiosHeaders=tn;at.formToJSON=r=>Ey(H.isHTMLForm(r)?new FormData(r):r);at.getAdapter=Ay.getAdapter;at.HttpStatusCode=of;at.default=at;const{Axios:LI,AxiosError:OI,CanceledError:MI,isCancel:FI,CancelToken:bI,VERSION:UI,all:BI,Cancel:zI,isAxiosError:jI,spread:$I,toFormData:qI,AxiosHeaders:HI,HttpStatusCode:WI,formToJSON:KI,getAdapter:QI,mergeConfig:GI}=at;var Qm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Sw=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],d=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Dy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,d=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=l>>2,T=(l&3)<<4|d>>4;let R=(d&15)<<2|y>>6,O=y&63;g||(O=64,h||(R=64)),s.push(t[E],t[T],t[R],t[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Ny(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Sw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||y==null||T==null)throw new Rw;const R=l<<2|d>>4;if(s.push(R),y!==64){const O=d<<4&240|y>>2;if(s.push(O),T!==64){const k=y<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Rw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Iw=function(r){const e=Ny(r);return Dy.encodeByteArray(e,!0)},Tu=function(r){return Iw(r).replace(/\./g,"")},Cw=function(r){try{return Dy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=()=>Aw().__FIREBASE_DEFAULTS__,kw=()=>{if(typeof process>"u"||typeof Qm>"u")return;const r=Qm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Cw(r[1]);return e&&JSON.parse(e)},bf=()=>{try{return Pw()||kw()||xw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Nw=r=>{var e,t;return(t=(e=bf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Dw=r=>{const e=Nw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Vy=()=>{var r;return(r=bf())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Tu(JSON.stringify(t)),Tu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mw(){var r;const e=(r=bf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fw(){return!Mw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bw(){try{return typeof indexedDB=="object"}catch{return!1}}function Uw(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="FirebaseError";class ao extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Bw,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ly.prototype.create)}}class Ly{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?zw(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ao(o,d,s)}}function zw(r,e){return r.replace(jw,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jw=/\{\$([^}]+)}/g;function af(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(Gm(l)&&Gm(h)){if(!af(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Gm(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(r){return r&&r._delegate?r._delegate:r}class wa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Vw;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hw(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qw(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qw(r){return r===Bi?void 0:r}function Hw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $w(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const Kw={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Qw=Oe.INFO,Gw={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Xw=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Gw[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oy{constructor(e){this.name=e,this._logLevel=Qw,this._logHandler=Xw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Yw=(r,e)=>e.some(t=>r instanceof t);let Xm,Ym;function Jw(){return Xm||(Xm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zw(){return Ym||(Ym=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const My=new WeakMap,lf=new WeakMap,Fy=new WeakMap,Bh=new WeakMap,Uf=new WeakMap;function e1(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(ti(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&My.set(t,r)}).catch(()=>{}),Uf.set(e,r),e}function t1(r){if(lf.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});lf.set(r,e)}let uf={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return lf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Fy.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ti(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function n1(r){uf=r(uf)}function r1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(zh(this),e,...t);return Fy.set(s,e.sort?e.sort():[e]),ti(s)}:Zw().includes(r)?function(...e){return r.apply(zh(this),e),ti(My.get(this))}:function(...e){return ti(r.apply(zh(this),e))}}function i1(r){return typeof r=="function"?r1(r):(r instanceof IDBTransaction&&t1(r),Yw(r,Jw())?new Proxy(r,uf):r)}function ti(r){if(r instanceof IDBRequest)return e1(r);if(Bh.has(r))return Bh.get(r);const e=i1(r);return e!==r&&(Bh.set(r,e),Uf.set(e,r)),e}const zh=r=>Uf.get(r);function s1(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),d=ti(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ti(h.result),g.oldVersion,g.newVersion,ti(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const o1=["get","getKey","getAll","getAllKeys","count"],a1=["put","add","delete","clear"],jh=new Map;function Jm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jh.get(e))return jh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=a1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||o1.includes(t)))return;const l=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&g.done]))[0]};return jh.set(e,l),l}n1(r=>({...r,get:(e,t,s)=>Jm(e,t)||r.get(e,t,s),has:(e,t)=>!!Jm(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(u1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function u1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cf="@firebase/app",Zm="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new Oy("@firebase/app"),c1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",d1="@firebase/app-check-compat",p1="@firebase/app-check",m1="@firebase/auth",g1="@firebase/auth-compat",y1="@firebase/database",v1="@firebase/data-connect",_1="@firebase/database-compat",E1="@firebase/functions",w1="@firebase/functions-compat",T1="@firebase/installations",S1="@firebase/installations-compat",R1="@firebase/messaging",I1="@firebase/messaging-compat",C1="@firebase/performance",A1="@firebase/performance-compat",P1="@firebase/remote-config",k1="@firebase/remote-config-compat",x1="@firebase/storage",N1="@firebase/storage-compat",D1="@firebase/firestore",V1="@firebase/vertexai",L1="@firebase/firestore-compat",O1="firebase",M1="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="[DEFAULT]",F1={[cf]:"fire-core",[c1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[p1]:"fire-app-check",[d1]:"fire-app-check-compat",[m1]:"fire-auth",[g1]:"fire-auth-compat",[y1]:"fire-rtdb",[v1]:"fire-data-connect",[_1]:"fire-rtdb-compat",[E1]:"fire-fn",[w1]:"fire-fn-compat",[T1]:"fire-iid",[S1]:"fire-iid-compat",[R1]:"fire-fcm",[I1]:"fire-fcm-compat",[C1]:"fire-perf",[A1]:"fire-perf-compat",[P1]:"fire-rc",[k1]:"fire-rc-compat",[x1]:"fire-gcs",[N1]:"fire-gcs-compat",[D1]:"fire-fst",[L1]:"fire-fst-compat",[V1]:"fire-vertex","fire-js":"fire-js",[O1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,b1=new Map,ff=new Map;function eg(r,e){try{r.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ru(r){const e=r.name;if(ff.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;ff.set(e,r);for(const t of Su.values())eg(t,r);for(const t of b1.values())eg(t,r);return!0}function U1(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new Ly("app","Firebase",B1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=M1;function by(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:hf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ni.create("bad-app-name",{appName:String(o)});if(t||(t=Vy()),!t)throw ni.create("no-options");const l=Su.get(o);if(l){if(af(t,l.options)&&af(s,l.config))return l;throw ni.create("duplicate-app",{appName:o})}const h=new Ww(o);for(const g of ff.values())h.addComponent(g);const d=new z1(t,s,h);return Su.set(o,d),d}function $1(r=hf){const e=Su.get(r);if(!e&&r===hf&&Vy())return by();if(!e)throw ni.create("no-app",{appName:r});return e}function Qs(r,e,t){var s;let o=(s=F1[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(d.join(" "));return}Ru(new wa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firebase-heartbeat-database",H1=1,Ta="firebase-heartbeat-store";let $h=null;function Uy(){return $h||($h=s1(q1,H1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ta)}catch(t){console.warn(t)}}}}).catch(r=>{throw ni.create("idb-open",{originalErrorMessage:r.message})})),$h}async function W1(r){try{const t=(await Uy()).transaction(Ta),s=await t.objectStore(Ta).get(By(r));return await t.done,s}catch(e){if(e instanceof ao)Cr.warn(e.message);else{const t=ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(t.message)}}}async function tg(r,e){try{const s=(await Uy()).transaction(Ta,"readwrite");await s.objectStore(Ta).put(e,By(r)),await s.done}catch(t){if(t instanceof ao)Cr.warn(t.message);else{const s=ni.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Cr.warn(s.message)}}}function By(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=1024,Q1=30*24*60*60*1e3;class G1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Y1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ng();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=Q1}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ng(),{heartbeatsToSend:s,unsentEntries:o}=X1(this._heartbeatsCache.heartbeats),l=Tu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Cr.warn(t),""}}}function ng(){return new Date().toISOString().substring(0,10)}function X1(r,e=K1){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),rg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),rg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Y1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bw()?Uw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await W1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return tg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return tg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function rg(r){return Tu(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r){Ru(new wa("platform-logger",e=>new l1(e),"PRIVATE")),Ru(new wa("heartbeat",e=>new G1(e),"PRIVATE")),Qs(cf,Zm,r),Qs(cf,Zm,"esm2017"),Qs("fire-js","")}J1("");var ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,zy;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function C(){}C.prototype=S.prototype,P.D=S.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(x,L,M){for(var A=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)A[Ge-2]=arguments[Ge];return S.prototype[L].apply(x,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,S,C){C||(C=0);var x=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)x[L]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(L=0;16>L;++L)x[L]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=P.g[0],C=P.g[1],L=P.g[2];var M=P.g[3],A=S+(M^C&(L^M))+x[0]+3614090360&4294967295;S=C+(A<<7&4294967295|A>>>25),A=M+(L^S&(C^L))+x[1]+3905402710&4294967295,M=S+(A<<12&4294967295|A>>>20),A=L+(C^M&(S^C))+x[2]+606105819&4294967295,L=M+(A<<17&4294967295|A>>>15),A=C+(S^L&(M^S))+x[3]+3250441966&4294967295,C=L+(A<<22&4294967295|A>>>10),A=S+(M^C&(L^M))+x[4]+4118548399&4294967295,S=C+(A<<7&4294967295|A>>>25),A=M+(L^S&(C^L))+x[5]+1200080426&4294967295,M=S+(A<<12&4294967295|A>>>20),A=L+(C^M&(S^C))+x[6]+2821735955&4294967295,L=M+(A<<17&4294967295|A>>>15),A=C+(S^L&(M^S))+x[7]+4249261313&4294967295,C=L+(A<<22&4294967295|A>>>10),A=S+(M^C&(L^M))+x[8]+1770035416&4294967295,S=C+(A<<7&4294967295|A>>>25),A=M+(L^S&(C^L))+x[9]+2336552879&4294967295,M=S+(A<<12&4294967295|A>>>20),A=L+(C^M&(S^C))+x[10]+4294925233&4294967295,L=M+(A<<17&4294967295|A>>>15),A=C+(S^L&(M^S))+x[11]+2304563134&4294967295,C=L+(A<<22&4294967295|A>>>10),A=S+(M^C&(L^M))+x[12]+1804603682&4294967295,S=C+(A<<7&4294967295|A>>>25),A=M+(L^S&(C^L))+x[13]+4254626195&4294967295,M=S+(A<<12&4294967295|A>>>20),A=L+(C^M&(S^C))+x[14]+2792965006&4294967295,L=M+(A<<17&4294967295|A>>>15),A=C+(S^L&(M^S))+x[15]+1236535329&4294967295,C=L+(A<<22&4294967295|A>>>10),A=S+(L^M&(C^L))+x[1]+4129170786&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^L&(S^C))+x[6]+3225465664&4294967295,M=S+(A<<9&4294967295|A>>>23),A=L+(S^C&(M^S))+x[11]+643717713&4294967295,L=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(L^M))+x[0]+3921069994&4294967295,C=L+(A<<20&4294967295|A>>>12),A=S+(L^M&(C^L))+x[5]+3593408605&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^L&(S^C))+x[10]+38016083&4294967295,M=S+(A<<9&4294967295|A>>>23),A=L+(S^C&(M^S))+x[15]+3634488961&4294967295,L=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(L^M))+x[4]+3889429448&4294967295,C=L+(A<<20&4294967295|A>>>12),A=S+(L^M&(C^L))+x[9]+568446438&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^L&(S^C))+x[14]+3275163606&4294967295,M=S+(A<<9&4294967295|A>>>23),A=L+(S^C&(M^S))+x[3]+4107603335&4294967295,L=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(L^M))+x[8]+1163531501&4294967295,C=L+(A<<20&4294967295|A>>>12),A=S+(L^M&(C^L))+x[13]+2850285829&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^L&(S^C))+x[2]+4243563512&4294967295,M=S+(A<<9&4294967295|A>>>23),A=L+(S^C&(M^S))+x[7]+1735328473&4294967295,L=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(L^M))+x[12]+2368359562&4294967295,C=L+(A<<20&4294967295|A>>>12),A=S+(C^L^M)+x[5]+4294588738&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^L)+x[8]+2272392833&4294967295,M=S+(A<<11&4294967295|A>>>21),A=L+(M^S^C)+x[11]+1839030562&4294967295,L=M+(A<<16&4294967295|A>>>16),A=C+(L^M^S)+x[14]+4259657740&4294967295,C=L+(A<<23&4294967295|A>>>9),A=S+(C^L^M)+x[1]+2763975236&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^L)+x[4]+1272893353&4294967295,M=S+(A<<11&4294967295|A>>>21),A=L+(M^S^C)+x[7]+4139469664&4294967295,L=M+(A<<16&4294967295|A>>>16),A=C+(L^M^S)+x[10]+3200236656&4294967295,C=L+(A<<23&4294967295|A>>>9),A=S+(C^L^M)+x[13]+681279174&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^L)+x[0]+3936430074&4294967295,M=S+(A<<11&4294967295|A>>>21),A=L+(M^S^C)+x[3]+3572445317&4294967295,L=M+(A<<16&4294967295|A>>>16),A=C+(L^M^S)+x[6]+76029189&4294967295,C=L+(A<<23&4294967295|A>>>9),A=S+(C^L^M)+x[9]+3654602809&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^L)+x[12]+3873151461&4294967295,M=S+(A<<11&4294967295|A>>>21),A=L+(M^S^C)+x[15]+530742520&4294967295,L=M+(A<<16&4294967295|A>>>16),A=C+(L^M^S)+x[2]+3299628645&4294967295,C=L+(A<<23&4294967295|A>>>9),A=S+(L^(C|~M))+x[0]+4096336452&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~L))+x[7]+1126891415&4294967295,M=S+(A<<10&4294967295|A>>>22),A=L+(S^(M|~C))+x[14]+2878612391&4294967295,L=M+(A<<15&4294967295|A>>>17),A=C+(M^(L|~S))+x[5]+4237533241&4294967295,C=L+(A<<21&4294967295|A>>>11),A=S+(L^(C|~M))+x[12]+1700485571&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~L))+x[3]+2399980690&4294967295,M=S+(A<<10&4294967295|A>>>22),A=L+(S^(M|~C))+x[10]+4293915773&4294967295,L=M+(A<<15&4294967295|A>>>17),A=C+(M^(L|~S))+x[1]+2240044497&4294967295,C=L+(A<<21&4294967295|A>>>11),A=S+(L^(C|~M))+x[8]+1873313359&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~L))+x[15]+4264355552&4294967295,M=S+(A<<10&4294967295|A>>>22),A=L+(S^(M|~C))+x[6]+2734768916&4294967295,L=M+(A<<15&4294967295|A>>>17),A=C+(M^(L|~S))+x[13]+1309151649&4294967295,C=L+(A<<21&4294967295|A>>>11),A=S+(L^(C|~M))+x[4]+4149444226&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~L))+x[11]+3174756917&4294967295,M=S+(A<<10&4294967295|A>>>22),A=L+(S^(M|~C))+x[2]+718787259&4294967295,L=M+(A<<15&4294967295|A>>>17),A=C+(M^(L|~S))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(L+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+M&4294967295}s.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var C=S-this.blockSize,x=this.B,L=this.h,M=0;M<S;){if(L==0)for(;M<=C;)o(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<S;)if(x[L++]=P.charCodeAt(M++),L==this.blockSize){o(this,x),L=0;break}}else for(;M<S;)if(x[L++]=P[M++],L==this.blockSize){o(this,x),L=0;break}}this.h=L,this.o+=S},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var C=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=C&255,C/=256;for(this.u(P),P=Array(16),S=C=0;4>S;++S)for(var x=0;32>x;x+=8)P[C++]=this.g[S]>>>x&255;return P};function l(P,S){var C=d;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=S(P)}function h(P,S){this.h=S;for(var C=[],x=!0,L=P.length-1;0<=L;L--){var M=P[L]|0;x&&M==S||(C[L]=M,x=!1)}this.g=C}var d={};function g(P){return-128<=P&&128>P?l(P,function(S){return new h([S|0],0>S?-1:0)}):new h([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return N(y(-P));for(var S=[],C=1,x=0;P>=C;x++)S[x]=P/C|0,C*=4294967296;return new h(S,0)}function E(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return N(E(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),x=T,L=0;L<P.length;L+=8){var M=Math.min(8,P.length-L),A=parseInt(P.substring(L,L+M),S);8>M?(M=y(Math.pow(S,M)),x=x.j(M).add(y(A))):(x=x.j(C),x=x.add(y(A)))}return x}var T=g(0),R=g(1),O=g(16777216);r=h.prototype,r.m=function(){if(F(this))return-N(this).m();for(var P=0,S=1,C=0;C<this.g.length;C++){var x=this.i(C);P+=(0<=x?x:4294967296+x)*S,S*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k(this))return"0";if(F(this))return"-"+N(this).toString(P);for(var S=y(Math.pow(P,6)),C=this,x="";;){var L=le(C,S).g;C=q(C,L.j(S));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=L,k(C))return M+x;for(;6>M.length;)M="0"+M;x=M+x}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function k(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function F(P){return P.h==-1}r.l=function(P){return P=q(this,P),F(P)?-1:k(P)?0:1};function N(P){for(var S=P.g.length,C=[],x=0;x<S;x++)C[x]=~P.g[x];return new h(C,~P.h).add(R)}r.abs=function(){return F(this)?N(this):this},r.add=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],x=0,L=0;L<=S;L++){var M=x+(this.i(L)&65535)+(P.i(L)&65535),A=(M>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);x=A>>>16,M&=65535,A&=65535,C[L]=A<<16|M}return new h(C,C[C.length-1]&-2147483648?-1:0)};function q(P,S){return P.add(N(S))}r.j=function(P){if(k(this)||k(P))return T;if(F(this))return F(P)?N(this).j(N(P)):N(N(this).j(P));if(F(P))return N(this.j(N(P)));if(0>this.l(O)&&0>P.l(O))return y(this.m()*P.m());for(var S=this.g.length+P.g.length,C=[],x=0;x<2*S;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var L=0;L<P.g.length;L++){var M=this.i(x)>>>16,A=this.i(x)&65535,Ge=P.i(L)>>>16,ht=P.i(L)&65535;C[2*x+2*L]+=A*ht,K(C,2*x+2*L),C[2*x+2*L+1]+=M*ht,K(C,2*x+2*L+1),C[2*x+2*L+1]+=A*Ge,K(C,2*x+2*L+1),C[2*x+2*L+2]+=M*Ge,K(C,2*x+2*L+2)}for(x=0;x<S;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=S;x<2*S;x++)C[x]=0;return new h(C,0)};function K(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function ee(P,S){this.g=P,this.h=S}function le(P,S){if(k(S))throw Error("division by zero");if(k(P))return new ee(T,T);if(F(P))return S=le(N(P),S),new ee(N(S.g),N(S.h));if(F(S))return S=le(P,N(S)),new ee(N(S.g),S.h);if(30<P.g.length){if(F(P)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var C=R,x=S;0>=x.l(P);)C=ge(C),x=ge(x);var L=Ee(C,1),M=Ee(x,1);for(x=Ee(x,2),C=Ee(C,2);!k(x);){var A=M.add(x);0>=A.l(P)&&(L=L.add(C),M=A),x=Ee(x,1),C=Ee(C,1)}return S=q(P,L.j(S)),new ee(L,S)}for(L=T;0<=P.l(S);){for(C=Math.max(1,Math.floor(P.m()/S.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),M=y(C),A=M.j(S);F(A)||0<A.l(P);)C-=x,M=y(C),A=M.j(S);k(M)&&(M=R),L=L.add(M),P=q(P,A)}return new ee(L,P)}r.A=function(P){return le(this,P).h},r.and=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],x=0;x<S;x++)C[x]=this.i(x)&P.i(x);return new h(C,this.h&P.h)},r.or=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],x=0;x<S;x++)C[x]=this.i(x)|P.i(x);return new h(C,this.h|P.h)},r.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],x=0;x<S;x++)C[x]=this.i(x)^P.i(x);return new h(C,this.h^P.h)};function ge(P){for(var S=P.g.length+1,C=[],x=0;x<S;x++)C[x]=P.i(x)<<1|P.i(x-1)>>>31;return new h(C,P.h)}function Ee(P,S){var C=S>>5;S%=32;for(var x=P.g.length-C,L=[],M=0;M<x;M++)L[M]=0<S?P.i(M+C)>>>S|P.i(M+C+1)<<32-S:P.i(M+C);return new h(L,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,zy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,qi=h}).apply(typeof ig<"u"?ig:typeof self<"u"?self:typeof window<"u"?window:{});var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jy,ha,$y,du,df,qy,Hy,Wy;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tu=="object"&&tu];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var v=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var U=u[w];if(!(U in v))break e;v=v[U]}u=u[u.length-1],w=v[u],p=p(w),p!=w&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var v=0,w=!1,U={next:function(){if(!w&&v<u.length){var $=v++;return{value:p($,u[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,v){return u.call.apply(u.bind,arguments)}function T(u,p,v){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,w),u.apply(p,U)}}return function(){return u.apply(p,arguments)}}function R(u,p,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,R.apply(null,arguments)}function O(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function k(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(w,U,$){for(var re=Array(arguments.length-2),je=2;je<arguments.length;je++)re[je-2]=arguments[je];return p.prototype[U].apply(w,re)}}function F(u){const p=u.length;if(0<p){const v=Array(p);for(let w=0;w<p;w++)v[w]=u[w];return v}return[]}function N(u,p){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(g(w)){const U=u.length||0,$=w.length||0;u.length=U+$;for(let re=0;re<$;re++)u[U+re]=w[re]}else u.push(w)}}class q{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function K(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function le(u){return le[" "](u),u}le[" "]=function(){};var ge=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function Ee(u,p,v){for(const w in u)p.call(v,u[w],w,u)}function P(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function S(u){const p={};for(const v in u)p[v]=u[v];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,p){let v,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(v in w)u[v]=w[v];for(let $=0;$<C.length;$++)v=C[$],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function L(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function M(u){d.setTimeout(()=>{throw u},0)}function A(){var u=me;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ge{constructor(){this.h=this.g=null}add(p,v){const w=ht.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ht=new q(()=>new Et,u=>u.reset());class Et{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,ie=!1,me=new Ge,oe=()=>{const u=d.Promise.resolve(void 0);Be=()=>{u.then(b)}};var b=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){M(v)}var p=ht;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ie=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,p),d.removeEventListener("test",v,p)}catch{}return u}();function Ae(u,p){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ge){e:{try{le(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ae.aa.h.call(this)}}k(Ae,de);var De={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function qe(u,p,v,w,U){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ar(u){this.src=u,this.g={},this.h=0}ar.prototype.add=function(u,p,v,w,U){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var re=kr(u,p,w,U);return-1<re?(p=u[re],v||(p.fa=!1)):(p=new qe(p,this.src,$,!!w,U),p.fa=v,u.push(p)),p};function Ji(u,p){var v=p.type;if(v in u.g){var w=u.g[v],U=Array.prototype.indexOf.call(w,p,void 0),$;($=0<=U)&&Array.prototype.splice.call(w,U,1),$&&(wt(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function kr(u,p,v,w){for(var U=0;U<u.length;++U){var $=u[U];if(!$.da&&$.listener==p&&$.capture==!!v&&$.ha==w)return U}return-1}var fi="closure_lm_"+(1e6*Math.random()|0),Zi={};function fo(u,p,v,w,U){if(Array.isArray(p)){for(var $=0;$<p.length;$++)fo(u,p[$],v,w,U);return null}return v=go(v),u&&u[be]?u.K(p,v,y(w)?!!w.capture:!1,U):po(u,p,v,!1,w,U)}function po(u,p,v,w,U,$){if(!p)throw Error("Invalid event type");var re=y(U)?!!U.capture:!!U,je=ts(u);if(je||(u[fi]=je=new ar(u)),v=je.add(p,v,w,re,$),v.proxy)return v;if(w=ba(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)Ce||(U=re),U===void 0&&(U=!1),u.addEventListener(p.toString(),w,U);else if(u.attachEvent)u.attachEvent(ur(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ba(){function u(v){return p.call(u.src,u.listener,v)}const p=mo;return u}function es(u,p,v,w,U){if(Array.isArray(p))for(var $=0;$<p.length;$++)es(u,p[$],v,w,U);else w=y(w)?!!w.capture:!!w,v=go(v),u&&u[be]?(u=u.i,p=String(p).toString(),p in u.g&&($=u.g[p],v=kr($,v,w,U),-1<v&&(wt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[p],u.h--)))):u&&(u=ts(u))&&(p=u.g[p.toString()],u=-1,p&&(u=kr(p,v,w,U)),(v=-1<u?p[u]:null)&&lr(v))}function lr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[be])Ji(p.i,u);else{var v=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(v,w,u.capture):p.detachEvent?p.detachEvent(ur(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=ts(p))?(Ji(v,u),v.h==0&&(v.src=null,p[fi]=null)):wt(u)}}}function ur(u){return u in Zi?Zi[u]:Zi[u]="on"+u}function mo(u,p){if(u.da)u=!0;else{p=new Ae(p,this);var v=u.listener,w=u.ha||u.src;u.fa&&lr(u),u=v.call(w,p)}return u}function ts(u){return u=u[fi],u instanceof ar?u:null}var ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function go(u){return typeof u=="function"?u:(u[ns]||(u[ns]=function(p){return u.handleEvent(p)}),u[ns])}function ft(){G.call(this),this.i=new ar(this),this.M=this,this.F=null}k(ft,G),ft.prototype[be]=!0,ft.prototype.removeEventListener=function(u,p,v,w){es(this,u,p,v,w)};function dt(u,p){var v,w=u.F;if(w)for(v=[];w;w=w.F)v.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new de(p,u);else if(p instanceof de)p.target=p.target||u;else{var U=p;p=new de(w,u),x(p,U)}if(U=!0,v)for(var $=v.length-1;0<=$;$--){var re=p.g=v[$];U=cr(re,w,!0,p)&&U}if(re=p.g=u,U=cr(re,w,!0,p)&&U,U=cr(re,w,!1,p)&&U,v)for($=0;$<v.length;$++)re=p.g=v[$],U=cr(re,w,!1,p)&&U}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],w=0;w<v.length;w++)wt(v[w]);delete u.g[p],u.h--}}this.F=null},ft.prototype.K=function(u,p,v,w){return this.i.add(String(u),p,!1,v,w)},ft.prototype.L=function(u,p,v,w){return this.i.add(String(u),p,!0,v,w)};function cr(u,p,v,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,$=0;$<p.length;++$){var re=p[$];if(re&&!re.da&&re.capture==v){var je=re.listener,pt=re.ha||re.src;re.fa&&Ji(u.i,re),U=je.call(pt,w)!==!1&&U}}return U&&!w.defaultPrevented}function yo(u,p,v){if(typeof u=="function")v&&(u=R(u,v));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(u,p||0)}function xr(u){u.g=yo(()=>{u.g=null,u.i&&(u.i=!1,xr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class di extends G{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:xr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(u){G.call(this),this.h=u,this.g={}}k(pi,G);var vo=[];function _o(u){Ee(u.g,function(p,v){this.g.hasOwnProperty(v)&&lr(p)},u),u.g={}}pi.prototype.N=function(){pi.aa.N.call(this),_o(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eo=d.JSON.stringify,wo=d.JSON.parse,To=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function mi(){}mi.prototype.h=null;function rs(u){return u.h||(u.h=u.i())}function is(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){de.call(this,"d")}k(jn,de);function ss(){de.call(this,"c")}k(ss,de);var $n={},So=null;function gi(){return So=So||new ft}$n.La="serverreachability";function Ro(u){de.call(this,$n.La,u)}k(Ro,de);function hr(u){const p=gi();dt(p,new Ro(p))}$n.STAT_EVENT="statevent";function Io(u,p){de.call(this,$n.STAT_EVENT,u),this.stat=p}k(Io,de);function it(u){const p=gi();dt(p,new Io(p,u))}$n.Ma="timingevent";function os(u,p){de.call(this,$n.Ma,u),this.size=p}k(os,de);function Sn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function yi(){this.g=!0}yi.prototype.xa=function(){this.g=!1};function vi(u,p,v,w,U,$){u.info(function(){if(u.g)if($)for(var re="",je=$.split("&"),pt=0;pt<je.length;pt++){var Ve=je[pt].split("=");if(1<Ve.length){var Tt=Ve[0];Ve=Ve[1];var lt=Tt.split("_");re=2<=lt.length&&lt[1]=="type"?re+(Tt+"="+Ve+"&"):re+(Tt+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+p+`
`+v+`
`+re})}function as(u,p,v,w,U,$,re){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+p+`
`+v+`
`+$+" "+re})}function Rn(u,p,v,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ic(u,v)+(w?" "+w:"")})}function Co(u,p){u.info(function(){return"TIMEOUT: "+p})}yi.prototype.info=function(){};function ic(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var w=v[u];if(!(2>w.length)){var U=w[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return Eo(v)}catch{return p}}var ls={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ua={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},In;function _i(){}k(_i,mi),_i.prototype.g=function(){return new XMLHttpRequest},_i.prototype.i=function(){return{}},In=new _i;function Cn(u,p,v,w){this.j=u,this.i=p,this.l=v,this.R=w||1,this.U=new pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}var Ao={},us={};function cs(u,p,v){u.L=1,u.v=Or(rn(p)),u.m=v,u.P=!0,Po(u,null)}function Po(u,p){u.F=Date.now(),He(u),u.A=rn(u.v);var v=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Fr(v.i,"t",w),u.C=0,v=u.j.J,u.h=new Ba,u.g=il(u.j,v?p:null,!u.m),0<u.O&&(u.M=new di(R(u.Y,u,u.g),u.O)),p=u.U,v=u.g,w=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(vo[0]=U.toString()),U=vo);for(var $=0;$<U.length;$++){var re=fo(v,U[$],w||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),hr(),vi(u.i,u.u,u.A,u.l,u.R,u.m)}Cn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Kt(u)==3?p.j():this.Y(u)},Cn.prototype.Y=function(u){try{if(u==this.g)e:{const lt=Kt(this.g);var p=this.g.Ba();const pn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||Lo(this.g)))){this.J||lt!=4||p==7||(p==8||0>=pn?hr(3):hr(2)),Ei(this);var v=this.g.Z();this.X=v;t:if(za(this)){var w=Lo(this.g);u="";var U=w.length,$=Kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),Nr(this);var re="";break t}this.h.i=new d.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,u+=this.h.i.decode(w[p],{stream:!($&&p==U-1)});w.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,as(this.i,this.u,this.A,this.l,this.R,lt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,pt=this.g;if((je=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(je)){var Ve=je;break t}}Ve=null}if(v=Ve)Rn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ko(this,v);else{this.o=!1,this.s=3,it(12),fn(this),Nr(this);break e}}if(this.P){v=!0;let on;for(;!this.J&&this.C<re.length;)if(on=sc(this,re),on==us){lt==4&&(this.s=4,it(14),v=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Ao){this.s=4,it(15),Rn(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else Rn(this.i,this.l,on,null),ko(this,on);if(za(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||re.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)Rn(this.i,this.l,re,"[Invalid Chunked Response]"),fn(this),Nr(this);else if(0<re.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Mo(Tt),Tt.M=!0,it(11))}}else Rn(this.i,this.l,re,null),ko(this,re);lt==4&&fn(this),this.o&&!this.J&&(lt==4?ws(this.j,this):(this.o=!1,He(this)))}else gs(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),fn(this),Nr(this)}}}catch{}finally{}};function za(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sc(u,p){var v=u.C,w=p.indexOf(`
`,v);return w==-1?us:(v=Number(p.substring(v,w)),isNaN(v)?Ao:(w+=1,w+v>p.length?us:(p=p.slice(w,w+v),u.C=w+v,p)))}Cn.prototype.cancel=function(){this.J=!0,fn(this)};function He(u){u.S=Date.now()+u.I,ja(u,u.I)}function ja(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Sn(R(u.ba,u),p)}function Ei(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Co(this.i,this.A),this.L!=2&&(hr(),it(17)),fn(this),this.s=2,Nr(this)):ja(this,this.S-u)};function Nr(u){u.j.G==0||u.J||ws(u.j,u)}function fn(u){Ei(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,_o(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function ko(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||jt(v.h,u))){if(!u.K&&jt(v.h,u)&&v.G==3){try{var w=v.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Es(v),Nn(v);else break e;_s(v),it(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Sn(R(v.Za,v),6e3));if(1>=qa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else gr(v,11)}else if((u.K||v.g==u)&&Es(v),!K(p))for(U=v.Da.g.parse(p),p=0;p<U.length;p++){let Ve=U[p];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const Tt=Ve[3];Tt!=null&&(v.la=Tt,v.j.info("VER="+v.la));const lt=Ve[4];lt!=null&&(v.Aa=lt,v.j.info("SVER="+v.Aa));const pn=Ve[5];pn!=null&&typeof pn=="number"&&0<pn&&(w=1.5*pn,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const on=u.g;if(on){const Ai=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var $=w.h;$.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(xo($,$.h),$.h=null))}if(w.D){const Ss=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Ss&&(w.ya=Ss,$e(w.I,w.D,Ss))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var re=u;if(w.qa=rl(w,w.J?w.ia:null,w.W),re.K){Ha(w.h,re);var je=re,pt=w.L;pt&&(je.I=pt),je.B&&(Ei(je),He(je)),w.g=re}else Ci(w);0<v.i.length&&Kn(v)}else Ve[0]!="stop"&&Ve[0]!="close"||gr(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?gr(v,7):Pt(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}hr(4)}catch{}}var $a=class{constructor(u,p){this.g=u,this.map=p}};function wi(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qa(u){return u.h?1:u.g?u.g.size:0}function jt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function xo(u,p){u.g?u.g.add(p):u.h=p}function Ha(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}wi.prototype.cancel=function(){if(this.i=Wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return F(u.i)}function hs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],v=u.length,w=0;w<v;w++)p.push(u[w]);return p}p=[],v=0;for(w in u)p[v++]=u[w];return p}function fs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const w in u)p[v++]=w;return p}}}function Dr(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=fs(u),w=hs(u),U=w.length,$=0;$<U;$++)p.call(void 0,w[$],v&&v[$],u)}var Ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oc(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var w=u[v].indexOf("="),U=null;if(0<=w){var $=u[v].substring(0,w);U=u[v].substring(w+1)}else $=u[v];p($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function fr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fr){this.h=u.h,Si(this,u.j),this.o=u.o,this.g=u.g,Vr(this,u.s),this.l=u.l;var p=u.i,v=new qn;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Lr(this,v),this.m=u.m}else u&&(p=String(u).match(Ti))?(this.h=!1,Si(this,p[1]||"",!0),this.o=xe(p[2]||""),this.g=xe(p[3]||"",!0),Vr(this,p[4]),this.l=xe(p[5]||"",!0),Lr(this,p[6]||"",!0),this.m=xe(p[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}fr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Mr(p,ds,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Mr(p,ds,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Mr(v,v.charAt(0)=="/"?Ga:Qa,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Mr(v,No)),u.join("")};function rn(u){return new fr(u)}function Si(u,p,v){u.j=v?xe(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Vr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Lr(u,p,v){p instanceof qn?(u.i=p,Hn(u.i,u.h)):(v||(p=Mr(p,Xa)),u.i=new qn(p,u.h))}function $e(u,p,v){u.i.set(p,v)}function Or(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,Ka),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ka(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ds=/[#\/\?@]/g,Qa=/[#\?:]/g,Ga=/[#\?]/g,Xa=/[#\?@]/g,No=/#/g;function qn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function At(u){u.g||(u.g=new Map,u.h=0,u.i&&oc(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=qn.prototype,r.add=function(u,p){At(this),this.i=null,u=dn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function An(u,p){At(u),p=dn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Pn(u,p){return At(u),p=dn(u,p),u.g.has(p)}r.forEach=function(u,p){At(this),this.g.forEach(function(v,w){v.forEach(function(U){u.call(p,U,w,this)},this)},this)},r.na=function(){At(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let w=0;w<p.length;w++){const U=u[w];for(let $=0;$<U.length;$++)v.push(p[w])}return v},r.V=function(u){At(this);let p=[];if(typeof u=="string")Pn(this,u)&&(p=p.concat(this.g.get(dn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},r.set=function(u,p){return At(this),this.i=null,u=dn(this,u),Pn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Fr(u,p,v){An(u,p),0<v.length&&(u.i=null,u.g.set(dn(u,p),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var w=p[v];const $=encodeURIComponent(String(w)),re=this.V(w);for(w=0;w<re.length;w++){var U=$;re[w]!==""&&(U+="="+encodeURIComponent(String(re[w]))),u.push(U)}}return this.i=u.join("&")};function dn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Hn(u,p){p&&!u.j&&(At(u),u.i=null,u.g.forEach(function(v,w){var U=w.toLowerCase();w!=U&&(An(this,w),Fr(this,U,v))},u)),u.j=p}function ac(u,p){const v=new yi;if(d.Image){const w=new Image;w.onload=O(Wt,v,"TestLoadImage: loaded",!0,p,w),w.onerror=O(Wt,v,"TestLoadImage: error",!1,p,w),w.onabort=O(Wt,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=O(Wt,v,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function Ya(u,p){const v=new yi,w=new AbortController,U=setTimeout(()=>{w.abort(),Wt(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then($=>{clearTimeout(U),$.ok?Wt(v,"TestPingServer: ok",!0,p):Wt(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Wt(v,"TestPingServer: error",!1,p)})}function Wt(u,p,v,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(v)}catch{}}function lc(){this.g=new To}function Ja(u,p,v){const w=v||"";try{Dr(u,function(U,$){let re=U;y(U)&&(re=Eo(U)),p.push(w+$+"="+encodeURIComponent(re))})}catch(U){throw p.push(w+"type="+encodeURIComponent("_badmap")),U}}function dr(u){this.l=u.Ub||null,this.j=u.eb||!1}k(dr,mi),dr.prototype.g=function(){return new Ri(this.l,this.j)},dr.prototype.i=function(u){return function(){return u}}({});function Ri(u,p){ft.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ri,ft),r=Ri.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Za(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Za(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?kn(this):xn(this),this.readyState==3&&Za(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,kn(this))},r.Qa=function(u){this.g&&(this.response=u,kn(this))},r.ga=function(){this.g&&kn(this)};function kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function pr(u){let p="";return Ee(u,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function br(u,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=pr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):$e(u,p,v))}function Xe(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Xe,ft);var uc=/^https?$/i,Do=["POST","PUT"];r=Xe.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():In.g(),this.v=this.o?rs(this.o):rs(In),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){Ii(this,$);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)v.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())v.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Do,p,void 0))||w||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of v)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ms(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Ii(this,$)}};function Ii(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,ps(u),sn(u)}function ps(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,dt(this,"complete"),dt(this,"abort"),sn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sn(this,!0)),Xe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Vo(this):this.bb())},r.bb=function(){Vo(this)};function Vo(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Kt(u)!=4||u.Z()!=2)){if(u.u&&Kt(u)==4)yo(u.Ea,0,u);else if(dt(u,"readystatechange"),Kt(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=re===0){var U=String(u.D).match(Ti)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),w=!uc.test(U?U.toLowerCase():"")}v=w}if(v)dt(u,"complete"),dt(u,"success");else{u.m=6;try{var $=2<Kt(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",ps(u)}}finally{sn(u)}}}}function sn(u,p){if(u.g){ms(u);const v=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||dt(u,"ready");try{v.onreadystatechange=w}catch{}}}function ms(u){u.I&&(d.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Kt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Kt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),wo(p)}};function Lo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(u){const p={};u=(u.g&&2<=Kt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(K(u[w]))continue;var v=L(u[w]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=p[U]||[];p[U]=$,$.push(v)}P(p,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wn(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function Oo(u){this.Aa=0,this.i=[],this.j=new yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wn("baseRetryDelayMs",5e3,u),this.cb=Wn("retryDelaySeedMs",1e4,u),this.Wa=Wn("forwardChannelMaxRetries",2,u),this.wa=Wn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(u&&u.concurrentRequestLimit),this.Da=new lc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Oo.prototype,r.la=8,r.G=1,r.connect=function(u,p,v,w){it(0),this.W=u,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=rl(this,null,this.W),Kn(this)};function Pt(u){if(ys(u),u.G==3){var p=u.U++,v=rn(u.I);if($e(v,"SID",u.K),$e(v,"RID",p),$e(v,"TYPE","terminate"),mr(u,v),p=new Cn(u,u.j,p),p.L=2,p.v=Or(rn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=p.v,v=!0),v||(p.g=il(p.j,null),p.g.ea(p.v)),p.F=Date.now(),He(p)}nl(u)}function Nn(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function ys(u){Nn(u),u.u&&(d.clearTimeout(u.u),u.u=null),Es(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Kn(u){if(!nn(u.h)&&!u.s){u.s=!0;var p=u.Ga;Be||oe(),ie||(Be(),ie=!0),me.add(p,u),u.B=0}}function cc(u,p){return qa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Sn(R(u.Ga,u,p),tl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Cn(this,this.j,u);let $=this.o;if(this.S&&($?($=S($),x($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Ur(this,U,p),v=rn(this.I),$e(v,"RID",u),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),mr(this,v),$&&(this.O?p="headers="+encodeURIComponent(String(pr($)))+"&"+p:this.m&&br(v,this.m,$)),xo(this.h,U),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",p),$e(v,"SID","null"),U.T=!0,cs(U,v,null)):cs(U,v,p),this.G=2}}else this.G==3&&(u?vs(this,u):this.i.length==0||nn(this.h)||vs(this))};function vs(u,p){var v;p?v=p.l:v=u.U++;const w=rn(u.I);$e(w,"SID",u.K),$e(w,"RID",v),$e(w,"AID",u.T),mr(u,w),u.m&&u.o&&br(w,u.m,u.o),v=new Cn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Ur(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),xo(u.h,v),cs(v,w,p)}function mr(u,p){u.H&&Ee(u.H,function(v,w){$e(p,w,v)}),u.l&&Dr({},function(v,w){$e(p,w,v)})}function Ur(u,p,v){v=Math.min(u.i.length,v);var w=u.l?R(u.l.Na,u.l,u):null;e:{var U=u.i;let $=-1;for(;;){const re=["count="+v];$==-1?0<v?($=U[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let je=!0;for(let pt=0;pt<v;pt++){let Ve=U[pt].g;const Tt=U[pt].map;if(Ve-=$,0>Ve)$=Math.max(0,U[pt].g-100),je=!1;else try{Ja(Tt,re,"req"+Ve+"_")}catch{w&&w(Tt)}}if(je){w=re.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,w}function Ci(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Be||oe(),ie||(Be(),ie=!0),me.add(p,u),u.v=0}}function _s(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Sn(R(u.Fa,u),tl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,el(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Sn(R(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Nn(this),el(this))};function Mo(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function el(u){u.g=new Cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=rn(u.qa);$e(p,"RID","rpc"),$e(p,"SID",u.K),$e(p,"AID",u.T),$e(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(p,"TO",u.ja),$e(p,"TYPE","xmlhttp"),mr(u,p),u.m&&u.o&&br(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Or(rn(p)),v.m=null,v.P=!0,Po(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Nn(this),_s(this),it(19))};function Es(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ws(u,p){var v=null;if(u.g==p){Es(u),Mo(u),u.g=null;var w=2}else if(jt(u.h,p))v=p.D,Ha(u.h,p),w=1;else return;if(u.G!=0){if(p.o)if(w==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var U=u.B;w=gi(),dt(w,new os(w,v)),Kn(u)}else Ci(u);else if(U=p.s,U==3||U==0&&0<p.X||!(w==1&&cc(u,p)||w==2&&_s(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),U){case 1:gr(u,5);break;case 4:gr(u,10);break;case 3:gr(u,6);break;default:gr(u,2)}}}function tl(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function gr(u,p){if(u.j.info("Error code "+p),p==2){var v=R(u.fb,u),w=u.Xa;const U=!w;w=new fr(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Si(w,"https"),Or(w),U?ac(w.toString(),v):Ya(w.toString(),v)}else it(2);u.G=0,u.l&&u.l.sa(p),nl(u),ys(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function nl(u){if(u.G=0,u.ka=[],u.l){const p=Wa(u.h);(p.length!=0||u.i.length!=0)&&(N(u.ka,p),N(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function rl(u,p,v){var w=v instanceof fr?rn(v):new fr(v);if(w.g!="")p&&(w.g=p+"."+w.g),Vr(w,w.s);else{var U=d.location;w=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var $=new fr(null);w&&Si($,w),p&&($.g=p),U&&Vr($,U),v&&($.l=v),w=$}return v=u.D,p=u.ya,v&&p&&$e(w,v,p),$e(w,"VER",u.la),mr(u,w),w}function il(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Xe(new dr({eb:v})):new Xe(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}r=Fo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ts(){}Ts.prototype.g=function(u,p){return new $t(u,p)};function $t(u,p){ft.call(this),this.g=new Oo(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!K(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!K(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Qn(this)}k($t,ft),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Pt(this.g)},$t.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Eo(u),u=v);p.i.push(new $a(p.Ya++,u)),p.G==3&&Kn(p)},$t.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,$t.aa.N.call(this)};function sl(u){jn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}k(sl,jn);function ol(){ss.call(this),this.status=1}k(ol,ss);function Qn(u){this.g=u}k(Qn,Fo),Qn.prototype.ua=function(){dt(this.g,"a")},Qn.prototype.ta=function(u){dt(this.g,new sl(u))},Qn.prototype.sa=function(u){dt(this.g,new ol)},Qn.prototype.ra=function(){dt(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Wy=function(){return new Ts},Hy=function(){return gi()},qy=$n,df={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,du=ls,Ua.COMPLETE="complete",$y=Ua,is.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,ha=is,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,jy=Xe}).apply(typeof tu<"u"?tu:typeof self<"u"?self:typeof window<"u"?window:{});const sg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Oy("@firebase/firestore");function qs(){return Wi.logLevel}function ae(r,...e){if(Wi.logLevel<=Oe.DEBUG){const t=e.map(Bf);Wi.debug(`Firestore (${lo}): ${r}`,...t)}}function Ar(r,...e){if(Wi.logLevel<=Oe.ERROR){const t=e.map(Bf);Wi.error(`Firestore (${lo}): ${r}`,...t)}}function Xs(r,...e){if(Wi.logLevel<=Oe.WARN){const t=e.map(Bf);Wi.warn(`Firestore (${lo}): ${r}`,...t)}}function Bf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+r;throw Ar(e),new Error(e)}function ze(r,e){r||Te()}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ao{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}}class eT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tT{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ri,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ri)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string"),new Ky(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Ut(e)}}class nT{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rT{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new nT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ze(this.o===void 0);const s=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string"),this.R=t.token,new iT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=oT(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function Ne(r,e){return r<e?-1:r>e?1:0}function Ys(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new vt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new vt(0,0))}static max(){return new Se(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(),s===void 0?s=e.length-t:s>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Sa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Je extends Sa{construct(e,t,s){return new Je(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const aT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Sa{construct(e,t,s){return new Dt(e,t,s)}static isValidIdentifier(e){return aT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Je.fromString(e))}static fromName(e){return new _e(Je.fromString(e).popFirst(5))}static empty(){return new _e(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Je(e.slice()))}}function lT(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new vt(t+1,0):new vt(t,s));return new oi(o,_e.empty(),e)}function uT(r){return new oi(r.readTime,r.key,-1)}class oi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new oi(Se.min(),_e.empty(),-1)}static max(){return new oi(Se.max(),_e.empty(),-1)}}function cT(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==hT)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,s)=>{t(e)})}static reject(e){return new Q((t,s)=>{s(e)})}static waitFor(e){return new Q((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},g=>s(g))}),h=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const s of e)t=t.next(o=>o?Q.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new Q((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let g=0;g<l;g++){const y=g;t(e[y]).next(E=>{h[y]=E,++d,d===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Q((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function dT(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$u.oe=-1;function qu(r){return r==null}function Iu(r){return r===0&&1/r==-1/0}function pT(r){return typeof r=="number"&&Number.isInteger(r)&&!Iu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=og(e)),e=gT(r.get(t),e);return og(e)}function gT(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function og(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Qi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Gy(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nu(this.root,e,this.comparator,!0)}}class nu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Nt.RED,this.left=o??Nt.EMPTY,this.right=l??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Nt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lg(this.data.getIterator())}getIteratorFrom(e){return new lg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class lg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new bn([])}unionWith(e){let t=new _t(Dt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Xy("Invalid base64 string: "+l):l}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const yT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ai(r){if(ze(!!r),typeof r=="string"){let e=0;const t=yT.exec(r);if(ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(r.seconds),nanos:ot(r.nanos)}}function ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function li(r){return typeof r=="string"?Vt.fromBase64String(r):Vt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Hu(r){const e=r.mapValue.fields.__previous_value__;return zf(e)?Hu(e):e}function Ra(r){const e=ai(r.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t,s,o,l,h,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=y}}class Ia{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru={mapValue:{}};function ui(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zf(r)?4:ET(r)?9007199254740991:_T(r)?10:11:Te()}function ir(r,e){if(r===e)return!0;const t=ui(r);if(t!==ui(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ra(r).isEqual(Ra(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=ai(o.timestampValue),d=ai(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return li(o.bytesValue).isEqual(li(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return ot(o.geoPointValue.latitude)===ot(l.geoPointValue.latitude)&&ot(o.geoPointValue.longitude)===ot(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ot(o.integerValue)===ot(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ot(o.doubleValue),d=ot(l.doubleValue);return h===d?Iu(h)===Iu(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Ys(r.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(ag(h)!==ag(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!ir(h[g],d[g])))return!1;return!0}(r,e);default:return Te()}}function Ca(r,e){return(r.values||[]).find(t=>ir(t,e))!==void 0}function Js(r,e){if(r===e)return 0;const t=ui(r),s=ui(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return function(l,h){const d=ot(l.integerValue||l.doubleValue),g=ot(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,e);case 3:return ug(r.timestampValue,e.timestampValue);case 4:return ug(Ra(r),Ra(e));case 5:return Ne(r.stringValue,e.stringValue);case 6:return function(l,h){const d=li(l),g=li(h);return d.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),g=h.split("/");for(let y=0;y<d.length&&y<g.length;y++){const E=Ne(d[y],g[y]);if(E!==0)return E}return Ne(d.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const d=Ne(ot(l.latitude),ot(h.latitude));return d!==0?d:Ne(ot(l.longitude),ot(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return cg(r.arrayValue,e.arrayValue);case 10:return function(l,h){var d,g,y,E;const T=l.fields||{},R=h.fields||{},O=(d=T.value)===null||d===void 0?void 0:d.arrayValue,k=(g=R.value)===null||g===void 0?void 0:g.arrayValue,F=Ne(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:cg(O,k)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===ru.mapValue&&h===ru.mapValue)return 0;if(l===ru.mapValue)return 1;if(h===ru.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const R=Ne(g[T],E[T]);if(R!==0)return R;const O=Js(d[g[T]],y[E[T]]);if(O!==0)return O}return Ne(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function ug(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const t=ai(r),s=ai(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function cg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Js(t[o],s[o]);if(l)return l}return Ne(t.length,s.length)}function Zs(r){return pf(r)}function pf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ai(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return li(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return _e.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=pf(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${pf(t.fields[h])}`;return o+"}"}(r.mapValue):Te()}function pu(r){switch(ui(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hu(r);return e?16+pu(e):16;case 5:return 2*r.stringValue.length;case 6:return li(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+pu(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Qi(s.fields,(l,h)=>{o+=l.length+pu(h)}),o}(r.mapValue);default:throw Te()}}function mf(r){return!!r&&"integerValue"in r}function jf(r){return!!r&&"arrayValue"in r}function hg(r){return!!r&&"nullValue"in r}function fg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mu(r){return!!r&&"mapValue"in r}function _T(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function pa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Qi(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=pa(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ET(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!mu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(t)}setAll(e){let t=Dt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=pa(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());mu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Qi(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new wn(pa(this.value))}}function Yy(r){const e=[];return Qi(r.fields,(t,s)=>{const o=new Dt([t]);if(mu(s)){const l=Yy(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Bt(e,0,Se.min(),Se.min(),Se.min(),wn.empty(),0)}static newFoundDocument(e,t,s,o){return new Bt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Bt(e,2,t,Se.min(),Se.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Se.min(),Se.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t){this.position=e,this.inclusive=t}}function dg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=Js(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function pg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ir(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t="asc"){this.field=e,this.dir=t}}function wT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{}class yt extends Jy{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ST(e,t,s):t==="array-contains"?new CT(e,s):t==="in"?new AT(e,s):t==="not-in"?new PT(e,s):t==="array-contains-any"?new kT(e,s):new yt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new RT(e,s):new IT(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Js(t,this.value)):t!==null&&ui(this.value)===ui(t)&&this.matchesComparison(Js(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends Jy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new sr(e,t)}matches(e){return Zy(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zy(r){return r.op==="and"}function e0(r){return TT(r)&&Zy(r)}function TT(r){for(const e of r.filters)if(e instanceof sr)return!1;return!0}function gf(r){if(r instanceof yt)return r.field.canonicalString()+r.op.toString()+Zs(r.value);if(e0(r))return r.filters.map(e=>gf(e)).join(",");{const e=r.filters.map(t=>gf(t)).join(",");return`${r.op}(${e})`}}function t0(r,e){return r instanceof yt?function(s,o){return o instanceof yt&&s.op===o.op&&s.field.isEqual(o.field)&&ir(s.value,o.value)}(r,e):r instanceof sr?function(s,o){return o instanceof sr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&t0(h,o.filters[d]),!0):!1}(r,e):void Te()}function n0(r){return r instanceof yt?function(t){return`${t.field.canonicalString()} ${t.op} ${Zs(t.value)}`}(r):r instanceof sr?function(t){return t.op.toString()+" {"+t.getFilters().map(n0).join(" ,")+"}"}(r):"Filter"}class ST extends yt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class RT extends yt{constructor(e,t){super(e,"in",t),this.keys=r0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class IT extends yt{constructor(e,t){super(e,"not-in",t),this.keys=r0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function r0(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class CT extends yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jf(t)&&Ca(t.arrayValue,this.value)}}class AT extends yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ca(this.value.arrayValue,t)}}class PT extends yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ca(this.value.arrayValue,t)}}class kT extends yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ca(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.ue=null}}function mg(r,e=null,t=[],s=[],o=null,l=null,h=null){return new xT(r,e,t,s,o,l,h)}function $f(r){const e=Re(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>gf(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),qu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Zs(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Zs(s)).join(",")),e.ue=t}return e.ue}function qf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!wT(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!t0(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!pg(r.startAt,e.startAt)&&pg(r.endAt,e.endAt)}function yf(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function NT(r,e,t,s,o,l,h,d){return new Wu(r,e,t,s,o,l,h,d)}function i0(r){return new Wu(r)}function gg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function DT(r){return r.collectionGroup!==null}function ma(r){const e=Re(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new _t(Dt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Au(l,s))}),t.has(Dt.keyField().canonicalString())||e.ce.push(new Au(Dt.keyField(),s))}return e.ce}function tr(r){const e=Re(r);return e.le||(e.le=VT(e,ma(r))),e.le}function VT(r,e){if(r.limitType==="F")return mg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Au(o.field,l)});const t=r.endAt?new Cu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Cu(r.startAt.position,r.startAt.inclusive):null;return mg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function vf(r,e,t){return new Wu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ku(r,e){return qf(tr(r),tr(e))&&r.limitType===e.limitType}function s0(r){return`${$f(tr(r))}|lt:${r.limitType}`}function Hs(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>n0(o)).join(", ")}]`),qu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Zs(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Zs(o)).join(",")),`Target(${s})`}(tr(r))}; limitType=${r.limitType})`}function Qu(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of ma(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,g){const y=dg(h,d,g);return h.inclusive?y<=0:y<0}(s.startAt,ma(s),o)||s.endAt&&!function(h,d,g){const y=dg(h,d,g);return h.inclusive?y>=0:y>0}(s.endAt,ma(s),o))}(r,e)}function LT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function o0(r){return(e,t)=>{let s=!1;for(const o of ma(r)){const l=OT(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function OT(r,e,t){const s=r.field.isKeyField()?_e.comparator(e.key,t.key):function(l,h,d){const g=h.data.field(l),y=d.data.field(l);return g!==null&&y!==null?Js(g,y):Te()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return Gy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new nt(_e.comparator);function Pr(){return MT}const a0=new nt(_e.comparator);function fa(...r){let e=a0;for(const t of r)e=e.insert(t.key,t);return e}function l0(r){let e=a0;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ji(){return ga()}function u0(){return ga()}function ga(){return new Gi(r=>r.toString(),(r,e)=>r.isEqual(e))}const FT=new nt(_e.comparator),bT=new _t(_e.comparator);function ke(...r){let e=bT;for(const t of r)e=e.add(t);return e}const UT=new _t(Ne);function BT(){return UT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(e)?"-0":e}}function c0(r){return{integerValue:""+r}}function zT(r,e){return pT(e)?c0(e):Hf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this._=void 0}}function jT(r,e,t){return r instanceof Pu?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&zf(l)&&(l=Hu(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof Aa?f0(r,e):r instanceof Pa?d0(r,e):function(o,l){const h=h0(o,l),d=yg(h)+yg(o.Pe);return mf(h)&&mf(o.Pe)?c0(d):Hf(o.serializer,d)}(r,e)}function $T(r,e,t){return r instanceof Aa?f0(r,e):r instanceof Pa?d0(r,e):t}function h0(r,e){return r instanceof ku?function(s){return mf(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Pu extends Gu{}class Aa extends Gu{constructor(e){super(),this.elements=e}}function f0(r,e){const t=p0(e);for(const s of r.elements)t.some(o=>ir(o,s))||t.push(s);return{arrayValue:{values:t}}}class Pa extends Gu{constructor(e){super(),this.elements=e}}function d0(r,e){let t=p0(e);for(const s of r.elements)t=t.filter(o=>!ir(o,s));return{arrayValue:{values:t}}}class ku extends Gu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function yg(r){return ot(r.integerValue||r.doubleValue)}function p0(r){return jf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function qT(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Aa&&o instanceof Aa||s instanceof Pa&&o instanceof Pa?Ys(s.elements,o.elements,ir):s instanceof ku&&o instanceof ku?ir(s.Pe,o.Pe):s instanceof Pu&&o instanceof Pu}(r.transform,e.transform)}class HT{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Xu{}function m0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wf(r.key,nr.none()):new La(r.key,r.data,nr.none());{const t=r.data,s=wn.empty();let o=new _t(Dt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Xi(r.key,s,new bn(o.toArray()),nr.none())}}function WT(r,e,t){r instanceof La?function(o,l,h){const d=o.value.clone(),g=_g(o.fieldTransforms,l,h.transformResults);d.setAll(g),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Xi?function(o,l,h){if(!gu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=_g(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(g0(o)),g.setAll(d),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ya(r,e,t,s){return r instanceof La?function(l,h,d,g){if(!gu(l.precondition,h))return d;const y=l.value.clone(),E=Eg(l.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof Xi?function(l,h,d,g){if(!gu(l.precondition,h))return d;const y=Eg(l.fieldTransforms,g,h),E=h.data;return E.setAll(g0(l)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(l,h,d){return gu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function KT(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=h0(s.transform,o||null);l!=null&&(t===null&&(t=wn.empty()),t.set(s.field,l))}return t||null}function vg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ys(s,o,(l,h)=>qT(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class La extends Xu{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xi extends Xu{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function g0(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function _g(r,e,t){const s=new Map;ze(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,$T(h,d,t[o]))}return s}function Eg(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,jT(l,h,e))}return s}class Wf extends Xu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QT extends Xu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&WT(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ya(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ya(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=u0();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const g=m0(h,d);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(t,s)=>vg(t,s))&&Ys(this.baseMutations,e.baseMutations,(t,s)=>vg(t,s))}}class Kf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ze(e.mutations.length===s.length);let o=function(){return FT}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Kf(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Le;function JT(r){switch(r){default:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function y0(r){if(r===void 0)return Ar("GRPC error has no .code"),J.UNKNOWN;switch(r){case ct.OK:return J.OK;case ct.CANCELLED:return J.CANCELLED;case ct.UNKNOWN:return J.UNKNOWN;case ct.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ct.INTERNAL:return J.INTERNAL;case ct.UNAVAILABLE:return J.UNAVAILABLE;case ct.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ct.NOT_FOUND:return J.NOT_FOUND;case ct.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ct.ABORTED:return J.ABORTED;case ct.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ct.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(Le=ct||(ct={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new qi([4294967295,4294967295],0);function wg(r){const e=ZT().encode(r),t=new zy;return t.update(e),new Uint8Array(t.digest())}function Tg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qi([t,s],0),new qi([o,l],0)]}class Qf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new da(`Invalid padding: ${t}`);if(s<0)throw new da(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new da(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new da(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=qi.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply(qi.fromNumber(s)));return o.compare(eS)===1&&(o=new qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=wg(e),[s,o]=Tg(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Qf(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const t=wg(e),[s,o]=Tg(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Oa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Yu(Se.min(),o,new nt(Ne),Pr(),ke())}}class Oa{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Oa(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class v0{constructor(e,t){this.targetId=e,this.me=t}}class _0{constructor(e,t,s=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Sg{constructor(){this.fe=0,this.ge=Rg(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),t=ke(),s=ke();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new Oa(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=Rg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pr(),this.qe=iu(),this.Qe=iu(),this.Ke=new nt(Ne)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(yf(l))if(s===0){const h=new _e(l.path);this.We(t,h,Bt.newNoDocument(h,Se.min()))}else ze(s===1);else{const h=this.Ze(t);if(h!==s){const d=this.Xe(e),g=d?this.et(d,e,h):1;if(g!==0){this.He(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=li(s).toUint8Array()}catch(g){if(g instanceof Xy)return Xs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Qf(h,o,l)}catch(g){return Xs(g instanceof da?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Te===0?null:d}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const d=this.Ye(h);if(d){if(l.current&&yf(d.target)){const g=new _e(d.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Bt.newNoDocument(g,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let s=ke();this.Qe.forEach((l,h)=>{let d=!0;h.forEachWhile(g=>{const y=this.Ye(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new Yu(e,t,this.Ke,this.ke,s);return this.ke=Pr(),this.qe=iu(),this.Qe=iu(),this.Ke=new nt(Ne),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Sg,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new _t(Ne),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new _t(Ne),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Sg),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function iu(){return new nt(_e.comparator)}function Rg(){return new nt(_e.comparator)}const nS={asc:"ASCENDING",desc:"DESCENDING"},rS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iS={and:"AND",or:"OR"};class sS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _f(r,e){return r.useProto3Json||qu(e)?e:{value:e}}function xu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function oS(r,e){return xu(r,e.toTimestamp())}function rr(r){return ze(!!r),Se.fromTimestamp(function(t){const s=ai(t);return new vt(s.seconds,s.nanos)}(r))}function Gf(r,e){return Ef(r,e).canonicalString()}function Ef(r,e){const t=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function w0(r){const e=Je.fromString(r);return ze(C0(e)),e}function wf(r,e){return Gf(r.databaseId,e.path)}function qh(r,e){const t=w0(e);if(t.get(1)!==r.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(S0(t))}function T0(r,e){return Gf(r.databaseId,e)}function aS(r){const e=w0(r);return e.length===4?Je.emptyPath():S0(e)}function Tf(r){return new Je(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function S0(r){return ze(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Ig(r,e,t){return{name:wf(r,e),fields:t.value.mapValue.fields}}function lS(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,E){return y.useProto3Json?(ze(E===void 0||typeof E=="string"),Vt.fromBase64String(E||"")):(ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Vt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const E=y.code===void 0?J.UNKNOWN:y0(y.code);return new pe(E,y.message||"")}(h);t=new _0(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qh(r,s.document.name),l=rr(s.document.updateTime),h=s.document.createTime?rr(s.document.createTime):Se.min(),d=new wn({mapValue:{fields:s.document.fields}}),g=Bt.newFoundDocument(o,l,h,d),y=s.targetIds||[],E=s.removedTargetIds||[];t=new yu(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qh(r,s.document),l=s.readTime?rr(s.readTime):Se.min(),h=Bt.newNoDocument(o,l),d=s.removedTargetIds||[];t=new yu([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qh(r,s.document),l=s.removedTargetIds||[];t=new yu([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new YT(o,l),d=s.targetId;t=new v0(d,h)}}return t}function uS(r,e){let t;if(e instanceof La)t={update:Ig(r,e.key,e.value)};else if(e instanceof Wf)t={delete:wf(r,e.key)};else if(e instanceof Xi)t={update:Ig(r,e.key,e.data),updateMask:vS(e.fieldMask)};else{if(!(e instanceof QT))return Te();t={verify:wf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Pu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Aa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ku)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw Te()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:oS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(r,e.precondition)),t}function cS(r,e){return r&&r.length>0?(ze(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?rr(o.updateTime):rr(l);return h.isEqual(Se.min())&&(h=rr(l)),new HT(h,o.transformResults||[])}(t,e))):[]}function hS(r,e){return{documents:[T0(r,e.path)]}}function fS(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=T0(r,o);const l=function(y){if(y.length!==0)return I0(sr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(E=>function(R){return{field:Ws(R.field),direction:mS(R.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=_f(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function dS(r){let e=aS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ze(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(T){const R=R0(T);return R instanceof sr&&e0(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(R=>function(k){return new Au(Ks(k.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(R))}(t.orderBy));let d=null;t.limit&&(d=function(T){let R;return R=typeof T=="object"?T.value:T,qu(R)?null:R}(t.limit));let g=null;t.startAt&&(g=function(T){const R=!!T.before,O=T.values||[];return new Cu(O,R)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const R=!T.before,O=T.values||[];return new Cu(O,R)}(t.endAt)),NT(e,o,h,l,d,"F",g,y)}function pS(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function R0(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ks(t.unaryFilter.field);return yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ks(t.unaryFilter.field);return yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ks(t.unaryFilter.field);return yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ks(t.unaryFilter.field);return yt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(t){return yt.create(Ks(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return sr.create(t.compositeFilter.filters.map(s=>R0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(r):Te()}function mS(r){return nS[r]}function gS(r){return rS[r]}function yS(r){return iS[r]}function Ws(r){return{fieldPath:r.canonicalString()}}function Ks(r){return Dt.fromServerFormat(r.fieldPath)}function I0(r){return r instanceof yt?function(t){if(t.op==="=="){if(fg(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NAN"}};if(hg(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fg(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NAN"}};if(hg(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(t.field),op:gS(t.op),value:t.value}}}(r):r instanceof sr?function(t){const s=t.getFilters().map(o=>I0(o));return s.length===1?s[0]:{compositeFilter:{op:yS(t.op),filters:s}}}(r):Te()}function vS(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function C0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t,s,o,l=Se.min(),h=Se.min(),d=Vt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.ht=e}}function ES(r){const e=dS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.ln=new TS}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(oi.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(oi.min())}updateCollectionGroup(e,t,s){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class TS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new _t(Je.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new _t(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new eo(0)}static Qn(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag([r,e],[t,s]){const o=Ne(r,t);return o===0?Ne(e,s):o}class SS{constructor(e){this.Gn=e,this.buffer=new _t(Ag),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Ag(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){co(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await uo(t)}await this.Yn(3e5)})}}class IS{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Q.resolve($u.oe);const s=new SS(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Cg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cg):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,l,h,d,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(y=Date.now(),qs()<=Oe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function CS(r,e){return new IS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.changes=new Gi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Q.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ya(s.mutation,o,bn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=ji();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=fa();return l.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ji();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=Pr();const h=ga(),d=function(){return ga()}();return t.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Xi)?l=l.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),ya(E.mutation,y,E.mutation.getFieldMask(),vt.now())):h.set(y.key,bn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((y,E)=>h.set(y,E)),t.forEach((y,E)=>{var T;return d.set(y,new PS(E,(T=h.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=ga();let o=new nt((h,d)=>h-d),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let E=s.get(g)||bn.empty();E=d.applyToLocalView(y,E),s.set(g,E);const T=(o.get(d.batchId)||ke()).add(g);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),y=g.key,E=g.value,T=u0();E.forEach(R=>{if(!l.has(R)){const O=m0(t.get(R),s.get(R));O!==null&&T.set(R,O),l=l.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return Q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Q.resolve(ji());let d=-1,g=l;return h.next(y=>Q.forEach(y,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{g=g.insert(E,R)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,g,y,ke())).next(E=>({batchId:d,changes:l0(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=fa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=fa();return this.indexManager.getCollectionParents(e,l).next(d=>Q.forEach(d,g=>{const y=function(T,R){return new Wu(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((T,R)=>{h=h.insert(T,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,Bt.newInvalidDocument(E)))});let d=fa();return h.forEach((g,y)=>{const E=l.get(g);E!==void 0&&ya(E.mutation,y,bn.empty(),vt.now()),Qu(t,y)&&(d=d.insert(g,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:rr(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:ES(o.bundledQuery),readTime:rr(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.overlays=new nt(_e.comparator),this.Er=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ji();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Tt(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(s)),Q.resolve()}getOverlaysForCollection(e,t,s){const o=ji(),l=t.length+1,h=new _e(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new nt((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let E=l.get(y.largestBatchId);E===null&&(E=ji(),l=l.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const d=ji(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>d.set(y,E)),!(d.size()>=o)););return Q.resolve(d)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new XT(t,s));let l=this.Er.get(t);l===void 0&&(l=ke(),this.Er.set(t,l)),this.Er.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.dr=new _t(Ct.Ar),this.Rr=new _t(Ct.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new Ct(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new Ct(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new _e(new Je([])),s=new Ct(t,e),o=new Ct(t,e+1),l=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new _e(new Je([])),s=new Ct(t,e),o=new Ct(t,e+1);let l=ke();return this.Rr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ct(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ct{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return _e.comparator(e.key,t.key)||Ne(e.br,t.br)}static Vr(e,t){return Ne(e.br,t.br)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new _t(Ct.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new GT(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new Ct(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([s,o],h=>{const d=this.Cr(h.br);l.push(d)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new _t(Ne);return t.forEach(o=>{const l=new Ct(o,0),h=new Ct(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],d=>{s=s.add(d.br)})}),Q.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const h=new Ct(new _e(l),0);let d=new _t(Ne);return this.vr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(g.br)),!0)},h),Q.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ze(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return Q.forEach(t.mutations,o=>{const l=new Ct(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new Ct(t,0),o=this.vr.firstAfterOrEqual(s);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.Nr=e,this.docs=function(){return new nt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Q.resolve(s?s.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let s=Pr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Bt.newInvalidDocument(o))}),Q.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Pr();const h=t.path,d=new _e(h.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||cT(uT(E),s)<=0||(o.has(E.key)||Qu(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te()}Lr(e,t){return Q.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new OS(this)}getSize(e){return Q.resolve(this.size)}}class OS extends AS{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.persistence=e,this.Br=new Gi(t=>$f(t),qf),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.kr=0,this.qr=new Xf,this.targetCount=0,this.Qr=eo.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new eo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return Q.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),Q.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return Q.resolve(s)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new $u(0),this.Ur=!1,this.Ur=!0,this.Wr=new DS,this.referenceDelegate=e(this),this.Gr=new MS(this),this.indexManager=new wS,this.remoteDocumentCache=function(o){return new LS(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new _S(t),this.jr=new xS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new VS(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new FS(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Q.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class FS extends fT{constructor(e){super(),this.currentSequenceNumber=e}}class Yf{constructor(e){this.persistence=e,this.Zr=new Xf,this.Xr=null}static ei(e){return new Yf(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),Q.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,s=>{const o=_e.fromPath(s);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Nu{constructor(e,t){this.persistence=e,this.ri=new Gi(s=>mT(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=CS(this,t)}static ei(e,t){return new Nu(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(d=>{d||(s++,l.removeEntry(h,Se.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pu(e.data.value)),t}ir(e,t,s){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Q.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Jf(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Fw()?8:dT(Ow())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new bS;return this.ts(e,t,h).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,h,d.size)})}).next(()=>l.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(qs()<=Oe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Hs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(qs()<=Oe.DEBUG&&ae("QueryEngine","Query:",Hs(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(qs()<=Oe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Hs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):Q.resolve())}Xi(e,t){if(gg(t))return Q.resolve(null);let s=tr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=vf(t,null,"F"),s=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=ke(...l);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.rs(t,d);return this.ss(t,y,h,g.readTime)?this.Xi(e,vf(t,null,"F")):this.os(e,y,t,g)}))})))}es(e,t,s,o){return gg(t)||o.isEqual(Se.min())?Q.resolve(null):this.Zi.getDocuments(e,s).next(l=>{const h=this.rs(t,l);return this.ss(t,h,s,o)?Q.resolve(null):(qs()<=Oe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Hs(t)),this.os(e,h,t,lT(o,-1)).next(d=>d))})}rs(e,t){let s=new _t(o0(e));return t.forEach((o,l)=>{Qu(e,l)&&(s=s.add(l))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,s){return qs()<=Oe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Hs(t)),this.Zi.getDocumentsMatchingQuery(e,t,oi.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new nt(Ne),this.cs=new Gi(l=>$f(l),qf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kS(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function zS(r,e,t,s){return new BS(r,e,t,s)}async function P0(r,e){const t=Re(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let g=ke();for(const y of o){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of l){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function jS(r,e){const t=Re(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,g,y,E){const T=y.batch,R=T.keys();let O=Q.resolve();return R.forEach(k=>{O=O.next(()=>E.getEntry(g,k)).next(F=>{const N=y.docVersions.get(k);ze(N!==null),F.version.compareTo(N)<0&&(T.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(g,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let g=ke();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function k0(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function $S(r,e){const t=Re(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((E,T)=>{const R=o.get(T);if(!R)return;d.push(t.Gr.removeMatchingKeys(l,E.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,E.addedDocuments,T)));let O=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Vt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(T,O),function(F,N,q){return F.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(R,O,E)&&d.push(t.Gr.updateTargetData(l,O))});let g=Pr(),y=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(qS(l,h,e.documentUpdates).next(E=>{g=E.Is,y=E.Es})),!s.isEqual(Se.min())){const E=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(E)}return Q.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,y)).next(()=>g)}).then(l=>(t.us=o,l))}function qS(r,e,t){let s=ke(),o=ke();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=Pr();return t.forEach((d,g)=>{const y=l.get(d);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):ae("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",g.version)}),{Is:h,Es:o}})}function HS(r,e){const t=Re(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function WS(r,e){const t=Re(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(l=>l?(o=l,Q.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new ei(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function Sf(r,e,t){const s=Re(r),o=s.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!co(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function Pg(r,e,t){const s=Re(r);let o=Se.min(),l=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,E){const T=Re(g),R=T.cs.get(E);return R!==void 0?Q.resolve(T.us.get(R)):T.Gr.getTargetData(y,E)}(s,h,tr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next(g=>{l=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?l:ke())).next(d=>(KS(s,LT(e),d),{documents:d,ds:l})))}function KS(r,e,t){let s=r.ls.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.ls.set(e,s)}class kg{constructor(){this.activeTargetIds=BT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QS{constructor(){this._o=new kg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new kg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su=null;function Hh(){return su===null?su=function(){return 268435456+Math.round(2147483648*Math.random())}():su++,"0x"+su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class JS extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,s,o,l,h){const d=Hh(),g=this.No(t,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${d}:`,g,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,g,y,o).then(E=>(ae("RestConnection",`Received RPC '${t}' ${d}: `,E),E),E=>{throw Xs("RestConnection",`RPC '${t}' ${d} failed with error: `,E,"url: ",g,"request:",o),E})}ko(t,s,o,l,h,d){return this.Oo(t,s,o,l,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,s){const o=XS[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const l=Hh();return new Promise((h,d)=>{const g=new jy;g.setWithCredentials(!0),g.listenOnce($y.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case du.NO_ERROR:const E=g.getResponseJson();ae(bt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case du.TIMEOUT:ae(bt,`RPC '${e}' ${l} timed out`),d(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:const T=g.getStatus();if(ae(bt,`RPC '${e}' ${l} failed with status:`,T,"response text:",g.getResponseText()),T>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R==null?void 0:R.error;if(O&&O.status&&O.message){const k=function(N){const q=N.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(q)>=0?q:J.UNKNOWN}(O.status);d(new pe(k,O.message))}else d(new pe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(bt,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ae(bt,`RPC '${e}' ${l} sending request:`,o),g.send(t,"POST",y,s,15)})}qo(e,t,s){const o=Hh(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Wy(),d=Hy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=l.join("");ae(bt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=h.createWebChannel(E,g);let R=!1,O=!1;const k=new YS({Eo:N=>{O?ae(bt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(R||(ae(bt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),ae(bt,`RPC '${e}' stream ${o} sending:`,N),T.send(N))},Ao:()=>T.close()}),F=(N,q,K)=>{N.listen(q,ee=>{try{K(ee)}catch(le){setTimeout(()=>{throw le},0)}})};return F(T,ha.EventType.OPEN,()=>{O||(ae(bt,`RPC '${e}' stream ${o} transport opened.`),k.So())}),F(T,ha.EventType.CLOSE,()=>{O||(O=!0,ae(bt,`RPC '${e}' stream ${o} transport closed`),k.Do())}),F(T,ha.EventType.ERROR,N=>{O||(O=!0,Xs(bt,`RPC '${e}' stream ${o} transport errored:`,N),k.Do(new pe(J.UNAVAILABLE,"The operation could not be completed")))}),F(T,ha.EventType.MESSAGE,N=>{var q;if(!O){const K=N.data[0];ze(!!K);const ee=K,le=(ee==null?void 0:ee.error)||((q=ee[0])===null||q===void 0?void 0:q.error);if(le){ae(bt,`RPC '${e}' stream ${o} received error:`,le);const ge=le.status;let Ee=function(C){const x=ct[C];if(x!==void 0)return y0(x)}(ge),P=le.message;Ee===void 0&&(Ee=J.INTERNAL,P="Unknown error status: "+ge+" with message "+le.message),O=!0,k.Do(new pe(Ee,P)),T.close()}else ae(bt,`RPC '${e}' stream ${o} received:`,K),k.vo(K)}}),F(d,qy.STAT_EVENT,N=>{N.stat===df.PROXY?ae(bt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===df.NOPROXY&&ae(bt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function Wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(r){return new sS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,t,s=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t,s,o,l,h,d,g){this.li=e,this.Yo=s,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new x0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZS extends N0{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=lS(this.serializer,e),s=function(l){if(!("targetChange"in l))return Se.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?rr(h.readTime):Se.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=Tf(this.serializer),t.addTarget=function(l,h){let d;const g=h.target;if(d=yf(g)?{documents:hS(l,g)}:{query:fS(l,g).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=E0(l,h.resumeToken);const y=_f(l,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Se.min())>0){d.readTime=xu(l,h.snapshotVersion.toTimestamp());const y=_f(l,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const s=pS(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=Tf(this.serializer),t.removeTarget=e,this.c_(t)}}class eR extends N0{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=cS(e.writeResults,e.commitTime),s=rr(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=Tf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>uS(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,Ef(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(J.UNKNOWN,l.toString())})}ko(e,t,s,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,Ef(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(J.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class nR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ar(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{Yi(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(g){const y=Re(g);y.k_.add(4),await Ma(y),y.K_.set("Unknown"),y.k_.delete(4),await Zu(y)}(this))})}),this.K_=new nR(s,o)}}async function Zu(r){if(Yi(r))for(const e of r.q_)await e(!0)}async function Ma(r){for(const e of r.q_)await e(!1)}function D0(r,e){const t=Re(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),nd(t)?td(t):ho(t).s_()&&ed(t,e))}function Zf(r,e){const t=Re(r),s=ho(t);t.B_.delete(e),s.s_()&&V0(t,e),t.B_.size===0&&(s.s_()?s.a_():Yi(t)&&t.K_.set("Unknown"))}function ed(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ho(r).V_(e)}function V0(r,e){r.U_.xe(e),ho(r).m_(e)}function td(r){r.U_=new tS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.K_.F_()}function nd(r){return Yi(r)&&!ho(r).i_()&&r.B_.size>0}function Yi(r){return Re(r).k_.size===0}function L0(r){r.U_=void 0}async function iR(r){r.K_.set("Online")}async function sR(r){r.B_.forEach((e,t)=>{ed(r,e)})}async function oR(r,e){L0(r),nd(r)?(r.K_.O_(e),td(r)):r.K_.set("Unknown")}async function aR(r,e,t){if(r.K_.set("Online"),e instanceof _0&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.B_.delete(d),o.U_.removeTarget(d))}(r,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Du(r,s)}else if(e instanceof yu?r.U_.$e(e):e instanceof v0?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Se.min()))try{const s=await k0(r.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.U_.it(h);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=l.B_.get(y);E&&l.B_.set(y,E.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,y)=>{const E=l.B_.get(g);if(!E)return;l.B_.set(g,E.withResumeToken(Vt.EMPTY_BYTE_STRING,E.snapshotVersion)),V0(l,g);const T=new ei(E.target,g,y,E.sequenceNumber);ed(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await Du(r,s)}}async function Du(r,e,t){if(!co(e))throw e;r.k_.add(1),await Ma(r),r.K_.set("Offline"),t||(t=()=>k0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Zu(r)})}function O0(r,e){return e().catch(t=>Du(r,t,e))}async function ec(r){const e=Re(r),t=ci(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;lR(e);)try{const o=await HS(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,uR(e,o)}catch(o){await Du(e,o)}M0(e)&&F0(e)}function lR(r){return Yi(r)&&r.L_.length<10}function uR(r,e){r.L_.push(e);const t=ci(r);t.s_()&&t.f_&&t.g_(e.mutations)}function M0(r){return Yi(r)&&!ci(r).i_()&&r.L_.length>0}function F0(r){ci(r).start()}async function cR(r){ci(r).w_()}async function hR(r){const e=ci(r);for(const t of r.L_)e.g_(t.mutations)}async function fR(r,e,t){const s=r.L_.shift(),o=Kf.from(s,e,t);await O0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ec(r)}async function dR(r,e){e&&ci(r).f_&&await async function(s,o){if(function(h){return JT(h)&&h!==J.ABORTED}(o.code)){const l=s.L_.shift();ci(s).__(),await O0(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await ec(s)}}(r,e),M0(r)&&F0(r)}async function Ng(r,e){const t=Re(r);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=Yi(t);t.k_.add(3),await Ma(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Zu(t)}async function pR(r,e){const t=Re(r);e?(t.k_.delete(2),await Zu(t)):e||(t.k_.add(2),await Ma(t),t.K_.set("Unknown"))}function ho(r){return r.W_||(r.W_=function(t,s,o){const l=Re(t);return l.b_(),new ZS(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:iR.bind(null,r),mo:sR.bind(null,r),po:oR.bind(null,r),R_:aR.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),nd(r)?td(r):r.K_.set("Unknown")):(await r.W_.stop(),L0(r))})),r.W_}function ci(r){return r.G_||(r.G_=function(t,s,o){const l=Re(t);return l.b_(),new eR(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:cR.bind(null,r),po:dR.bind(null,r),p_:hR.bind(null,r),y_:fR.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await ec(r)):(await r.G_.stop(),r.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new rd(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function id(r,e){if(Ar("AsyncQueue",`${e}: ${r}`),co(r))return new pe(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{static emptySet(e){return new Gs(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=fa(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Gs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.z_=new nt(_e.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class to{constructor(e,t,s,o,l,h,d,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new to(e,t,Gs.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class gR{constructor(){this.queries=Vg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Re(t),l=o.queries;o.queries=Vg(),l.forEach((h,d)=>{for(const g of d.J_)g.onError(s)})})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function Vg(){return new Gi(r=>s0(r),Ku)}async function yR(r,e){const t=Re(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(s=2):(l=new mR,s=e.Z_()?0:1);try{switch(s){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=id(h,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&sd(t)}async function vR(r,e){const t=Re(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function _R(r,e){const t=Re(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.J_)d.ta(o)&&(s=!0);h.H_=o}}s&&sd(t)}function ER(r,e,t){const s=Re(r),o=s.queries.get(e);if(o)for(const l of o.J_)l.onError(t);s.queries.delete(e)}function sd(r){r.X_.forEach(e=>{e.next()})}var Rf,Lg;(Lg=Rf||(Rf={})).na="default",Lg.Cache="cache";class wR{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new to(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Rf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.key=e}}class U0{constructor(e){this.key=e}}class TR{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ke(),this.mutatedKeys=ke(),this.Va=o0(e),this.ma=new Gs(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new Dg,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const R=o.get(E),O=Qu(this.query,T)?T:null,k=!!R&&this.mutatedKeys.has(R.key),F=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let N=!1;R&&O?R.data.isEqual(O.data)?k!==F&&(s.track({type:3,doc:O}),N=!0):this.ya(R,O)||(s.track({type:2,doc:O}),N=!0,(g&&this.Va(O,g)>0||y&&this.Va(O,y)<0)&&(d=!0)):!R&&O?(s.track({type:0,doc:O}),N=!0):R&&!O&&(s.track({type:1,doc:R}),N=!0,(g||y)&&(d=!0)),N&&(O?(h=h.add(O),l=F?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,T)=>function(O,k){const F=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return F(O)-F(k)}(E.type,T.type)||this.Va(E.doc,T.doc)),this.wa(s),o=o!=null&&o;const d=t&&!o?this.Sa():[],g=this.Ra.size===0&&this.current&&!o?1:0,y=g!==this.Aa;return this.Aa=g,h.length!==0||y?{snapshot:new to(this.query,e.ma,l,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Dg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ke(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new U0(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new b0(s))}),t}va(e){this.da=e.ds,this.Ra=ke();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return to.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class SR{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class RR{constructor(e){this.key=e,this.Fa=!1}}class IR{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Gi(d=>s0(d),Ku),this.Oa=new Map,this.Na=new Set,this.La=new nt(_e.comparator),this.Ba=new Map,this.ka=new Xf,this.qa={},this.Qa=new Map,this.Ka=eo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function CR(r,e,t=!0){const s=H0(r);let o;const l=s.xa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await B0(s,e,t,!0),o}async function AR(r,e){const t=H0(r);await B0(t,e,!0,!1)}async function B0(r,e,t,s){const o=await WS(r.localStore,tr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await PR(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&D0(r.remoteStore,o),d}async function PR(r,e,t,s,o){r.Ua=(T,R,O)=>async function(F,N,q,K){let ee=N.view.ga(q);ee.ss&&(ee=await Pg(F.localStore,N.query,!1).then(({documents:P})=>N.view.ga(P,ee)));const le=K&&K.targetChanges.get(N.targetId),ge=K&&K.targetMismatches.get(N.targetId)!=null,Ee=N.view.applyChanges(ee,F.isPrimaryClient,le,ge);return Mg(F,N.targetId,Ee.ba),Ee.snapshot}(r,T,R,O);const l=await Pg(r.localStore,e,!0),h=new TR(e,l.ds),d=h.ga(l.documents),g=Oa.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(d,r.isPrimaryClient,g);Mg(r,t,y.ba);const E=new SR(e,t,h);return r.xa.set(e,E),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),y.snapshot}async function kR(r,e,t){const s=Re(r),o=s.xa.get(e),l=s.Oa.get(o.targetId);if(l.length>1)return s.Oa.set(o.targetId,l.filter(h=>!Ku(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Zf(s.remoteStore,o.targetId),If(s,o.targetId)}).catch(uo)):(If(s,o.targetId),await Sf(s.localStore,o.targetId,!0))}async function xR(r,e){const t=Re(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Zf(t.remoteStore,s.targetId))}async function NR(r,e,t){const s=bR(r);try{const o=await function(h,d){const g=Re(h),y=vt.now(),E=d.reduce((O,k)=>O.add(k.key),ke());let T,R;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let k=Pr(),F=ke();return g.hs.getEntries(O,E).next(N=>{k=N,k.forEach((q,K)=>{K.isValidDocument()||(F=F.add(q))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,k)).next(N=>{T=N;const q=[];for(const K of d){const ee=KT(K,T.get(K.key).overlayedDocument);ee!=null&&q.push(new Xi(K.key,ee,Yy(ee.value.mapValue),nr.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,q,d)}).next(N=>{R=N;const q=N.applyToLocalDocumentSet(T,F);return g.documentOverlayCache.saveOverlays(O,N.batchId,q)})}).then(()=>({batchId:R.batchId,changes:l0(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,g){let y=h.qa[h.currentUser.toKey()];y||(y=new nt(Ne)),y=y.insert(d,g),h.qa[h.currentUser.toKey()]=y}(s,o.batchId,t),await Fa(s,o.changes),await ec(s.remoteStore)}catch(o){const l=id(o,"Failed to persist write");t.reject(l)}}async function z0(r,e){const t=Re(r);try{const s=await $S(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?ze(h.Fa):o.removedDocuments.size>0&&(ze(h.Fa),h.Fa=!1))}),await Fa(t,s,e)}catch(s){await uo(s)}}function Og(r,e,t){const s=Re(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((l,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const g=Re(h);g.onlineState=d;let y=!1;g.queries.forEach((E,T)=>{for(const R of T.J_)R.ea(d)&&(y=!0)}),y&&sd(g)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function DR(r,e,t){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),l=o&&o.key;if(l){let h=new nt(_e.comparator);h=h.insert(l,Bt.newNoDocument(l,Se.min()));const d=ke().add(l),g=new Yu(Se.min(),new Map,new nt(Ne),h,d);await z0(s,g),s.La=s.La.remove(l),s.Ba.delete(e),od(s)}else await Sf(s.localStore,e,!1).then(()=>If(s,e,t)).catch(uo)}async function VR(r,e){const t=Re(r),s=e.batch.batchId;try{const o=await jS(t.localStore,e);$0(t,s,null),j0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Fa(t,o)}catch(o){await uo(o)}}async function LR(r,e,t){const s=Re(r);try{const o=await function(h,d){const g=Re(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,d).next(T=>(ze(T!==null),E=T.keys(),g.mutationQueue.removeMutationBatch(y,T))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);$0(s,e,t),j0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Fa(s,o)}catch(o){await uo(o)}}function j0(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function $0(r,e,t){const s=Re(r);let o=s.qa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function If(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||q0(r,s)})}function q0(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(Zf(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),od(r))}function Mg(r,e,t){for(const s of t)s instanceof b0?(r.ka.addReference(s.key,e),OR(r,s)):s instanceof U0?(ae("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||q0(r,s.key)):Te()}function OR(r,e){const t=e.key,s=t.path.canonicalString();r.La.get(t)||r.Na.has(s)||(ae("SyncEngine","New document in limbo: "+t),r.Na.add(s),od(r))}function od(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new _e(Je.fromString(e)),s=r.Ka.next();r.Ba.set(s,new RR(t)),r.La=r.La.insert(t,s),D0(r.remoteStore,new ei(tr(i0(t.path)),s,"TargetPurposeLimboResolution",$u.oe))}}async function Fa(r,e,t){const s=Re(r),o=[],l=[],h=[];s.xa.isEmpty()||(s.xa.forEach((d,g)=>{h.push(s.Ua(g,e,t).then(y=>{var E;if((y||t)&&s.isPrimaryClient){const T=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Jf.zi(g.targetId,y);l.push(T)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(g,y){const E=Re(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Q.forEach(y,R=>Q.forEach(R.Wi,O=>E.persistence.referenceDelegate.addReference(T,R.targetId,O)).next(()=>Q.forEach(R.Gi,O=>E.persistence.referenceDelegate.removeReference(T,R.targetId,O)))))}catch(T){if(!co(T))throw T;ae("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const R=T.targetId;if(!T.fromCache){const O=E.us.get(R),k=O.snapshotVersion,F=O.withLastLimboFreeSnapshotVersion(k);E.us=E.us.insert(R,F)}}}(s.localStore,l))}async function MR(r,e){const t=Re(r);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await P0(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(d=>{d.forEach(g=>{g.reject(new pe(J.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fa(t,s.Ts)}}function FR(r,e){const t=Re(r),s=t.Ba.get(e);if(s&&s.Fa)return ke().add(s.key);{let o=ke();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const d=t.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function H0(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=z0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DR.bind(null,e),e.Ma.R_=_R.bind(null,e.eventManager),e.Ma.Wa=ER.bind(null,e.eventManager),e}function bR(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LR.bind(null,e),e}class Vu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ju(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return zS(this.persistence,new US,e.initialUser,this.serializer)}ja(e){return new A0(Yf.ei,this.serializer)}za(e){return new QS}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vu.provider={build:()=>new Vu};class UR extends Vu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ze(this.persistence.referenceDelegate instanceof Nu);const s=this.persistence.referenceDelegate.garbageCollector;return new RS(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new A0(s=>Nu.ei(s,t),this.serializer)}}class Cf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Og(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MR.bind(null,this.syncEngine),await pR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gR}()}createDatastore(e){const t=Ju(e.databaseInfo.databaseId),s=function(l){return new JS(l)}(e.databaseInfo);return function(l,h,d,g){return new tR(l,h,d,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new rR(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Og(this.syncEngine,t,0),function(){return xg.p()?new xg:new GS}())}createSyncEngine(e,t){return function(o,l,h,d,g,y,E){const T=new IR(o,l,h,d,g,y);return E&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Re(o);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Ma(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cf.provider={build:()=>new Cf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=Qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=id(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Kh(r,e){r.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await P0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Fg(r,e){r.asyncQueue.verifyOperationInProgress();const t=await jR(r);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Ng(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Ng(e.remoteStore,o)),r._onlineComponents=e}async function jR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Xs("Error using user provided cache. Falling back to memory cache: "+t),await Kh(r,new Vu)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Kh(r,new UR(void 0));return r._offlineComponents}async function W0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Fg(r,r._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Fg(r,new Cf))),r._onlineComponents}function $R(r){return W0(r).then(e=>e.syncEngine)}async function qR(r){const e=await W0(r),t=e.eventManager;return t.onListen=CR.bind(null,e.syncEngine),t.onUnlisten=kR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xR.bind(null,e.syncEngine),t}function HR(r,e,t={}){const s=new ri;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,g,y){const E=new BR({next:R=>{E.eu(),h.enqueueAndForget(()=>vR(l,T)),R.fromCache&&g.source==="server"?y.reject(new pe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new wR(d,E,{includeMetadataChanges:!0,ua:!0});return yR(l,T)}(await qR(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(r,e,t){if(!t)throw new pe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WR(r,e,t,s){if(e===!0&&s===!0)throw new pe(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ug(r){if(!_e.isDocumentKey(r))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bg(r){if(_e.isDocumentKey(r))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ad(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function ka(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ad(r);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Z1;switch(s.type){case"firstParty":return new rT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=bg.get(t);s&&(ae("ComponentProvider","Removing Datastore"),bg.delete(t),s.terminate())}(this),Promise.resolve()}}function KR(r,e,t,s={}){var o;const l=(r=ka(r,tc))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let d,g;if(typeof s.mockUserToken=="string")d=s.mockUserToken,g=Ut.MOCK_USER;else{d=Lw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ut(y)}r._authCredentials=new eT(new Ky(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new nc(this.firestore,e,this._query)}}class Un{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class ii extends nc{constructor(e,t,s){super(e,t,i0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new _e(e))}withConverter(e){return new ii(this.firestore,e,this._path)}}function G0(r,e,...t){if(r=Ea(r),Q0("collection","path",e),r instanceof tc){const s=Je.fromString(e,...t);return Bg(s),new ii(r,null,s)}{if(!(r instanceof Un||r instanceof ii))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Je.fromString(e,...t));return Bg(s),new ii(r.firestore,null,s)}}function X0(r,e,...t){if(r=Ea(r),arguments.length===1&&(e=Qy.newId()),Q0("doc","path",e),r instanceof tc){const s=Je.fromString(e,...t);return Ug(s),new Un(r,null,new _e(s))}{if(!(r instanceof Un||r instanceof ii))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Je.fromString(e,...t));return Ug(s),new Un(r.firestore,r instanceof ii?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new x0(this,"async_queue_retry"),this.fu=()=>{const s=Wh();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=Wh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Wh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ri;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!co(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Ar("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=rd.createAndSchedule(this,e,t,s,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class rc extends tc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new jg,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jg(e),this._firestoreClient=void 0,await e}}}function QR(r,e){const t=typeof r=="object"?r:$1(),s=typeof r=="string"?r:"(default)",o=U1(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=Dw("firestore");l&&KR(o,...l)}return o}function Y0(r){if(r._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GR(r),r._firestoreClient}function GR(r){var e,t,s;const o=r._freezeSettings(),l=function(d,g,y,E){return new vT(d,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,K0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new zR(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(Vt.fromBase64String(e))}catch(t){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new no(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=/^__.*__$/;class YR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new La(e,this.data,t,this.fieldTransforms)}}function Z0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class hd{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Lu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Z0(this.Mu)&&XR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class JR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ju(e)}$u(e,t,s,o=!1){return new hd({Mu:e,methodName:t,Ku:s,path:Dt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZR(r){const e=r._freezeSettings(),t=Ju(r._databaseId);return new JR(r._databaseId,!!e.ignoreUndefinedProperties,t)}function eI(r,e,t,s,o,l={}){const h=r.$u(l.merge||l.mergeFields?2:0,e,t,o);rv("Data must be an object, but it was:",h,s);const d=tv(s,h);let g,y;if(l.merge)g=new bn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const R=tI(e,T,t);if(!h.contains(R))throw new pe(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);rI(E,R)||E.push(R)}g=new bn(E),y=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,y=h.fieldTransforms;return new YR(new wn(d),g,y)}function ev(r,e){if(nv(r=Ea(r)))return rv("Unsupported field value:",e,r),tv(r,e);if(r instanceof J0)return function(s,o){if(!Z0(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let g=ev(d,o.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=Ea(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=vt.fromDate(s);return{timestampValue:xu(o.serializer,l)}}if(s instanceof vt){const l=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xu(o.serializer,l)}}if(s instanceof ud)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof no)return{bytesValue:E0(o.serializer,s._byteString)};if(s instanceof Un){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cd)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.qu("VectorValues must only contain numeric values.");return Hf(d.serializer,g)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${ad(s)}`)}(r,e)}function tv(r,e){const t={};return Gy(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(r,(s,o)=>{const l=ev(o,e.Ou(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function nv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof vt||r instanceof ud||r instanceof no||r instanceof Un||r instanceof J0||r instanceof cd)}function rv(r,e,t){if(!nv(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=ad(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function tI(r,e,t){if((e=Ea(e))instanceof ld)return e._internalPath;if(typeof e=="string")return iv(r,e);throw Lu("Field path arguments must be of type string or ",r,!1,void 0,t)}const nI=new RegExp("[~\\*/\\[\\]]");function iv(r,e,t){if(e.search(nI)>=0)throw Lu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ld(...e.split("."))._internalPath}catch{throw Lu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Lu(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new pe(J.INVALID_ARGUMENT,d+r+g)}function rI(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ov("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iI extends sv{data(){return super.data()}}function ov(r,e){return typeof e=="string"?iv(r,e):e instanceof ld?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oI{convertValue(e,t="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Qi(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>ot(h.doubleValue));return new cd(l)}convertGeoPoint(e){return new ud(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Hu(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ra(e));default:return null}}convertTimestamp(e){const t=ai(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Je.fromString(e);ze(C0(s));const o=new Ia(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return o.isEqual(t)||Ar(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lI extends sv{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ov("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class vu extends lI{data(e={}){return super.data(e)}}class uI{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new vu(this._firestore,this._userDataWriter,s.key,s,new ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const g=new vu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ou(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const g=new vu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ou(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:cI(d.type),doc:g,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class hI extends oI{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}function fI(r){r=ka(r,nc);const e=ka(r.firestore,rc),t=Y0(e),s=new hI(e);return sI(r._query),HR(t,r._query).then(o=>new uI(e,s,r,o))}function dI(r){return av(ka(r.firestore,rc),[new Wf(r._key,nr.none())])}function pI(r,e){const t=ka(r.firestore,rc),s=X0(r),o=aI(r.converter,e);return av(t,[eI(ZR(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,nr.exists(!1))]).then(()=>s)}function av(r,e){return function(s,o){const l=new ri;return s.asyncQueue.enqueueAndForget(async()=>NR(await $R(s),o,l)),l.promise}(Y0(r),e)}(function(e,t=!0){(function(o){lo=o})(j1),Ru(new wa("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new rc(new tT(s.getProvider("auth-internal")),new sT(s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(y.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Qs(sg,"4.7.5",e),Qs(sg,"4.7.5","esm2017")})();var mI="firebase",gI="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs(mI,gI,"app");const yI={apiKey:"AIzaSyDXY7RU2nNKwNZ5qf8PzNIT4S_PNQ_nA1Q",authDomain:"fertabdistribuzioni-28efb.firebaseapp.com",projectId:"fertabdistribuzioni-28efb",storageBucket:"fertabdistribuzioni-28efb.firebasestorage.app",messagingSenderId:"359426280235",appId:"1:359426280235:web:4ab3fe8895a2c0b078d36e",measurementId:"G-QPQYYC1DXS"},vI=by(yI),fd=QR(vI);var Qh={exports:{}},Gh,$g;function _I(){if($g)return Gh;$g=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gh=r,Gh}var Xh,qg;function EI(){if(qg)return Xh;qg=1;var r=_I();function e(){}function t(){}return t.resetWarningCache=e,Xh=function(){function s(h,d,g,y,E,T){if(T!==r){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Xh}var Hg;function wI(){return Hg||(Hg=1,Qh.exports=EI()()),Qh.exports}var TI=wI();const er=d_(TI),SI="data:image/svg+xml,%3csvg%20width='14'%20height='13'%20viewBox='0%200%2014%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.5%2013C3.0875%2013%202.73437%2012.8531%202.44062%2012.5594C2.14687%2012.2656%202%2011.9125%202%2011.5V2.7C2%202.58954%201.91046%202.5%201.8%202.5H1.25C0.835786%202.5%200.5%202.16421%200.5%201.75V1.75C0.5%201.33579%200.835786%201%201.25%201H4.8C4.91046%201%205%200.910457%205%200.8V0.5C5%200.223858%205.22386%200%205.5%200H8.5C8.77614%200%209%200.223858%209%200.5V0.8C9%200.910457%209.08954%201%209.2%201H12.75C13.1642%201%2013.5%201.33579%2013.5%201.75V1.75C13.5%202.16421%2013.1642%202.5%2012.75%202.5H12.2C12.0895%202.5%2012%202.58954%2012%202.7V11.491C12%2011.9137%2011.8531%2012.2708%2011.5594%2012.5625C11.2656%2012.8542%2010.9125%2013%2010.5%2013H3.5ZM5%209.5C5%209.77614%205.22386%2010%205.5%2010H6C6.27614%2010%206.5%209.77614%206.5%209.5V4.5C6.5%204.22386%206.27614%204%206%204H5.5C5.22386%204%205%204.22386%205%204.5V9.5ZM7.5%209.5C7.5%209.77614%207.72386%2010%208%2010H8.5C8.77614%2010%209%209.77614%209%209.5V4.5C9%204.22386%208.77614%204%208.5%204H8C7.72386%204%207.5%204.22386%207.5%204.5V9.5Z'%20fill='%23F8F8F8'/%3e%3c/svg%3e";function RI(r){window.open(r,"_blank")}function dd({productId:r,productImg:e,productName:t,productDescription:s,productPrice:o,productAmount:l,prodLink:h,removeProduct:d}){const[g,y]=W.useState(!1),[E,T]=W.useState(!1),[R,O]=W.useState(!1),k=W.useRef(null),F=()=>{if(k.current){const ee=k.current.scrollHeight>k.current.clientHeight;T(ee)}};W.useEffect(()=>{F()},[t,s]);const N=()=>{O(!R)},q=()=>{R&&O(!1)},K=async()=>{y(!0);try{//! ad oggi è impossibile eliminare l'immagine da imgBB tramite l'API
await dI(X0(fd,"products",r)),d(r),alert("Prodotto eliminato con successo!")}catch(ee){alert("Errore durante l'eliminazione del prodotto.",ee)}finally{y(!1)}};return ne.jsxs("div",{className:`prodCard ${R?"expanded":""}`,children:[d&&ne.jsx("button",{className:"deleteButton",onClick:K,disabled:g,children:ne.jsx("img",{src:SI,alt:"Elimina",draggable:"false"})}),ne.jsx("img",{className:"productImage",src:e,loading:"lazy",alt:"Immagine prodotto",onClick:q}),ne.jsxs("div",{className:"prodBody",children:[ne.jsxs("div",{className:"prodInfo",children:[ne.jsx("h4",{children:t}),ne.jsx("p",{className:"prodDescription",ref:k,children:s})]}),ne.jsxs("div",{className:"prodBottom",children:[E&&!R&&ne.jsx("button",{className:"textButton",onClick:N,children:"Mostra più"}),R&&ne.jsx("button",{className:"textButton",onClick:N,children:"Mostra meno"}),ne.jsxs("div",{className:"prodBuy",children:[ne.jsxs("div",{className:"prodBuyInfo",children:[ne.jsxs("h4",{children:[o,"€"]}),l==="1"?"Al pezzo":`${l} pezzi`]}),ne.jsx("button",{onClick:()=>RI(h),children:"Acquista"})]})]})]})]})}dd.propTypes={productId:er.string,productImg:er.string.isRequired,productName:er.string.isRequired,productDescription:er.string.isRequired,productPrice:er.string.isRequired,productAmount:er.string.isRequired,prodLink:er.string.isRequired,removeProduct:er.func};function lv(){return ne.jsx("footer",{id:"navbar",children:ne.jsx("p",{className:"smallText",children:"© 2024 Emanuele Ciotola. Tutti i diritti riservati."})})}const II="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='150'%20height='150'%20fill='none'%3e%3cpath%20fill='%23fff'%20d='M0%200h150v150H0z'/%3e%3cpath%20fill='%23757575'%20d='M44.633%2080.023V82h-8.754v-1.687l4.14-4.439q.624-.694.984-1.222.36-.535.519-.958.165-.431.166-.817%200-.58-.193-.993a1.44%201.44%200%200%200-.571-.65q-.37-.23-.914-.23-.58%200-1.002.282a1.8%201.8%200%200%200-.633.782q-.21.501-.21%201.134h-2.541q0-1.143.545-2.092a4%204%200%200%201%201.538-1.52q.993-.571%202.355-.571%201.346%200%202.268.439.932.43%201.406%201.248.484.81.484%201.934%200%20.632-.202%201.239a5.6%205.6%200%200%201-.58%201.195%209.6%209.6%200%200%201-.897%201.195q-.527.607-1.169%201.257l-2.224%202.496zm3.964-3.85-2.022-.484.73-6.486h7.19v2.048h-5.107l-.317%202.839q.255-.15.774-.317a3.6%203.6%200%200%201%201.16-.175q.932%200%201.652.29t1.222.843q.51.554.773%201.354.264.8.264%201.81%200%20.853-.264%201.627-.263.764-.8%201.37a3.7%203.7%200%200%201-1.344.941q-.81.343-1.916.343-.826%200-1.6-.246a4.4%204.4%200%200%201-1.38-.73%203.8%203.8%200%200%201-.975-1.169q-.36-.694-.378-1.582h2.514q.052.546.28.94.238.387.625.598t.905.211q.484%200%20.826-.184.343-.185.554-.51.21-.334.307-.773.106-.45.106-.967%200-.52-.123-.94a2%202%200%200%200-.378-.73%201.7%201.7%200%200%200-.65-.475%202.3%202.3%200%200%200-.906-.167q-.703%200-1.09.22a2.6%202.6%200%200%200-.632.5m16.567-1.696v2.214q0%201.441-.308%202.488-.307%201.037-.887%201.705-.571.66-1.363.975a4.7%204.7%200%200%201-1.757.317q-.774%200-1.442-.194a3.6%203.6%200%200%201-1.204-.624%204%204%200%200%201-.914-1.063q-.378-.651-.58-1.547-.202-.897-.202-2.057v-2.214q0-1.442.308-2.47.315-1.037.887-1.697.58-.658%201.371-.966a4.7%204.7%200%200%201%201.758-.317q.774%200%201.433.203.667.192%201.204.606.536.413.914%201.063.378.641.58%201.538.202.888.202%202.04m-2.54%202.548v-2.891q0-.694-.08-1.213a3.6%203.6%200%200%200-.219-.879%201.9%201.9%200%200%200-.369-.598%201.35%201.35%200%200%200-.5-.334%201.8%201.8%200%200%200-.625-.105q-.43%200-.765.167a1.4%201.4%200%200%200-.553.536q-.23.36-.352.967a8%208%200%200%200-.114%201.459v2.891q0%20.694.07%201.222.08.528.229.905.158.37.369.607.22.228.5.334.29.105.634.105.42%200%20.747-.167.334-.176.562-.545.238-.378.352-.984t.114-1.477m9.923%203.208-1.486-1.432%206.847-6.987%201.486%201.44zm5.37%200-6.847-6.978%201.486-1.441%206.846%206.987zm13.667-11.056V82h-2.531v-9.905l-3.041.966v-1.995l5.3-1.89zm6.548%206.996-2.022-.484.73-6.486h7.189v2.048h-5.106l-.317%202.839q.255-.15.774-.317a3.6%203.6%200%200%201%201.16-.175q.932%200%201.652.29.721.29%201.222.843.51.554.774%201.354.263.8.263%201.81%200%20.853-.263%201.627a4.1%204.1%200%200%201-.8%201.37%203.7%203.7%200%200%201-1.345.941q-.809.343-1.916.343-.826%200-1.6-.246a4.4%204.4%200%200%201-1.38-.73%203.8%203.8%200%200%201-.975-1.169q-.36-.694-.378-1.582h2.514q.052.546.28.94.239.387.625.598.387.21.905.211.483%200%20.826-.184.343-.185.554-.51.211-.334.308-.773.105-.45.105-.967%200-.52-.123-.94a2%202%200%200%200-.378-.73%201.7%201.7%200%200%200-.65-.475%202.3%202.3%200%200%200-.906-.167q-.703%200-1.09.22a2.6%202.6%200%200%200-.632.5m16.567-1.696v2.214q0%201.441-.307%202.488-.308%201.037-.888%201.705-.571.66-1.362.975a4.7%204.7%200%200%201-1.758.317%205.2%205.2%200%200%201-1.442-.194%203.6%203.6%200%200%201-1.204-.624%204%204%200%200%201-.914-1.063q-.378-.651-.58-1.547-.202-.897-.202-2.057v-2.214q0-1.442.308-2.47.316-1.037.887-1.697.58-.658%201.371-.966a4.7%204.7%200%200%201%201.758-.317q.773%200%201.433.203.668.192%201.204.606.536.413.914%201.063.378.641.58%201.538.202.888.202%202.04m-2.54%202.548v-2.891a8%208%200%200%200-.079-1.213%203.6%203.6%200%200%200-.22-.879%201.8%201.8%200%200%200-.369-.598%201.34%201.34%200%200%200-.501-.334%201.8%201.8%200%200%200-.624-.105q-.43%200-.764.167-.326.167-.554.536-.228.36-.352.967a8%208%200%200%200-.114%201.459v2.891q0%20.694.07%201.222.08.528.229.905.157.37.369.607.219.228.501.334.29.105.633.105.421%200%20.747-.167.334-.176.562-.545.238-.378.352-.984t.114-1.477'/%3e%3c/svg%3e",CI=()=>{const[r,e]=W.useState(null),[t,s]=W.useState(!1),[o,l]=W.useState(""),[h,d]=W.useState(""),[g,y]=W.useState(""),[E,T]=W.useState(""),[R,O]=W.useState(""),k=W.useRef(null),F=()=>{l(""),d(""),y(""),T(""),O(""),e(null),k.current&&(k.current.value="")},N=P=>{const S=P.target.files[0];S&&(S.type.startsWith("image/")?e(S):(alert("Per favore, seleziona un file immagine."),e(null)))},q=P=>new Promise((S,C)=>{const x=new Image,L=new FileReader;L.onload=M=>x.src=M.target.result,L.onerror=C,L.readAsDataURL(P),x.onload=()=>{const M=document.createElement("canvas"),A=M.getContext("2d"),Ge=x.width,ht=x.height;M.width=Ge,M.height=ht,A.drawImage(x,0,0,Ge,ht);const Et=M.toDataURL("image/webp");fetch(Et).then(Be=>Be.blob()).then(S).catch(C)}}),K=async()=>{if(!r||!o||!h||!g||!E||!R){alert("Inserisci tutti i dati per aggiungere il prodotto!");return}s(!0);try{const P=await q(r),S=new FormData;S.append("image",P,"image.webp");const L=(await at.post("https://api.imgbb.com/1/upload?key=3276d6e30ea0f00d205a847f3e64b5ea",S,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url,M=G0(fd,"products");await pI(M,{productName:o,productDescription:h,productPrice:g,productAmount:E,prodLink:R,productImg:L}),alert("Prodotto aggiunto con successo!"),F()}catch(P){alert("Errore durante il caricamento: ",P)}finally{s(!1)}},ee=(P,S,C=!1)=>{const x=P.target.value;C?/^\d*[,]?\d*$/.test(x)&&S(x):/^\d*$/.test(x)&&S(x)},le=()=>!o&&!h&&!g&&!E&&!R&&!r,Ee=!o||!h||!g||!E||!R||!r||t;return ne.jsxs(ne.Fragment,{children:[ne.jsxs("div",{id:"aggiungiProdotto",children:[ne.jsxs("div",{id:"spazioAggiunta",children:[ne.jsx("h3",{children:"Aggiunta prodotto"}),ne.jsxs("div",{id:"form",children:[ne.jsx("label",{htmlFor:"productName",children:"Nome prodotto"}),ne.jsxs("div",{className:"descriptionedInput",children:[ne.jsx("input",{type:"text",id:"productName",placeholder:"Nome prodotto",value:o,onChange:P=>l(P.target.value),maxLength:30,autoComplete:"off",disabled:t}),ne.jsxs("p",{className:"smallText",children:[o.length,"/",30]})]}),ne.jsx("label",{htmlFor:"productDescription",children:"Descrizione prodotto"}),ne.jsxs("div",{className:"descriptionedInput",children:[ne.jsx("textarea",{id:"productDescription",placeholder:"Descrizione prodotto",value:h,onChange:P=>d(P.target.value),maxLength:130,autoComplete:"off",disabled:t}),ne.jsxs("p",{className:"smallText",children:[h.length,"/",130]})]}),ne.jsx("label",{htmlFor:"productPrice",children:"Prezzo prodotto"}),ne.jsx("input",{type:"text",id:"productPrice",placeholder:"Prezzo prodotto",value:g,onInput:P=>ee(P,y,!0),maxLength:7,autoComplete:"off",disabled:t}),ne.jsx("label",{htmlFor:"productAmount",children:"Numero pezzi"}),ne.jsx("input",{type:"text",id:"productAmount",placeholder:"Numero pezzi",value:E,onInput:P=>ee(P,T),maxLength:6,autoComplete:"off",disabled:t}),ne.jsx("label",{htmlFor:"prodLink",children:"Link Amazon"}),ne.jsx("input",{type:"url",id:"prodLink",placeholder:"Link Amazon",value:R,onChange:P=>O(P.target.value),autoComplete:"off",disabled:t}),ne.jsx("label",{htmlFor:"productImage",children:"Immagine prodotto"}),ne.jsx("button",{className:"secondaryButton",onClick:()=>document.getElementById("productImage").click(),children:ne.jsx("p",{className:r?"inputImageLoaded":"",children:r?r.name:"Seleziona immagine"})}),ne.jsx("input",{type:"file",id:"productImage",accept:"image/*",onChange:N,ref:k,autoComplete:"off",disabled:t})]})]}),ne.jsxs("div",{id:"newProduct",children:[ne.jsx("h3",{children:"Anteprima:"}),ne.jsx(dd,{productImg:r?URL.createObjectURL(r):II,productName:o||"Nome Prodotto",productDescription:h||"Descrizione del prodotto",productPrice:g||"0.00",productAmount:E||"0",prodLink:R||"#"},"preview"),ne.jsxs("div",{id:"aggiungi-annulla",children:[ne.jsx("button",{className:"secondaryButton",onClick:F,disabled:le(),children:"Annulla"}),ne.jsx("button",{id:"loadButton",onClick:K,disabled:Ee,children:t?"Attendere...":"Aggiungi"})]})]})]}),ne.jsx(lv,{})]})};function AI(){return ne.jsxs("div",{className:"dots-container",children:[ne.jsx("div",{className:"dot"}),ne.jsx("div",{className:"dot"}),ne.jsx("div",{className:"dot"}),ne.jsx("div",{className:"dot"}),ne.jsx("div",{className:"dot"})]})}const PI="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.83211%2024.2929C7.44158%2024.6834%206.80842%2024.6834%206.41789%2024.2929L5.70711%2023.5821C5.31658%2023.1916%205.31658%2022.5584%205.70711%2022.1679L12.5214%2015.3536C12.7167%2015.1583%2012.7167%2014.8417%2012.5214%2014.6464L5.70711%207.83211C5.31658%207.44158%205.31658%206.80842%205.70711%206.41789L6.41789%205.70711C6.80842%205.31658%207.44158%205.31658%207.83211%205.70711L14.6464%2012.5214C14.8417%2012.7167%2015.1583%2012.7167%2015.3536%2012.5214L22.1679%205.70711C22.5584%205.31658%2023.1916%205.31658%2023.5821%205.70711L24.2929%206.41789C24.6834%206.80842%2024.6834%207.44158%2024.2929%207.83211L17.4786%2014.6464C17.2833%2014.8417%2017.2833%2015.1583%2017.4786%2015.3536L24.2929%2022.1679C24.6834%2022.5584%2024.6834%2023.1916%2024.2929%2023.5821L23.5821%2024.2929C23.1916%2024.6834%2022.5584%2024.6834%2022.1679%2024.2929L15.3536%2017.4786C15.1583%2017.2833%2014.8417%2017.2833%2014.6464%2017.4786L7.83211%2024.2929Z'%20fill='%23A9A9AC'/%3e%3c/svg%3e",kI="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.6753%2031.0055C29.2848%2031.3949%2028.6529%2031.3946%2028.2627%2031.005L18.3293%2021.0864C18.1495%2020.9068%2017.8645%2020.8921%2017.6576%2021.0396C16.9224%2021.5641%2016.0857%2021.986%2015.1475%2022.3054C14.0541%2022.6779%2012.8786%2022.8642%2011.6208%2022.8642C8.48802%2022.8642%205.834%2021.7757%203.65872%2019.5987C1.48316%2017.4218%200.395386%2014.7871%200.395386%2011.6946C0.395386%208.6018%201.48386%205.96694%203.6608%203.79C5.83775%201.61305%208.47719%200.524582%2011.5791%200.524582C14.6811%200.524582%2017.3158%201.61305%2019.4833%203.79C21.6511%205.96694%2022.735%208.60319%2022.735%2011.6987C22.735%2012.931%2022.5536%2014.0862%2022.1908%2015.1646C21.8747%2016.1042%2021.435%2016.9779%2020.8718%2017.7859C20.7285%2017.9914%2020.7467%2018.2716%2020.9242%2018.4483L30.8933%2028.3739C31.2857%2028.7646%2031.2859%2029.3998%2030.8938%2029.7907L29.6753%2031.0055ZM11.5983%2019.1912C13.6839%2019.1912%2015.4493%2018.4617%2016.8946%2017.0025C18.3396%2015.5431%2019.0621%2013.7737%2019.0621%2011.6946C19.0621%209.61514%2018.3387%207.84583%2016.8921%206.38667C15.4454%204.92722%2013.6808%204.1975%2011.5983%204.1975C9.50052%204.1975%207.72108%204.92722%206.25997%206.38667C4.79886%207.84583%204.0683%209.61514%204.0683%2011.6946C4.0683%2013.7737%204.79802%2015.5431%206.25747%2017.0025C7.71719%2018.4617%209.49747%2019.1912%2011.5983%2019.1912Z'%20fill='%23A9A9AC'/%3e%3c/svg%3e";function uv({searchTerm:r,setSearchTerm:e}){const t=W.useRef(null),s=()=>{e("")},o=()=>{t.current&&t.current.focus()};return ne.jsxs("div",{id:"searchBar",children:[ne.jsx("input",{ref:t,type:"text",name:"searchTerm",placeholder:"Cerca prodotto...",value:r,onChange:l=>e(l.target.value),autoComplete:"off"}),ne.jsx("div",{id:"searchBarButton",onClick:r?s:o,children:ne.jsx("img",{src:r?PI:kI,alt:r?"Cancella":"Cerca",draggable:"false"})})]})}uv.propTypes={searchTerm:er.string.isRequired,setSearchTerm:er.func.isRequired};const xI=()=>{const[r,e]=W.useState([]),[t,s]=W.useState(!0),[o,l]=W.useState("");W.useEffect(()=>{(async()=>{s(!0);const y=G0(fd,"products"),T=(await fI(y)).docs.map(R=>({id:R.id,...R.data()}));e(T),s(!1)})()},[]);const h=g=>{e(y=>y.filter(E=>E.id!==g))},d=r.filter(g=>g.productName.toLowerCase().includes(o.toLowerCase()));return ne.jsxs(ne.Fragment,{children:[ne.jsxs("div",{id:"products",children:[ne.jsx(uv,{searchTerm:o,setSearchTerm:l}),ne.jsx("div",{id:"productList",children:t?ne.jsx(AI,{}):d.length>0?d.map(g=>ne.jsx(dd,{productId:g.id,productImg:g.productImg,productName:g.productName,productDescription:g.productDescription,productPrice:g.productPrice,productAmount:g.productAmount,prodLink:g.prodLink,showDeleteButton:!0,removeProduct:h},g.id)):ne.jsxs("p",{children:['Nessun prodotto trovato per "',o,'".']})})]}),ne.jsx(lv,{})]})},NI=()=>ne.jsx(FE,{children:ne.jsxs("div",{id:"pageContent",children:[ne.jsx(KE,{}),ne.jsxs(dE,{children:[ne.jsx(au,{path:"/",element:ne.jsx(hE,{to:"/aggiungi-prodotto"})}),ne.jsx(au,{path:"/aggiungi-prodotto",element:ne.jsx(CI,{})}),ne.jsx(au,{path:"/elimina-prodotto",element:ne.jsx(xI,{})})]})]})});T_.createRoot(document.getElementById("root")).render(ne.jsx(W.StrictMode,{children:ne.jsx(NI,{})}));
