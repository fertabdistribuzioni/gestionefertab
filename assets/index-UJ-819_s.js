(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Ow(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kd={exports:{}},Ma={},Nd={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function Lw(){if(Vg)return ke;Vg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function I(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,V={};function x(F,Q,fe){this.props=F,this.context=Q,this.refs=V,this.updater=fe||L}x.prototype.isReactComponent={},x.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function q(){}q.prototype=x.prototype;function K(F,Q,fe){this.props=F,this.context=Q,this.refs=V,this.updater=fe||L}var X=K.prototype=new q;X.constructor=K,k(X,x.prototype),X.isPureReactComponent=!0;var oe=Array.isArray,pe=Object.prototype.hasOwnProperty,me={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(F,Q,fe){var Ae,Pe={},Le=null,Ue=null;if(Q!=null)for(Ae in Q.ref!==void 0&&(Ue=Q.ref),Q.key!==void 0&&(Le=""+Q.key),Q)pe.call(Q,Ae)&&!P.hasOwnProperty(Ae)&&(Pe[Ae]=Q[Ae]);var je=arguments.length-2;if(je===1)Pe.children=fe;else if(1<je){for(var He=Array(je),Tt=0;Tt<je;Tt++)He[Tt]=arguments[Tt+2];Pe.children=He}if(F&&F.defaultProps)for(Ae in je=F.defaultProps,je)Pe[Ae]===void 0&&(Pe[Ae]=je[Ae]);return{$$typeof:n,type:F,key:Le,ref:Ue,props:Pe,_owner:me.current}}function C(F,Q){return{$$typeof:n,type:F.type,key:Q,ref:F.ref,props:F.props,_owner:F._owner}}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function b(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(fe){return Q[fe]})}var M=/\/+/g;function A(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?b(""+F.key):Q.toString(36)}function Je(F,Q,fe,Ae,Pe){var Le=typeof F;(Le==="undefined"||Le==="boolean")&&(F=null);var Ue=!1;if(F===null)Ue=!0;else switch(Le){case"string":case"number":Ue=!0;break;case"object":switch(F.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=F,Pe=Pe(Ue),F=Ae===""?"."+A(Ue,0):Ae,oe(Pe)?(fe="",F!=null&&(fe=F.replace(M,"$&/")+"/"),Je(Pe,Q,fe,"",function(Tt){return Tt})):Pe!=null&&(N(Pe)&&(Pe=C(Pe,fe+(!Pe.key||Ue&&Ue.key===Pe.key?"":(""+Pe.key).replace(M,"$&/")+"/")+F)),Q.push(Pe)),1;if(Ue=0,Ae=Ae===""?".":Ae+":",oe(F))for(var je=0;je<F.length;je++){Le=F[je];var He=Ae+A(Le,je);Ue+=Je(Le,Q,fe,He,Pe)}else if(He=I(F),typeof He=="function")for(F=He.call(F),je=0;!(Le=F.next()).done;)Le=Le.value,He=Ae+A(Le,je++),Ue+=Je(Le,Q,fe,He,Pe);else if(Le==="object")throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ue}function dt(F,Q,fe){if(F==null)return F;var Ae=[],Pe=0;return Je(F,Ae,"","",function(Le){return Q.call(fe,Le,Pe++)}),Ae}function wt(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(fe){(F._status===0||F._status===-1)&&(F._status=1,F._result=fe)},function(fe){(F._status===0||F._status===-1)&&(F._status=2,F._result=fe)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var Be={current:null},ie={transition:null},ye={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ie,ReactCurrentOwner:me};function ae(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:dt,forEach:function(F,Q,fe){dt(F,function(){Q.apply(this,arguments)},fe)},count:function(F){var Q=0;return dt(F,function(){Q++}),Q},toArray:function(F){return dt(F,function(Q){return Q})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ke.Component=x,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=K,ke.StrictMode=i,ke.Suspense=p,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,ke.act=ae,ke.cloneElement=function(F,Q,fe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Ae=k({},F.props),Pe=F.key,Le=F.ref,Ue=F._owner;if(Q!=null){if(Q.ref!==void 0&&(Le=Q.ref,Ue=me.current),Q.key!==void 0&&(Pe=""+Q.key),F.type&&F.type.defaultProps)var je=F.type.defaultProps;for(He in Q)pe.call(Q,He)&&!P.hasOwnProperty(He)&&(Ae[He]=Q[He]===void 0&&je!==void 0?je[He]:Q[He])}var He=arguments.length-2;if(He===1)Ae.children=fe;else if(1<He){je=Array(He);for(var Tt=0;Tt<He;Tt++)je[Tt]=arguments[Tt+2];Ae.children=je}return{$$typeof:n,type:F.type,key:Pe,ref:Le,props:Ae,_owner:Ue}},ke.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},ke.createElement=S,ke.createFactory=function(F){var Q=S.bind(null,F);return Q.type=F,Q},ke.createRef=function(){return{current:null}},ke.forwardRef=function(F){return{$$typeof:d,render:F}},ke.isValidElement=N,ke.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:wt}},ke.memo=function(F,Q){return{$$typeof:y,type:F,compare:Q===void 0?null:Q}},ke.startTransition=function(F){var Q=ie.transition;ie.transition={};try{F()}finally{ie.transition=Q}},ke.unstable_act=ae,ke.useCallback=function(F,Q){return Be.current.useCallback(F,Q)},ke.useContext=function(F){return Be.current.useContext(F)},ke.useDebugValue=function(){},ke.useDeferredValue=function(F){return Be.current.useDeferredValue(F)},ke.useEffect=function(F,Q){return Be.current.useEffect(F,Q)},ke.useId=function(){return Be.current.useId()},ke.useImperativeHandle=function(F,Q,fe){return Be.current.useImperativeHandle(F,Q,fe)},ke.useInsertionEffect=function(F,Q){return Be.current.useInsertionEffect(F,Q)},ke.useLayoutEffect=function(F,Q){return Be.current.useLayoutEffect(F,Q)},ke.useMemo=function(F,Q){return Be.current.useMemo(F,Q)},ke.useReducer=function(F,Q,fe){return Be.current.useReducer(F,Q,fe)},ke.useRef=function(F){return Be.current.useRef(F)},ke.useState=function(F){return Be.current.useState(F)},ke.useSyncExternalStore=function(F,Q,fe){return Be.current.useSyncExternalStore(F,Q,fe)},ke.useTransition=function(){return Be.current.useTransition()},ke.version="18.3.1",ke}var Mg;function Df(){return Mg||(Mg=1,Nd.exports=Lw()),Nd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function bw(){if(Fg)return Ma;Fg=1;var n=Df(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var v,T={},I=null,L=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(L=p.ref);for(v in p)i.call(p,v)&&!a.hasOwnProperty(v)&&(T[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)T[v]===void 0&&(T[v]=p[v]);return{$$typeof:e,type:d,key:I,ref:L,props:T,_owner:o.current}}return Ma.Fragment=t,Ma.jsx=c,Ma.jsxs=c,Ma}var Ug;function Vw(){return Ug||(Ug=1,kd.exports=bw()),kd.exports}var te=Vw(),W=Df(),Fu={},xd={exports:{}},tn={},Dd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function Mw(){return jg||(jg=1,function(n){function e(ie,ye){var ae=ie.length;ie.push(ye);e:for(;0<ae;){var F=ae-1>>>1,Q=ie[F];if(0<o(Q,ye))ie[F]=ye,ie[ae]=Q,ae=F;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ye=ie[0],ae=ie.pop();if(ae!==ye){ie[0]=ae;e:for(var F=0,Q=ie.length,fe=Q>>>1;F<fe;){var Ae=2*(F+1)-1,Pe=ie[Ae],Le=Ae+1,Ue=ie[Le];if(0>o(Pe,ae))Le<Q&&0>o(Ue,Pe)?(ie[F]=Ue,ie[Le]=ae,F=Le):(ie[F]=Pe,ie[Ae]=ae,F=Ae);else if(Le<Q&&0>o(Ue,ae))ie[F]=Ue,ie[Le]=ae,F=Le;else break e}}return ye}function o(ie,ye){var ae=ie.sortIndex-ye.sortIndex;return ae!==0?ae:ie.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],v=1,T=null,I=3,L=!1,k=!1,V=!1,x=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(ie){for(var ye=t(y);ye!==null;){if(ye.callback===null)i(y);else if(ye.startTime<=ie)i(y),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(y)}}function oe(ie){if(V=!1,X(ie),!k)if(t(p)!==null)k=!0,wt(pe);else{var ye=t(y);ye!==null&&Be(oe,ye.startTime-ie)}}function pe(ie,ye){k=!1,V&&(V=!1,q(S),S=-1),L=!0;var ae=I;try{for(X(ye),T=t(p);T!==null&&(!(T.expirationTime>ye)||ie&&!b());){var F=T.callback;if(typeof F=="function"){T.callback=null,I=T.priorityLevel;var Q=F(T.expirationTime<=ye);ye=n.unstable_now(),typeof Q=="function"?T.callback=Q:T===t(p)&&i(p),X(ye)}else i(p);T=t(p)}if(T!==null)var fe=!0;else{var Ae=t(y);Ae!==null&&Be(oe,Ae.startTime-ye),fe=!1}return fe}finally{T=null,I=ae,L=!1}}var me=!1,P=null,S=-1,C=5,N=-1;function b(){return!(n.unstable_now()-N<C)}function M(){if(P!==null){var ie=n.unstable_now();N=ie;var ye=!0;try{ye=P(!0,ie)}finally{ye?A():(me=!1,P=null)}}else me=!1}var A;if(typeof K=="function")A=function(){K(M)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,dt=Je.port2;Je.port1.onmessage=M,A=function(){dt.postMessage(null)}}else A=function(){x(M,0)};function wt(ie){P=ie,me||(me=!0,A())}function Be(ie,ye){S=x(function(){ie(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){k||L||(k=!0,wt(pe))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ie){switch(I){case 1:case 2:case 3:var ye=3;break;default:ye=I}var ae=I;I=ye;try{return ie()}finally{I=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=I;I=ie;try{return ye()}finally{I=ae}},n.unstable_scheduleCallback=function(ie,ye,ae){var F=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,ie){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ae+Q,ie={id:v++,callback:ye,priorityLevel:ie,startTime:ae,expirationTime:Q,sortIndex:-1},ae>F?(ie.sortIndex=ae,e(y,ie),t(p)===null&&ie===t(y)&&(V?(q(S),S=-1):V=!0,Be(oe,ae-F))):(ie.sortIndex=Q,e(p,ie),k||L||(k=!0,wt(pe))),ie},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(ie){var ye=I;return function(){var ae=I;I=ye;try{return ie.apply(this,arguments)}finally{I=ae}}}}(Od)),Od}var Bg;function Fw(){return Bg||(Bg=1,Dd.exports=Mw()),Dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function Uw(){if(zg)return tn;zg=1;var n=Df(),e=Fw();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},T={};function I(r){return p.call(T,r)?!0:p.call(v,r)?!1:y.test(r)?T[r]=!0:(v[r]=!0,!1)}function L(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,s,l,h){if(s===null||typeof s>"u"||L(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function V(r,s,l,h,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new V(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];x[s]=new V(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new V(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new V(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new V(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new V(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new V(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new V(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new V(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function K(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,K);x[s]=new V(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,K);x[s]=new V(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,K);x[s]=new V(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new V(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new V(r,1,!1,r.toLowerCase(),null,!0,!0)});function X(r,s,l,h){var f=x.hasOwnProperty(s)?x[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,l,f,h)&&(l=null),h||f===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),me=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),b=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,F;function Q(r){if(F===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var fe=!1;function Ae(r,s){if(!r||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),g=h.stack.split(`
`),E=f.length-1,R=g.length-1;1<=E&&0<=R&&f[E]!==g[R];)R--;for(;1<=E&&0<=R;E--,R--)if(f[E]!==g[R]){if(E!==1||R!==1)do if(E--,R--,0>R||f[E]!==g[R]){var D=`
`+f[E].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=E&&0<=R);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Q(r):""}function Pe(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case me:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case Je:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case dt:return s=r.displayName||null,s!==null?s:Le(r.type)||"Memo";case wt:s=r._payload,r=r._init;try{return Le(r(s))}catch{}}return null}function Ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=He(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function fr(r){r._valueTracker||(r._valueTracker=Tt(r))}function ws(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=He(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function Br(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Di(r,s){var l=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ts(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=je(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function $o(r,s){s=s.checked,s!=null&&X(r,"checked",s,!1)}function qo(r,s){$o(r,s);var l=je(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Is(r,s.type,l):s.hasOwnProperty("defaultValue")&&Is(r,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Il(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Is(r,s,l){(s!=="number"||Br(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var pr=Array.isArray;function mr(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+je(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Ho(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ss(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(pr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:je(l)}}function Rs(r,s){var l=je(s.value),h=je(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Wo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ft(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ft(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var gr,Ko=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=gr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function zr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Li=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(r){Li.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Oi[s]=Oi[r]})});function Go(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Oi.hasOwnProperty(r)&&Oi[r]?(""+s).trim():s+"px"}function Qo(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=Go(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var Jo=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yo(r,s){if(s){if(Jo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Xo(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bi=null;function Cs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var As=null,pn=null,Kn=null;function Ps(r){if(r=Ta(r)){if(typeof As!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Zl(s),As(r.stateNode,r.type,s))}}function Gn(r){pn?Kn?Kn.push(r):Kn=[r]:pn=r}function Zo(){if(pn){var r=pn,s=Kn;if(Kn=pn=null,Ps(r),s)for(r=0;r<s.length;r++)Ps(s[r])}}function Vi(r,s){return r(s)}function ea(){}var yr=!1;function ta(r,s,l){if(yr)return r(s,l);yr=!0;try{return Vi(r,s,l)}finally{yr=!1,(pn!==null||Kn!==null)&&(ea(),Zo())}}function st(r,s){var l=r.stateNode;if(l===null)return null;var h=Zl(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ks=!1;if(d)try{var An={};Object.defineProperty(An,"passive",{get:function(){ks=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{ks=!1}function Mi(r,s,l,h,f,g,E,R,D){var z=Array.prototype.slice.call(arguments,3);try{s.apply(l,z)}catch(Y){this.onError(Y)}}var Fi=!1,Ns=null,Pn=!1,na=null,rh={onError:function(r){Fi=!0,Ns=r}};function xs(r,s,l,h,f,g,E,R,D){Fi=!1,Ns=null,Mi.apply(rh,arguments)}function Sl(r,s,l,h,f,g,E,R,D){if(xs.apply(this,arguments),Fi){if(Fi){var z=Ns;Fi=!1,Ns=null}else throw Error(t(198));Pn||(Pn=!0,na=z)}}function kn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Ui(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Nn(r){if(kn(r)!==r)throw Error(t(188))}function Rl(r){var s=r.alternate;if(!s){if(s=kn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Nn(f),r;if(g===h)return Nn(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=g;else{for(var E=!1,R=f.child;R;){if(R===l){E=!0,l=f,h=g;break}if(R===h){E=!0,h=f,l=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===l){E=!0,l=g,h=f;break}if(R===h){E=!0,h=g,l=f;break}R=R.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ra(r){return r=Rl(r),r!==null?Ds(r):null}function Ds(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ds(r);if(s!==null)return s;r=r.sibling}return null}var Os=e.unstable_scheduleCallback,ia=e.unstable_cancelCallback,Cl=e.unstable_shouldYield,ih=e.unstable_requestPaint,We=e.unstable_now,Al=e.unstable_getCurrentPriorityLevel,ji=e.unstable_ImmediatePriority,$r=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,sa=e.unstable_LowPriority,Pl=e.unstable_IdlePriority,Bi=null,sn=null;function kl(r){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Bi,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:xl,oa=Math.log,Nl=Math.LN2;function xl(r){return r>>>=0,r===0?32:31-(oa(r)/Nl|0)|0}var Ls=64,bs=4194304;function qr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function zi(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,E=l&268435455;if(E!==0){var R=E&~f;R!==0?h=qr(R):(g&=E,g!==0&&(h=qr(g)))}else E=l&~f,E!==0?h=qr(E):g!==0&&(h=qr(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-qt(s),f=1<<l,h|=r[l],s&=~f;return h}function sh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-qt(g),R=1<<E,D=f[E];D===-1?((R&l)===0||(R&h)!==0)&&(f[E]=sh(R,s)):D<=s&&(r.expiredLanes|=R),g&=~R}}function on(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function $i(){var r=Ls;return Ls<<=1,(Ls&4194240)===0&&(Ls=64),r}function Hr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Wr(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-qt(s),r[s]=l}function qe(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-qt(l),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~g}}function Kr(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-qt(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var De=0;function Gr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Dl,Vs,Ol,Ll,bl,aa=!1,Qn=[],Pt=null,xn=null,Dn=null,Qr=new Map,gn=new Map,Jn=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vl(r,s){switch(r){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Qr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(s.pointerId)}}function Gt(r,s,l,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ta(s),s!==null&&Vs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function ah(r,s,l,h,f){switch(s){case"focusin":return Pt=Gt(Pt,r,s,l,h,f),!0;case"dragenter":return xn=Gt(xn,r,s,l,h,f),!0;case"mouseover":return Dn=Gt(Dn,r,s,l,h,f),!0;case"pointerover":var g=f.pointerId;return Qr.set(g,Gt(Qr.get(g)||null,r,s,l,h,f)),!0;case"gotpointercapture":return g=f.pointerId,gn.set(g,Gt(gn.get(g)||null,r,s,l,h,f)),!0}return!1}function Ml(r){var s=Gi(r.target);if(s!==null){var l=kn(s);if(l!==null){if(s=l.tag,s===13){if(s=Ui(l),s!==null){r.blockedOn=s,bl(r.priority,function(){Ol(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Ms(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);bi=h,l.target.dispatchEvent(h),bi=null}else return s=Ta(l),s!==null&&Vs(s),r.blockedOn=l,!1;s.shift()}return!0}function qi(r,s,l){vr(r)&&l.delete(s)}function Fl(){aa=!1,Pt!==null&&vr(Pt)&&(Pt=null),xn!==null&&vr(xn)&&(xn=null),Dn!==null&&vr(Dn)&&(Dn=null),Qr.forEach(qi),gn.forEach(qi)}function On(r,s){r.blockedOn===s&&(r.blockedOn=null,aa||(aa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fl)))}function Ln(r){function s(f){return On(f,r)}if(0<Qn.length){On(Qn[0],r);for(var l=1;l<Qn.length;l++){var h=Qn[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Pt!==null&&On(Pt,r),xn!==null&&On(xn,r),Dn!==null&&On(Dn,r),Qr.forEach(s),gn.forEach(s),l=0;l<Jn.length;l++)h=Jn[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Jn.length&&(l=Jn[0],l.blockedOn===null);)Ml(l),l.blockedOn===null&&Jn.shift()}var Er=oe.ReactCurrentBatchConfig,Jr=!0;function Ye(r,s,l,h){var f=De,g=Er.transition;Er.transition=null;try{De=1,la(r,s,l,h)}finally{De=f,Er.transition=g}}function lh(r,s,l,h){var f=De,g=Er.transition;Er.transition=null;try{De=4,la(r,s,l,h)}finally{De=f,Er.transition=g}}function la(r,s,l,h){if(Jr){var f=Ms(r,s,l,h);if(f===null)vh(r,s,h,Hi,l),Vl(r,h);else if(ah(f,r,s,l,h))h.stopPropagation();else if(Vl(r,h),s&4&&-1<oh.indexOf(r)){for(;f!==null;){var g=Ta(f);if(g!==null&&Dl(g),g=Ms(r,s,l,h),g===null&&vh(r,s,h,Hi,l),g===f)break;f=g}f!==null&&h.stopPropagation()}else vh(r,s,h,null,l)}}var Hi=null;function Ms(r,s,l,h){if(Hi=null,r=Cs(h),r=Gi(r),r!==null)if(s=kn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Ui(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Hi=r,null}function ua(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Al()){case ji:return 1;case $r:return 4;case mn:case sa:return 16;case Pl:return 536870912;default:return 16}default:return 16}}var an=null,Fs=null,Qt=null;function ca(){if(Qt)return Qt;var r,s=Fs,l=s.length,h,f="value"in an?an.value:an.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var E=l-r;for(h=1;h<=E&&s[l-h]===f[g-h];h++);return Qt=f.slice(r,1<h?1-h:void 0)}function Us(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Yn(){return!0}function ha(){return!1}function kt(r){function s(l,h,f,g,E){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Yn:ha,this.isPropagationStopped=ha,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),s}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=kt(bn),Xn=ae({},bn,{view:0,detail:0}),uh=kt(Xn),Bs,wr,Yr,Wi=ae({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yr&&(Yr&&r.type==="mousemove"?(Bs=r.screenX-Yr.screenX,wr=r.screenY-Yr.screenY):wr=Bs=0,Yr=r),Bs)},movementY:function(r){return"movementY"in r?r.movementY:wr}}),zs=kt(Wi),da=ae({},Wi,{dataTransfer:0}),Ul=kt(da),$s=ae({},Xn,{relatedTarget:0}),qs=kt($s),jl=ae({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tr=kt(jl),Bl=ae({},bn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),zl=kt(Bl),$l=ae({},bn,{data:0}),fa=kt($l),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ql[r])?!!s[r]:!1}function Zn(){return Hl}var u=ae({},Xn,{key:function(r){if(r.key){var s=Hs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Us(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ht[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zn,charCode:function(r){return r.type==="keypress"?Us(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Us(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=kt(u),_=ae({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=kt(_),U=ae({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zn}),$=kt(U),re=ae({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=kt(re),mt=ae({},Wi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),be=kt(mt),It=[9,13,27,32],ut=d&&"CompositionEvent"in window,yn=null;d&&"documentMode"in document&&(yn=document.documentMode);var ln=d&&"TextEvent"in window&&!yn,Ki=d&&(!ut||yn&&8<yn&&11>=yn),Ws=" ",Np=!1;function xp(r,s){switch(r){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ks=!1;function NE(r,s){switch(r){case"compositionend":return Dp(s);case"keypress":return s.which!==32?null:(Np=!0,Ws);case"textInput":return r=s.data,r===Ws&&Np?null:r;default:return null}}function xE(r,s){if(Ks)return r==="compositionend"||!ut&&xp(r,s)?(r=ca(),Qt=Fs=an=null,Ks=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ki&&s.locale!=="ko"?null:s.data;default:return null}}var DE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!DE[r.type]:s==="textarea"}function Lp(r,s,l,h){Gn(h),s=Jl(s,"onChange"),0<s.length&&(l=new js("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var pa=null,ma=null;function OE(r){Xp(r,0)}function Wl(r){var s=Xs(r);if(ws(s))return r}function LE(r,s){if(r==="change")return s}var bp=!1;if(d){var ch;if(d){var hh="oninput"in document;if(!hh){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),hh=typeof Vp.oninput=="function"}ch=hh}else ch=!1;bp=ch&&(!document.documentMode||9<document.documentMode)}function Mp(){pa&&(pa.detachEvent("onpropertychange",Fp),ma=pa=null)}function Fp(r){if(r.propertyName==="value"&&Wl(ma)){var s=[];Lp(s,ma,r,Cs(r)),ta(OE,s)}}function bE(r,s,l){r==="focusin"?(Mp(),pa=s,ma=l,pa.attachEvent("onpropertychange",Fp)):r==="focusout"&&Mp()}function VE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Wl(ma)}function ME(r,s){if(r==="click")return Wl(s)}function FE(r,s){if(r==="input"||r==="change")return Wl(s)}function UE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Vn=typeof Object.is=="function"?Object.is:UE;function ga(r,s){if(Vn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!Vn(r[f],s[f]))return!1}return!0}function Up(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function jp(r,s){var l=Up(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Up(l)}}function Bp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Bp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function zp(){for(var r=window,s=Br();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Br(r.document)}return s}function dh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function jE(r){var s=zp(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Bp(l.ownerDocument.documentElement,l)){if(h!==null&&dh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=jp(l,g);var E=jp(l,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var BE=d&&"documentMode"in document&&11>=document.documentMode,Gs=null,fh=null,ya=null,ph=!1;function $p(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ph||Gs==null||Gs!==Br(h)||(h=Gs,"selectionStart"in h&&dh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ya&&ga(ya,h)||(ya=h,h=Jl(fh,"onSelect"),0<h.length&&(s=new js("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=Gs)))}function Kl(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Qs={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},mh={},qp={};d&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function Gl(r){if(mh[r])return mh[r];if(!Qs[r])return r;var s=Qs[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in qp)return mh[r]=s[l];return r}var Hp=Gl("animationend"),Wp=Gl("animationiteration"),Kp=Gl("animationstart"),Gp=Gl("transitionend"),Qp=new Map,Jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(r,s){Qp.set(r,s),a(s,[r])}for(var gh=0;gh<Jp.length;gh++){var yh=Jp[gh],zE=yh.toLowerCase(),$E=yh[0].toUpperCase()+yh.slice(1);Xr(zE,"on"+$E)}Xr(Hp,"onAnimationEnd"),Xr(Wp,"onAnimationIteration"),Xr(Kp,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(Gp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qE=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function Yp(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Sl(h,s,void 0,r),r.currentTarget=null}function Xp(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var R=h[E],D=R.instance,z=R.currentTarget;if(R=R.listener,D!==g&&f.isPropagationStopped())break e;Yp(f,R,z),g=D}else for(E=0;E<h.length;E++){if(R=h[E],D=R.instance,z=R.currentTarget,R=R.listener,D!==g&&f.isPropagationStopped())break e;Yp(f,R,z),g=D}}}if(Pn)throw r=na,Pn=!1,na=null,r}function Ge(r,s){var l=s[Rh];l===void 0&&(l=s[Rh]=new Set);var h=r+"__bubble";l.has(h)||(Zp(s,r,2,!1),l.add(h))}function _h(r,s,l){var h=0;s&&(h|=4),Zp(l,r,h,s)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function va(r){if(!r[Ql]){r[Ql]=!0,i.forEach(function(l){l!=="selectionchange"&&(qE.has(l)||_h(l,!1,r),_h(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ql]||(s[Ql]=!0,_h("selectionchange",!1,s))}}function Zp(r,s,l,h){switch(ua(s)){case 1:var f=Ye;break;case 4:f=lh;break;default:f=la}l=f.bind(null,s,l,r),f=void 0,!ks||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function vh(r,s,l,h,f){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var R=h.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;E=E.return}for(;R!==null;){if(E=Gi(R),E===null)return;if(D=E.tag,D===5||D===6){h=g=E;continue e}R=R.parentNode}}h=h.return}ta(function(){var z=g,Y=Cs(l),ee=[];e:{var J=Qp.get(r);if(J!==void 0){var se=js,ce=r;switch(r){case"keypress":if(Us(l)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ce="focus",se=qs;break;case"focusout":ce="blur",se=qs;break;case"beforeblur":case"afterblur":se=qs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ul;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case Hp:case Wp:case Kp:se=Tr;break;case Gp:se=$e;break;case"scroll":se=uh;break;case"wheel":se=be;break;case"copy":case"cut":case"paste":se=zl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=w}var he=(s&4)!==0,ot=!he&&r==="scroll",j=he?J!==null?J+"Capture":null:J;he=[];for(var O=z,B;O!==null;){B=O;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,j!==null&&(ne=st(O,j),ne!=null&&he.push(Ea(O,ne,B)))),ot)break;O=O.return}0<he.length&&(J=new se(J,ce,null,l,Y),ee.push({event:J,listeners:he}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",J&&l!==bi&&(ce=l.relatedTarget||l.fromElement)&&(Gi(ce)||ce[Ir]))break e;if((se||J)&&(J=Y.window===Y?Y:(J=Y.ownerDocument)?J.defaultView||J.parentWindow:window,se?(ce=l.relatedTarget||l.toElement,se=z,ce=ce?Gi(ce):null,ce!==null&&(ot=kn(ce),ce!==ot||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=z),se!==ce)){if(he=zs,ne="onMouseLeave",j="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(he=w,ne="onPointerLeave",j="onPointerEnter",O="pointer"),ot=se==null?J:Xs(se),B=ce==null?J:Xs(ce),J=new he(ne,O+"leave",se,l,Y),J.target=ot,J.relatedTarget=B,ne=null,Gi(Y)===z&&(he=new he(j,O+"enter",ce,l,Y),he.target=B,he.relatedTarget=ot,ne=he),ot=ne,se&&ce)t:{for(he=se,j=ce,O=0,B=he;B;B=Js(B))O++;for(B=0,ne=j;ne;ne=Js(ne))B++;for(;0<O-B;)he=Js(he),O--;for(;0<B-O;)j=Js(j),B--;for(;O--;){if(he===j||j!==null&&he===j.alternate)break t;he=Js(he),j=Js(j)}he=null}else he=null;se!==null&&em(ee,J,se,he,!1),ce!==null&&ot!==null&&em(ee,ot,ce,he,!0)}}e:{if(J=z?Xs(z):window,se=J.nodeName&&J.nodeName.toLowerCase(),se==="select"||se==="input"&&J.type==="file")var de=LE;else if(Op(J))if(bp)de=FE;else{de=VE;var _e=bE}else(se=J.nodeName)&&se.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(de=ME);if(de&&(de=de(r,z))){Lp(ee,de,l,Y);break e}_e&&_e(r,J,z),r==="focusout"&&(_e=J._wrapperState)&&_e.controlled&&J.type==="number"&&Is(J,"number",J.value)}switch(_e=z?Xs(z):window,r){case"focusin":(Op(_e)||_e.contentEditable==="true")&&(Gs=_e,fh=z,ya=null);break;case"focusout":ya=fh=Gs=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,$p(ee,l,Y);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":$p(ee,l,Y)}var ve;if(ut)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ks?xp(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(Ki&&l.locale!=="ko"&&(Ks||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ks&&(ve=ca()):(an=Y,Fs="value"in an?an.value:an.textContent,Ks=!0)),_e=Jl(z,Te),0<_e.length&&(Te=new fa(Te,r,null,l,Y),ee.push({event:Te,listeners:_e}),ve?Te.data=ve:(ve=Dp(l),ve!==null&&(Te.data=ve)))),(ve=ln?NE(r,l):xE(r,l))&&(z=Jl(z,"onBeforeInput"),0<z.length&&(Y=new fa("onBeforeInput","beforeinput",null,l,Y),ee.push({event:Y,listeners:z}),Y.data=ve))}Xp(ee,s)})}function Ea(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Jl(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=st(r,l),g!=null&&h.unshift(Ea(r,g,f)),g=st(r,s),g!=null&&h.push(Ea(r,g,f))),r=r.return}return h}function Js(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function em(r,s,l,h,f){for(var g=s._reactName,E=[];l!==null&&l!==h;){var R=l,D=R.alternate,z=R.stateNode;if(D!==null&&D===h)break;R.tag===5&&z!==null&&(R=z,f?(D=st(l,g),D!=null&&E.unshift(Ea(l,D,R))):f||(D=st(l,g),D!=null&&E.push(Ea(l,D,R)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var HE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function tm(r){return(typeof r=="string"?r:""+r).replace(HE,`
`).replace(WE,"")}function Yl(r,s,l){if(s=tm(s),tm(r)!==s&&l)throw Error(t(425))}function Xl(){}var Eh=null,wh=null;function Th(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(r){return nm.resolve(null).then(r).catch(QE)}:Ih;function QE(r){setTimeout(function(){throw r})}function Sh(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),Ln(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Ln(s)}function Zr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function rm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),er="__reactFiber$"+Ys,wa="__reactProps$"+Ys,Ir="__reactContainer$"+Ys,Rh="__reactEvents$"+Ys,JE="__reactListeners$"+Ys,YE="__reactHandles$"+Ys;function Gi(r){var s=r[er];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Ir]||l[er]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=rm(r);r!==null;){if(l=r[er])return l;r=rm(r)}return s}r=l,l=r.parentNode}return null}function Ta(r){return r=r[er]||r[Ir],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Xs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Zl(r){return r[wa]||null}var Ch=[],Zs=-1;function ei(r){return{current:r}}function Qe(r){0>Zs||(r.current=Ch[Zs],Ch[Zs]=null,Zs--)}function Ke(r,s){Zs++,Ch[Zs]=r.current,r.current=s}var ti={},bt=ei(ti),Jt=ei(!1),Qi=ti;function eo(r,s){var l=r.type.contextTypes;if(!l)return ti;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Yt(r){return r=r.childContextTypes,r!=null}function eu(){Qe(Jt),Qe(bt)}function im(r,s,l){if(bt.current!==ti)throw Error(t(168));Ke(bt,s),Ke(Jt,l)}function sm(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Ue(r)||"Unknown",f));return ae({},l,h)}function tu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ti,Qi=bt.current,Ke(bt,r),Ke(Jt,Jt.current),!0}function om(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=sm(r,s,Qi),h.__reactInternalMemoizedMergedChildContext=r,Qe(Jt),Qe(bt),Ke(bt,r)):Qe(Jt),Ke(Jt,l)}var Sr=null,nu=!1,Ah=!1;function am(r){Sr===null?Sr=[r]:Sr.push(r)}function XE(r){nu=!0,am(r)}function ni(){if(!Ah&&Sr!==null){Ah=!0;var r=0,s=De;try{var l=Sr;for(De=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Sr=null,nu=!1}catch(f){throw Sr!==null&&(Sr=Sr.slice(r+1)),Os(ji,ni),f}finally{De=s,Ah=!1}}return null}var to=[],no=0,ru=null,iu=0,_n=[],vn=0,Ji=null,Rr=1,Cr="";function Yi(r,s){to[no++]=iu,to[no++]=ru,ru=r,iu=s}function lm(r,s,l){_n[vn++]=Rr,_n[vn++]=Cr,_n[vn++]=Ji,Ji=r;var h=Rr;r=Cr;var f=32-qt(h)-1;h&=~(1<<f),l+=1;var g=32-qt(s)+f;if(30<g){var E=f-f%5;g=(h&(1<<E)-1).toString(32),h>>=E,f-=E,Rr=1<<32-qt(s)+f|l<<f|h,Cr=g+r}else Rr=1<<g|l<<f|h,Cr=r}function Ph(r){r.return!==null&&(Yi(r,1),lm(r,1,0))}function kh(r){for(;r===ru;)ru=to[--no],to[no]=null,iu=to[--no],to[no]=null;for(;r===Ji;)Ji=_n[--vn],_n[vn]=null,Cr=_n[--vn],_n[vn]=null,Rr=_n[--vn],_n[vn]=null}var un=null,cn=null,Xe=!1,Mn=null;function um(r,s){var l=In(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function cm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,un=r,cn=Zr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,un=r,cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ji!==null?{id:Rr,overflow:Cr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=In(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,un=r,cn=null,!0):!1;default:return!1}}function Nh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function xh(r){if(Xe){var s=cn;if(s){var l=s;if(!cm(r,s)){if(Nh(r))throw Error(t(418));s=Zr(l.nextSibling);var h=un;s&&cm(r,s)?um(h,l):(r.flags=r.flags&-4097|2,Xe=!1,un=r)}}else{if(Nh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Xe=!1,un=r}}}function hm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;un=r}function su(r){if(r!==un)return!1;if(!Xe)return hm(r),Xe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Th(r.type,r.memoizedProps)),s&&(s=cn)){if(Nh(r))throw dm(),Error(t(418));for(;s;)um(r,s),s=Zr(s.nextSibling)}if(hm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){cn=Zr(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}cn=null}}else cn=un?Zr(r.stateNode.nextSibling):null;return!0}function dm(){for(var r=cn;r;)r=Zr(r.nextSibling)}function ro(){cn=un=null,Xe=!1}function Dh(r){Mn===null?Mn=[r]:Mn.push(r)}var ZE=oe.ReactCurrentBatchConfig;function Ia(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var R=f.refs;E===null?delete R[g]:R[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function ou(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function fm(r){var s=r._init;return s(r._payload)}function pm(r){function s(j,O){if(r){var B=j.deletions;B===null?(j.deletions=[O],j.flags|=16):B.push(O)}}function l(j,O){if(!r)return null;for(;O!==null;)s(j,O),O=O.sibling;return null}function h(j,O){for(j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function f(j,O){return j=ci(j,O),j.index=0,j.sibling=null,j}function g(j,O,B){return j.index=B,r?(B=j.alternate,B!==null?(B=B.index,B<O?(j.flags|=2,O):B):(j.flags|=2,O)):(j.flags|=1048576,O)}function E(j){return r&&j.alternate===null&&(j.flags|=2),j}function R(j,O,B,ne){return O===null||O.tag!==6?(O=Id(B,j.mode,ne),O.return=j,O):(O=f(O,B),O.return=j,O)}function D(j,O,B,ne){var de=B.type;return de===P?Y(j,O,B.props.children,ne,B.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===wt&&fm(de)===O.type)?(ne=f(O,B.props),ne.ref=Ia(j,O,B),ne.return=j,ne):(ne=Nu(B.type,B.key,B.props,null,j.mode,ne),ne.ref=Ia(j,O,B),ne.return=j,ne)}function z(j,O,B,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Sd(B,j.mode,ne),O.return=j,O):(O=f(O,B.children||[]),O.return=j,O)}function Y(j,O,B,ne,de){return O===null||O.tag!==7?(O=ss(B,j.mode,ne,de),O.return=j,O):(O=f(O,B),O.return=j,O)}function ee(j,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Id(""+O,j.mode,B),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case pe:return B=Nu(O.type,O.key,O.props,null,j.mode,B),B.ref=Ia(j,null,O),B.return=j,B;case me:return O=Sd(O,j.mode,B),O.return=j,O;case wt:var ne=O._init;return ee(j,ne(O._payload),B)}if(pr(O)||ye(O))return O=ss(O,j.mode,B,null),O.return=j,O;ou(j,O)}return null}function J(j,O,B,ne){var de=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return de!==null?null:R(j,O,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case pe:return B.key===de?D(j,O,B,ne):null;case me:return B.key===de?z(j,O,B,ne):null;case wt:return de=B._init,J(j,O,de(B._payload),ne)}if(pr(B)||ye(B))return de!==null?null:Y(j,O,B,ne,null);ou(j,B)}return null}function se(j,O,B,ne,de){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return j=j.get(B)||null,R(O,j,""+ne,de);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case pe:return j=j.get(ne.key===null?B:ne.key)||null,D(O,j,ne,de);case me:return j=j.get(ne.key===null?B:ne.key)||null,z(O,j,ne,de);case wt:var _e=ne._init;return se(j,O,B,_e(ne._payload),de)}if(pr(ne)||ye(ne))return j=j.get(B)||null,Y(O,j,ne,de,null);ou(O,ne)}return null}function ce(j,O,B,ne){for(var de=null,_e=null,ve=O,Te=O=0,Ct=null;ve!==null&&Te<B.length;Te++){ve.index>Te?(Ct=ve,ve=null):Ct=ve.sibling;var Fe=J(j,ve,B[Te],ne);if(Fe===null){ve===null&&(ve=Ct);break}r&&ve&&Fe.alternate===null&&s(j,ve),O=g(Fe,O,Te),_e===null?de=Fe:_e.sibling=Fe,_e=Fe,ve=Ct}if(Te===B.length)return l(j,ve),Xe&&Yi(j,Te),de;if(ve===null){for(;Te<B.length;Te++)ve=ee(j,B[Te],ne),ve!==null&&(O=g(ve,O,Te),_e===null?de=ve:_e.sibling=ve,_e=ve);return Xe&&Yi(j,Te),de}for(ve=h(j,ve);Te<B.length;Te++)Ct=se(ve,j,Te,B[Te],ne),Ct!==null&&(r&&Ct.alternate!==null&&ve.delete(Ct.key===null?Te:Ct.key),O=g(Ct,O,Te),_e===null?de=Ct:_e.sibling=Ct,_e=Ct);return r&&ve.forEach(function(hi){return s(j,hi)}),Xe&&Yi(j,Te),de}function he(j,O,B,ne){var de=ye(B);if(typeof de!="function")throw Error(t(150));if(B=de.call(B),B==null)throw Error(t(151));for(var _e=de=null,ve=O,Te=O=0,Ct=null,Fe=B.next();ve!==null&&!Fe.done;Te++,Fe=B.next()){ve.index>Te?(Ct=ve,ve=null):Ct=ve.sibling;var hi=J(j,ve,Fe.value,ne);if(hi===null){ve===null&&(ve=Ct);break}r&&ve&&hi.alternate===null&&s(j,ve),O=g(hi,O,Te),_e===null?de=hi:_e.sibling=hi,_e=hi,ve=Ct}if(Fe.done)return l(j,ve),Xe&&Yi(j,Te),de;if(ve===null){for(;!Fe.done;Te++,Fe=B.next())Fe=ee(j,Fe.value,ne),Fe!==null&&(O=g(Fe,O,Te),_e===null?de=Fe:_e.sibling=Fe,_e=Fe);return Xe&&Yi(j,Te),de}for(ve=h(j,ve);!Fe.done;Te++,Fe=B.next())Fe=se(ve,j,Te,Fe.value,ne),Fe!==null&&(r&&Fe.alternate!==null&&ve.delete(Fe.key===null?Te:Fe.key),O=g(Fe,O,Te),_e===null?de=Fe:_e.sibling=Fe,_e=Fe);return r&&ve.forEach(function(Dw){return s(j,Dw)}),Xe&&Yi(j,Te),de}function ot(j,O,B,ne){if(typeof B=="object"&&B!==null&&B.type===P&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case pe:e:{for(var de=B.key,_e=O;_e!==null;){if(_e.key===de){if(de=B.type,de===P){if(_e.tag===7){l(j,_e.sibling),O=f(_e,B.props.children),O.return=j,j=O;break e}}else if(_e.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===wt&&fm(de)===_e.type){l(j,_e.sibling),O=f(_e,B.props),O.ref=Ia(j,_e,B),O.return=j,j=O;break e}l(j,_e);break}else s(j,_e);_e=_e.sibling}B.type===P?(O=ss(B.props.children,j.mode,ne,B.key),O.return=j,j=O):(ne=Nu(B.type,B.key,B.props,null,j.mode,ne),ne.ref=Ia(j,O,B),ne.return=j,j=ne)}return E(j);case me:e:{for(_e=B.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){l(j,O.sibling),O=f(O,B.children||[]),O.return=j,j=O;break e}else{l(j,O);break}else s(j,O);O=O.sibling}O=Sd(B,j.mode,ne),O.return=j,j=O}return E(j);case wt:return _e=B._init,ot(j,O,_e(B._payload),ne)}if(pr(B))return ce(j,O,B,ne);if(ye(B))return he(j,O,B,ne);ou(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,O!==null&&O.tag===6?(l(j,O.sibling),O=f(O,B),O.return=j,j=O):(l(j,O),O=Id(B,j.mode,ne),O.return=j,j=O),E(j)):l(j,O)}return ot}var io=pm(!0),mm=pm(!1),au=ei(null),lu=null,so=null,Oh=null;function Lh(){Oh=so=lu=null}function bh(r){var s=au.current;Qe(au),r._currentValue=s}function Vh(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function oo(r,s){lu=r,Oh=so=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Xt=!0),r.firstContext=null)}function En(r){var s=r._currentValue;if(Oh!==r)if(r={context:r,memoizedValue:s,next:null},so===null){if(lu===null)throw Error(t(308));so=r,lu.dependencies={lanes:0,firstContext:r}}else so=so.next=r;return s}var Xi=null;function Mh(r){Xi===null?Xi=[r]:Xi.push(r)}function gm(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,Mh(s)):(l.next=f.next,f.next=l),s.interleaved=l,Ar(r,h)}function Ar(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ri=!1;function Fh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ym(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Pr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ii(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Me&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Ar(r,l)}return f=h.interleaved,f===null?(s.next=s,Mh(h)):(s.next=f.next,f.next=s),h.interleaved=s,Ar(r,l)}function uu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Kr(r,l)}}function _m(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function cu(r,s,l,h){var f=r.updateQueue;ri=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var D=R,z=D.next;D.next=null,E===null?g=z:E.next=z,E=D;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,R=Y.lastBaseUpdate,R!==E&&(R===null?Y.firstBaseUpdate=z:R.next=z,Y.lastBaseUpdate=D))}if(g!==null){var ee=f.baseState;E=0,Y=z=D=null,R=g;do{var J=R.lane,se=R.eventTime;if((h&J)===J){Y!==null&&(Y=Y.next={eventTime:se,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ce=r,he=R;switch(J=s,se=l,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){ee=ce.call(se,ee,J);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,J=typeof ce=="function"?ce.call(se,ee,J):ce,J==null)break e;ee=ae({},ee,J);break e;case 2:ri=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[R]:J.push(R))}else se={eventTime:se,lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Y===null?(z=Y=se,D=ee):Y=Y.next=se,E|=J;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;J=R,R=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Y===null&&(D=ee),f.baseState=D,f.firstBaseUpdate=z,f.lastBaseUpdate=Y,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);ts|=E,r.lanes=E,r.memoizedState=ee}}function vm(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Sa={},tr=ei(Sa),Ra=ei(Sa),Ca=ei(Sa);function Zi(r){if(r===Sa)throw Error(t(174));return r}function Uh(r,s){switch(Ke(Ca,s),Ke(Ra,r),Ke(tr,Sa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:pt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=pt(s,r)}Qe(tr),Ke(tr,s)}function ao(){Qe(tr),Qe(Ra),Qe(Ca)}function Em(r){Zi(Ca.current);var s=Zi(tr.current),l=pt(s,r.type);s!==l&&(Ke(Ra,r),Ke(tr,l))}function jh(r){Ra.current===r&&(Qe(tr),Qe(Ra))}var tt=ei(0);function hu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bh=[];function zh(){for(var r=0;r<Bh.length;r++)Bh[r]._workInProgressVersionPrimary=null;Bh.length=0}var du=oe.ReactCurrentDispatcher,$h=oe.ReactCurrentBatchConfig,es=0,nt=null,gt=null,St=null,fu=!1,Aa=!1,Pa=0,ew=0;function Vt(){throw Error(t(321))}function qh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Vn(r[l],s[l]))return!1;return!0}function Hh(r,s,l,h,f,g){if(es=g,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,du.current=r===null||r.memoizedState===null?iw:sw,r=l(h,f),Aa){g=0;do{if(Aa=!1,Pa=0,25<=g)throw Error(t(301));g+=1,St=gt=null,s.updateQueue=null,du.current=ow,r=l(h,f)}while(Aa)}if(du.current=gu,s=gt!==null&&gt.next!==null,es=0,St=gt=nt=null,fu=!1,s)throw Error(t(300));return r}function Wh(){var r=Pa!==0;return Pa=0,r}function nr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?nt.memoizedState=St=r:St=St.next=r,St}function wn(){if(gt===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=gt.next;var s=St===null?nt.memoizedState:St.next;if(s!==null)St=s,gt=r;else{if(r===null)throw Error(t(310));gt=r,r={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},St===null?nt.memoizedState=St=r:St=St.next=r}return St}function ka(r,s){return typeof s=="function"?s(r):s}function Kh(r){var s=wn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=gt,f=h.baseQueue,g=l.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}h.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,h=h.baseState;var R=E=null,D=null,z=g;do{var Y=z.lane;if((es&Y)===Y)D!==null&&(D=D.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var ee={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};D===null?(R=D=ee,E=h):D=D.next=ee,nt.lanes|=Y,ts|=Y}z=z.next}while(z!==null&&z!==g);D===null?E=h:D.next=R,Vn(h,s.memoizedState)||(Xt=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=D,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do g=f.lane,nt.lanes|=g,ts|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Gh(r){var s=wn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);Vn(g,s.memoizedState)||(Xt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function wm(){}function Tm(r,s){var l=nt,h=wn(),f=s(),g=!Vn(h.memoizedState,f);if(g&&(h.memoizedState=f,Xt=!0),h=h.queue,Qh(Rm.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Na(9,Sm.bind(null,l,h,f,s),void 0,null),Rt===null)throw Error(t(349));(es&30)!==0||Im(l,s,f)}return f}function Im(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Sm(r,s,l,h){s.value=l,s.getSnapshot=h,Cm(s)&&Am(r)}function Rm(r,s,l){return l(function(){Cm(s)&&Am(r)})}function Cm(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Vn(r,l)}catch{return!0}}function Am(r){var s=Ar(r,1);s!==null&&Bn(s,r,1,-1)}function Pm(r){var s=nr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:r},s.queue=r,r=r.dispatch=rw.bind(null,nt,r),[s.memoizedState,r]}function Na(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function km(){return wn().memoizedState}function pu(r,s,l,h){var f=nr();nt.flags|=r,f.memoizedState=Na(1|s,l,void 0,h===void 0?null:h)}function mu(r,s,l,h){var f=wn();h=h===void 0?null:h;var g=void 0;if(gt!==null){var E=gt.memoizedState;if(g=E.destroy,h!==null&&qh(h,E.deps)){f.memoizedState=Na(s,l,g,h);return}}nt.flags|=r,f.memoizedState=Na(1|s,l,g,h)}function Nm(r,s){return pu(8390656,8,r,s)}function Qh(r,s){return mu(2048,8,r,s)}function xm(r,s){return mu(4,2,r,s)}function Dm(r,s){return mu(4,4,r,s)}function Om(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Lm(r,s,l){return l=l!=null?l.concat([r]):null,mu(4,4,Om.bind(null,s,r),l)}function Jh(){}function bm(r,s){var l=wn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&qh(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Vm(r,s){var l=wn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&qh(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Mm(r,s,l){return(es&21)===0?(r.baseState&&(r.baseState=!1,Xt=!0),r.memoizedState=l):(Vn(l,s)||(l=$i(),nt.lanes|=l,ts|=l,r.baseState=!0),s)}function tw(r,s){var l=De;De=l!==0&&4>l?l:4,r(!0);var h=$h.transition;$h.transition={};try{r(!1),s()}finally{De=l,$h.transition=h}}function Fm(){return wn().memoizedState}function nw(r,s,l){var h=li(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Um(r))jm(s,l);else if(l=gm(r,s,l,h),l!==null){var f=Kt();Bn(l,r,h,f),Bm(l,s,h)}}function rw(r,s,l){var h=li(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Um(r))jm(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,R=g(E,l);if(f.hasEagerState=!0,f.eagerState=R,Vn(R,E)){var D=s.interleaved;D===null?(f.next=f,Mh(s)):(f.next=D.next,D.next=f),s.interleaved=f;return}}catch{}finally{}l=gm(r,s,f,h),l!==null&&(f=Kt(),Bn(l,r,h,f),Bm(l,s,h))}}function Um(r){var s=r.alternate;return r===nt||s!==null&&s===nt}function jm(r,s){Aa=fu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Bm(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Kr(r,l)}}var gu={readContext:En,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},iw={readContext:En,useCallback:function(r,s){return nr().memoizedState=[r,s===void 0?null:s],r},useContext:En,useEffect:Nm,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,pu(4194308,4,Om.bind(null,s,r),l)},useLayoutEffect:function(r,s){return pu(4194308,4,r,s)},useInsertionEffect:function(r,s){return pu(4,2,r,s)},useMemo:function(r,s){var l=nr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=nr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=nw.bind(null,nt,r),[h.memoizedState,r]},useRef:function(r){var s=nr();return r={current:r},s.memoizedState=r},useState:Pm,useDebugValue:Jh,useDeferredValue:function(r){return nr().memoizedState=r},useTransition:function(){var r=Pm(!1),s=r[0];return r=tw.bind(null,r[1]),nr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=nt,f=nr();if(Xe){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Rt===null)throw Error(t(349));(es&30)!==0||Im(h,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Nm(Rm.bind(null,h,g,r),[r]),h.flags|=2048,Na(9,Sm.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=nr(),s=Rt.identifierPrefix;if(Xe){var l=Cr,h=Rr;l=(h&~(1<<32-qt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Pa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=ew++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},sw={readContext:En,useCallback:bm,useContext:En,useEffect:Qh,useImperativeHandle:Lm,useInsertionEffect:xm,useLayoutEffect:Dm,useMemo:Vm,useReducer:Kh,useRef:km,useState:function(){return Kh(ka)},useDebugValue:Jh,useDeferredValue:function(r){var s=wn();return Mm(s,gt.memoizedState,r)},useTransition:function(){var r=Kh(ka)[0],s=wn().memoizedState;return[r,s]},useMutableSource:wm,useSyncExternalStore:Tm,useId:Fm,unstable_isNewReconciler:!1},ow={readContext:En,useCallback:bm,useContext:En,useEffect:Qh,useImperativeHandle:Lm,useInsertionEffect:xm,useLayoutEffect:Dm,useMemo:Vm,useReducer:Gh,useRef:km,useState:function(){return Gh(ka)},useDebugValue:Jh,useDeferredValue:function(r){var s=wn();return gt===null?s.memoizedState=r:Mm(s,gt.memoizedState,r)},useTransition:function(){var r=Gh(ka)[0],s=wn().memoizedState;return[r,s]},useMutableSource:wm,useSyncExternalStore:Tm,useId:Fm,unstable_isNewReconciler:!1};function Fn(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Yh(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:ae({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var yu={isMounted:function(r){return(r=r._reactInternals)?kn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Kt(),f=li(r),g=Pr(h,f);g.payload=s,l!=null&&(g.callback=l),s=ii(r,g,f),s!==null&&(Bn(s,r,f,h),uu(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Kt(),f=li(r),g=Pr(h,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=ii(r,g,f),s!==null&&(Bn(s,r,f,h),uu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Kt(),h=li(r),f=Pr(l,h);f.tag=2,s!=null&&(f.callback=s),s=ii(r,f,h),s!==null&&(Bn(s,r,h,l),uu(s,r,h))}};function zm(r,s,l,h,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!ga(l,h)||!ga(f,g):!0}function $m(r,s,l){var h=!1,f=ti,g=s.contextType;return typeof g=="object"&&g!==null?g=En(g):(f=Yt(s)?Qi:bt.current,h=s.contextTypes,g=(h=h!=null)?eo(r,f):ti),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=yu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function qm(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&yu.enqueueReplaceState(s,s.state,null)}function Xh(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Fh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=En(g):(g=Yt(s)?Qi:bt.current,f.context=eo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Yh(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&yu.enqueueReplaceState(f,f.state,null),cu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function lo(r,s){try{var l="",h=s;do l+=Pe(h),h=h.return;while(h);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Zh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function ed(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var aw=typeof WeakMap=="function"?WeakMap:Map;function Hm(r,s,l){l=Pr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Su||(Su=!0,md=h),ed(r,s)},l}function Wm(r,s,l){l=Pr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){ed(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){ed(r,s),typeof h!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Km(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new aw;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=ww.bind(null,r,s,l),s.then(r,r))}function Gm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Qm(r,s,l,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Pr(-1,1),s.tag=2,ii(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var lw=oe.ReactCurrentOwner,Xt=!1;function Wt(r,s,l,h){s.child=r===null?mm(s,null,l,h):io(s,r.child,l,h)}function Jm(r,s,l,h,f){l=l.render;var g=s.ref;return oo(s,f),h=Hh(r,s,l,h,g,f),l=Wh(),r!==null&&!Xt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,kr(r,s,f)):(Xe&&l&&Ph(s),s.flags|=1,Wt(r,s,h,f),s.child)}function Ym(r,s,l,h,f){if(r===null){var g=l.type;return typeof g=="function"&&!Td(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Xm(r,s,g,h,f)):(r=Nu(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:ga,l(E,h)&&r.ref===s.ref)return kr(r,s,f)}return s.flags|=1,r=ci(g,h),r.ref=s.ref,r.return=s,s.child=r}function Xm(r,s,l,h,f){if(r!==null){var g=r.memoizedProps;if(ga(g,h)&&r.ref===s.ref)if(Xt=!1,s.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Xt=!0);else return s.lanes=r.lanes,kr(r,s,f)}return td(r,s,l,h,f)}function Zm(r,s,l){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(co,hn),hn|=l;else{if((l&1073741824)===0)return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(co,hn),hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,Ke(co,hn),hn|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,Ke(co,hn),hn|=h;return Wt(r,s,f,l),s.child}function eg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function td(r,s,l,h,f){var g=Yt(l)?Qi:bt.current;return g=eo(s,g),oo(s,f),l=Hh(r,s,l,h,g,f),h=Wh(),r!==null&&!Xt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,kr(r,s,f)):(Xe&&h&&Ph(s),s.flags|=1,Wt(r,s,l,f),s.child)}function tg(r,s,l,h,f){if(Yt(l)){var g=!0;tu(s)}else g=!1;if(oo(s,f),s.stateNode===null)vu(r,s),$m(s,l,h),Xh(s,l,h,f),h=!0;else if(r===null){var E=s.stateNode,R=s.memoizedProps;E.props=R;var D=E.context,z=l.contextType;typeof z=="object"&&z!==null?z=En(z):(z=Yt(l)?Qi:bt.current,z=eo(s,z));var Y=l.getDerivedStateFromProps,ee=typeof Y=="function"||typeof E.getSnapshotBeforeUpdate=="function";ee||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==h||D!==z)&&qm(s,E,h,z),ri=!1;var J=s.memoizedState;E.state=J,cu(s,h,E,f),D=s.memoizedState,R!==h||J!==D||Jt.current||ri?(typeof Y=="function"&&(Yh(s,l,Y,h),D=s.memoizedState),(R=ri||zm(s,l,R,h,J,D,z))?(ee||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=D),E.props=h,E.state=D,E.context=z,h=R):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,ym(r,s),R=s.memoizedProps,z=s.type===s.elementType?R:Fn(s.type,R),E.props=z,ee=s.pendingProps,J=E.context,D=l.contextType,typeof D=="object"&&D!==null?D=En(D):(D=Yt(l)?Qi:bt.current,D=eo(s,D));var se=l.getDerivedStateFromProps;(Y=typeof se=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==ee||J!==D)&&qm(s,E,h,D),ri=!1,J=s.memoizedState,E.state=J,cu(s,h,E,f);var ce=s.memoizedState;R!==ee||J!==ce||Jt.current||ri?(typeof se=="function"&&(Yh(s,l,se,h),ce=s.memoizedState),(z=ri||zm(s,l,z,h,J,ce,D)||!1)?(Y||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ce,D),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ce,D)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ce),E.props=h,E.state=ce,E.context=D,h=z):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),h=!1)}return nd(r,s,l,h,g,f)}function nd(r,s,l,h,f,g){eg(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&om(s,l,!1),kr(r,s,g);h=s.stateNode,lw.current=s;var R=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=io(s,r.child,null,g),s.child=io(s,null,R,g)):Wt(r,s,R,g),s.memoizedState=h.state,f&&om(s,l,!0),s.child}function ng(r){var s=r.stateNode;s.pendingContext?im(r,s.pendingContext,s.pendingContext!==s.context):s.context&&im(r,s.context,!1),Uh(r,s.containerInfo)}function rg(r,s,l,h,f){return ro(),Dh(f),s.flags|=256,Wt(r,s,l,h),s.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function id(r){return{baseLanes:r,cachePool:null,transitions:null}}function ig(r,s,l){var h=s.pendingProps,f=tt.current,g=!1,E=(s.flags&128)!==0,R;if((R=E)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ke(tt,f&1),r===null)return xh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=xu(E,h,0,null),r=ss(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=id(l),s.memoizedState=rd,r):sd(s,E));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return uw(r,s,E,h,R,f,l);if(g){g=h.fallback,E=s.mode,f=r.child,R=f.sibling;var D={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=D,s.deletions=null):(h=ci(f,D),h.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=ci(R,g):(g=ss(g,E,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?id(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~l,s.memoizedState=rd,h}return g=r.child,r=g.sibling,h=ci(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function sd(r,s){return s=xu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function _u(r,s,l,h){return h!==null&&Dh(h),io(s,r.child,null,l),r=sd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function uw(r,s,l,h,f,g,E){if(l)return s.flags&256?(s.flags&=-257,h=Zh(Error(t(422))),_u(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=xu({mode:"visible",children:h.children},f,0,null),g=ss(g,f,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&io(s,r.child,null,E),s.child.memoizedState=id(E),s.memoizedState=rd,g);if((s.mode&1)===0)return _u(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var R=h.dgst;return h=R,g=Error(t(419)),h=Zh(g,h,void 0),_u(r,s,E,h)}if(R=(E&r.childLanes)!==0,Xt||R){if(h=Rt,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Ar(r,f),Bn(h,r,f,-1))}return wd(),h=Zh(Error(t(421))),_u(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=Tw.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,cn=Zr(f.nextSibling),un=s,Xe=!0,Mn=null,r!==null&&(_n[vn++]=Rr,_n[vn++]=Cr,_n[vn++]=Ji,Rr=r.id,Cr=r.overflow,Ji=s),s=sd(s,h.children),s.flags|=4096,s)}function sg(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Vh(r.return,s,l)}function od(r,s,l,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=f)}function og(r,s,l){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Wt(r,s,h.children,l),h=tt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&sg(r,l,s);else if(r.tag===19)sg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ke(tt,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&hu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),od(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&hu(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}od(s,!0,l,null,g);break;case"together":od(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function vu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function kr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ts|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=ci(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=ci(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function cw(r,s,l){switch(s.tag){case 3:ng(s),ro();break;case 5:Em(s);break;case 1:Yt(s.type)&&tu(s);break;case 4:Uh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Ke(au,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ke(tt,tt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?ig(r,s,l):(Ke(tt,tt.current&1),r=kr(r,s,l),r!==null?r.sibling:null);Ke(tt,tt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return og(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(tt,tt.current),h)break;return null;case 22:case 23:return s.lanes=0,Zm(r,s,l)}return kr(r,s,l)}var ag,ad,lg,ug;ag=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ad=function(){},lg=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Zi(tr.current);var g=null;switch(l){case"input":f=Di(r,f),h=Di(r,h),g=[];break;case"select":f=ae({},f,{value:void 0}),h=ae({},h,{value:void 0}),g=[];break;case"textarea":f=Ho(r,f),h=Ho(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Xl)}Yo(l,h);var E;l=null;for(z in f)if(!h.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var R=f[z];for(E in R)R.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in h){var D=h[z];if(R=f!=null?f[z]:void 0,h.hasOwnProperty(z)&&D!==R&&(D!=null||R!=null))if(z==="style")if(R){for(E in R)!R.hasOwnProperty(E)||D&&D.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in D)D.hasOwnProperty(E)&&R[E]!==D[E]&&(l||(l={}),l[E]=D[E])}else l||(g||(g=[]),g.push(z,l)),l=D;else z==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(g=g||[]).push(z,D)):z==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(z,""+D):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(D!=null&&z==="onScroll"&&Ge("scroll",r),g||R===D||(g=[])):(g=g||[]).push(z,D))}l&&(g=g||[]).push("style",l);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},ug=function(r,s,l,h){l!==h&&(s.flags|=4)};function xa(r,s){if(!Xe)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function hw(r,s,l){var h=s.pendingProps;switch(kh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Yt(s.type)&&eu(),Mt(s),null;case 3:return h=s.stateNode,ao(),Qe(Jt),Qe(bt),zh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(su(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mn!==null&&(_d(Mn),Mn=null))),ad(r,s),Mt(s),null;case 5:jh(s);var f=Zi(Ca.current);if(l=s.type,r!==null&&s.stateNode!=null)lg(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Mt(s),null}if(r=Zi(tr.current),su(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[er]=s,h[wa]=g,r=(s.mode&1)!==0,l){case"dialog":Ge("cancel",h),Ge("close",h);break;case"iframe":case"object":case"embed":Ge("load",h);break;case"video":case"audio":for(f=0;f<_a.length;f++)Ge(_a[f],h);break;case"source":Ge("error",h);break;case"img":case"image":case"link":Ge("error",h),Ge("load",h);break;case"details":Ge("toggle",h);break;case"input":Ts(h,g),Ge("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ge("invalid",h);break;case"textarea":Ss(h,g),Ge("invalid",h)}Yo(l,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var R=g[E];E==="children"?typeof R=="string"?h.textContent!==R&&(g.suppressHydrationWarning!==!0&&Yl(h.textContent,R,r),f=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&Yl(h.textContent,R,r),f=["children",""+R]):o.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&Ge("scroll",h)}switch(l){case"input":fr(h),Il(h,g,!0);break;case"textarea":fr(h),Wo(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Xl)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ft(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(l,{is:h.is}):(r=E.createElement(l),l==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,l),r[er]=s,r[wa]=h,ag(r,s,!1,!1),s.stateNode=r;e:{switch(E=Xo(l,h),l){case"dialog":Ge("cancel",r),Ge("close",r),f=h;break;case"iframe":case"object":case"embed":Ge("load",r),f=h;break;case"video":case"audio":for(f=0;f<_a.length;f++)Ge(_a[f],r);f=h;break;case"source":Ge("error",r),f=h;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),f=h;break;case"details":Ge("toggle",r),f=h;break;case"input":Ts(r,h),f=Di(r,h),Ge("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=ae({},h,{value:void 0}),Ge("invalid",r);break;case"textarea":Ss(r,h),f=Ho(r,h),Ge("invalid",r);break;default:f=h}Yo(l,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var D=R[g];g==="style"?Qo(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Ko(r,D)):g==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&zr(r,D):typeof D=="number"&&zr(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&Ge("scroll",r):D!=null&&X(r,g,D,E))}switch(l){case"input":fr(r),Il(r,h,!1);break;case"textarea":fr(r),Wo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+je(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?mr(r,!!h.multiple,g,!1):h.defaultValue!=null&&mr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Xl)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Mt(s),null;case 6:if(r&&s.stateNode!=null)ug(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Zi(Ca.current),Zi(tr.current),su(s)){if(h=s.stateNode,l=s.memoizedProps,h[er]=s,(g=h.nodeValue!==l)&&(r=un,r!==null))switch(r.tag){case 3:Yl(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Yl(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[er]=s,s.stateNode=h}return Mt(s),null;case 13:if(Qe(tt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Xe&&cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)dm(),ro(),s.flags|=98560,g=!1;else if(g=su(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[er]=s}else ro(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),g=!1}else Mn!==null&&(_d(Mn),Mn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(tt.current&1)!==0?yt===0&&(yt=3):wd())),s.updateQueue!==null&&(s.flags|=4),Mt(s),null);case 4:return ao(),ad(r,s),r===null&&va(s.stateNode.containerInfo),Mt(s),null;case 10:return bh(s.type._context),Mt(s),null;case 17:return Yt(s.type)&&eu(),Mt(s),null;case 19:if(Qe(tt),g=s.memoizedState,g===null)return Mt(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)xa(g,!1);else{if(yt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=hu(r),E!==null){for(s.flags|=128,xa(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ke(tt,tt.current&1|2),s.child}r=r.sibling}g.tail!==null&&We()>ho&&(s.flags|=128,h=!0,xa(g,!1),s.lanes=4194304)}else{if(!h)if(r=hu(E),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),xa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Xe)return Mt(s),null}else 2*We()-g.renderingStartTime>ho&&l!==1073741824&&(s.flags|=128,h=!0,xa(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(l=g.last,l!==null?l.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=We(),s.sibling=null,l=tt.current,Ke(tt,h?l&1|2:l&1),s):(Mt(s),null);case 22:case 23:return Ed(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(hn&1073741824)!==0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function dw(r,s){switch(kh(s),s.tag){case 1:return Yt(s.type)&&eu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ao(),Qe(Jt),Qe(bt),zh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return jh(s),null;case 13:if(Qe(tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ro()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Qe(tt),null;case 4:return ao(),null;case 10:return bh(s.type._context),null;case 22:case 23:return Ed(),null;case 24:return null;default:return null}}var Eu=!1,Ft=!1,fw=typeof WeakSet=="function"?WeakSet:Set,ue=null;function uo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){it(r,s,h)}else l.current=null}function ld(r,s,l){try{l()}catch(h){it(r,s,h)}}var cg=!1;function pw(r,s){if(Eh=Jr,r=zp(),dh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,R=-1,D=-1,z=0,Y=0,ee=r,J=null;t:for(;;){for(var se;ee!==l||f!==0&&ee.nodeType!==3||(R=E+f),ee!==g||h!==0&&ee.nodeType!==3||(D=E+h),ee.nodeType===3&&(E+=ee.nodeValue.length),(se=ee.firstChild)!==null;)J=ee,ee=se;for(;;){if(ee===r)break t;if(J===l&&++z===f&&(R=E),J===g&&++Y===h&&(D=E),(se=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=se}l=R===-1||D===-1?null:{start:R,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(wh={focusedElem:r,selectionRange:l},Jr=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,ot=ce.memoizedState,j=s.stateNode,O=j.getSnapshotBeforeUpdate(s.elementType===s.type?he:Fn(s.type,he),ot);j.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){it(s,s.return,ne)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return ce=cg,cg=!1,ce}function Da(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&ld(s,l,g)}f=f.next}while(f!==h)}}function wu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function ud(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function hg(r){var s=r.alternate;s!==null&&(r.alternate=null,hg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[er],delete s[wa],delete s[Rh],delete s[JE],delete s[YE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function dg(r){return r.tag===5||r.tag===3||r.tag===4}function fg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||dg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function cd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Xl));else if(h!==4&&(r=r.child,r!==null))for(cd(r,s,l),r=r.sibling;r!==null;)cd(r,s,l),r=r.sibling}function hd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(hd(r,s,l),r=r.sibling;r!==null;)hd(r,s,l),r=r.sibling}var Nt=null,Un=!1;function si(r,s,l){for(l=l.child;l!==null;)pg(r,s,l),l=l.sibling}function pg(r,s,l){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Bi,l)}catch{}switch(l.tag){case 5:Ft||uo(l,s);case 6:var h=Nt,f=Un;Nt=null,si(r,s,l),Nt=h,Un=f,Nt!==null&&(Un?(r=Nt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Nt.removeChild(l.stateNode));break;case 18:Nt!==null&&(Un?(r=Nt,l=l.stateNode,r.nodeType===8?Sh(r.parentNode,l):r.nodeType===1&&Sh(r,l),Ln(r)):Sh(Nt,l.stateNode));break;case 4:h=Nt,f=Un,Nt=l.stateNode.containerInfo,Un=!0,si(r,s,l),Nt=h,Un=f;break;case 0:case 11:case 14:case 15:if(!Ft&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&ld(l,s,E),f=f.next}while(f!==h)}si(r,s,l);break;case 1:if(!Ft&&(uo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){it(l,s,R)}si(r,s,l);break;case 21:si(r,s,l);break;case 22:l.mode&1?(Ft=(h=Ft)||l.memoizedState!==null,si(r,s,l),Ft=h):si(r,s,l);break;default:si(r,s,l)}}function mg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new fw),s.forEach(function(h){var f=Iw.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function jn(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var g=r,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 5:Nt=R.stateNode,Un=!1;break e;case 3:Nt=R.stateNode.containerInfo,Un=!0;break e;case 4:Nt=R.stateNode.containerInfo,Un=!0;break e}R=R.return}if(Nt===null)throw Error(t(160));pg(g,E,f),Nt=null,Un=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(z){it(f,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)gg(s,r),s=s.sibling}function gg(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(jn(s,r),rr(r),h&4){try{Da(3,r,r.return),wu(3,r)}catch(he){it(r,r.return,he)}try{Da(5,r,r.return)}catch(he){it(r,r.return,he)}}break;case 1:jn(s,r),rr(r),h&512&&l!==null&&uo(l,l.return);break;case 5:if(jn(s,r),rr(r),h&512&&l!==null&&uo(l,l.return),r.flags&32){var f=r.stateNode;try{zr(f,"")}catch(he){it(r,r.return,he)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=l!==null?l.memoizedProps:g,R=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&$o(f,g),Xo(R,E);var z=Xo(R,g);for(E=0;E<D.length;E+=2){var Y=D[E],ee=D[E+1];Y==="style"?Qo(f,ee):Y==="dangerouslySetInnerHTML"?Ko(f,ee):Y==="children"?zr(f,ee):X(f,Y,ee,z)}switch(R){case"input":qo(f,g);break;case"textarea":Rs(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?mr(f,!!g.multiple,se,!1):J!==!!g.multiple&&(g.defaultValue!=null?mr(f,!!g.multiple,g.defaultValue,!0):mr(f,!!g.multiple,g.multiple?[]:"",!1))}f[wa]=g}catch(he){it(r,r.return,he)}}break;case 6:if(jn(s,r),rr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(he){it(r,r.return,he)}}break;case 3:if(jn(s,r),rr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ln(s.containerInfo)}catch(he){it(r,r.return,he)}break;case 4:jn(s,r),rr(r);break;case 13:jn(s,r),rr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(pd=We())),h&4&&mg(r);break;case 22:if(Y=l!==null&&l.memoizedState!==null,r.mode&1?(Ft=(z=Ft)||Y,jn(s,r),Ft=z):jn(s,r),rr(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!Y&&(r.mode&1)!==0)for(ue=r,Y=r.child;Y!==null;){for(ee=ue=Y;ue!==null;){switch(J=ue,se=J.child,J.tag){case 0:case 11:case 14:case 15:Da(4,J,J.return);break;case 1:uo(J,J.return);var ce=J.stateNode;if(typeof ce.componentWillUnmount=="function"){h=J,l=J.return;try{s=h,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(he){it(h,l,he)}}break;case 5:uo(J,J.return);break;case 22:if(J.memoizedState!==null){vg(ee);continue}}se!==null?(se.return=J,ue=se):vg(ee)}Y=Y.sibling}e:for(Y=null,ee=r;;){if(ee.tag===5){if(Y===null){Y=ee;try{f=ee.stateNode,z?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ee.stateNode,D=ee.memoizedProps.style,E=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=Go("display",E))}catch(he){it(r,r.return,he)}}}else if(ee.tag===6){if(Y===null)try{ee.stateNode.nodeValue=z?"":ee.memoizedProps}catch(he){it(r,r.return,he)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Y===ee&&(Y=null),ee=ee.return}Y===ee&&(Y=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:jn(s,r),rr(r),h&4&&mg(r);break;case 21:break;default:jn(s,r),rr(r)}}function rr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(dg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(zr(f,""),h.flags&=-33);var g=fg(r);hd(r,g,f);break;case 3:case 4:var E=h.stateNode.containerInfo,R=fg(r);cd(r,R,E);break;default:throw Error(t(161))}}catch(D){it(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function mw(r,s,l){ue=r,yg(r)}function yg(r,s,l){for(var h=(r.mode&1)!==0;ue!==null;){var f=ue,g=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||Eu;if(!E){var R=f.alternate,D=R!==null&&R.memoizedState!==null||Ft;R=Eu;var z=Ft;if(Eu=E,(Ft=D)&&!z)for(ue=f;ue!==null;)E=ue,D=E.child,E.tag===22&&E.memoizedState!==null?Eg(f):D!==null?(D.return=E,ue=D):Eg(f);for(;g!==null;)ue=g,yg(g),g=g.sibling;ue=f,Eu=R,Ft=z}_g(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ue=g):_g(r)}}function _g(r){for(;ue!==null;){var s=ue;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ft||wu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ft)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Fn(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&vm(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}vm(s,E,l)}break;case 5:var R=s.stateNode;if(l===null&&s.flags&4){l=R;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var ee=Y.dehydrated;ee!==null&&Ln(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||s.flags&512&&ud(s)}catch(J){it(s,s.return,J)}}if(s===r){ue=null;break}if(l=s.sibling,l!==null){l.return=s.return,ue=l;break}ue=s.return}}function vg(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ue=l;break}ue=s.return}}function Eg(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{wu(4,s)}catch(D){it(s,l,D)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(D){it(s,f,D)}}var g=s.return;try{ud(s)}catch(D){it(s,g,D)}break;case 5:var E=s.return;try{ud(s)}catch(D){it(s,E,D)}}}catch(D){it(s,s.return,D)}if(s===r){ue=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ue=R;break}ue=s.return}}var gw=Math.ceil,Tu=oe.ReactCurrentDispatcher,dd=oe.ReactCurrentOwner,Tn=oe.ReactCurrentBatchConfig,Me=0,Rt=null,ct=null,xt=0,hn=0,co=ei(0),yt=0,Oa=null,ts=0,Iu=0,fd=0,La=null,Zt=null,pd=0,ho=1/0,Nr=null,Su=!1,md=null,oi=null,Ru=!1,ai=null,Cu=0,ba=0,gd=null,Au=-1,Pu=0;function Kt(){return(Me&6)!==0?We():Au!==-1?Au:Au=We()}function li(r){return(r.mode&1)===0?1:(Me&2)!==0&&xt!==0?xt&-xt:ZE.transition!==null?(Pu===0&&(Pu=$i()),Pu):(r=De,r!==0||(r=window.event,r=r===void 0?16:ua(r.type)),r)}function Bn(r,s,l,h){if(50<ba)throw ba=0,gd=null,Error(t(185));Wr(r,l,h),((Me&2)===0||r!==Rt)&&(r===Rt&&((Me&2)===0&&(Iu|=l),yt===4&&ui(r,xt)),en(r,h),l===1&&Me===0&&(s.mode&1)===0&&(ho=We()+500,nu&&ni()))}function en(r,s){var l=r.callbackNode;_r(r,s);var h=zi(r,r===Rt?xt:0);if(h===0)l!==null&&ia(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&ia(l),s===1)r.tag===0?XE(Tg.bind(null,r)):am(Tg.bind(null,r)),GE(function(){(Me&6)===0&&ni()}),l=null;else{switch(Gr(h)){case 1:l=ji;break;case 4:l=$r;break;case 16:l=mn;break;case 536870912:l=Pl;break;default:l=mn}l=Ng(l,wg.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function wg(r,s){if(Au=-1,Pu=0,(Me&6)!==0)throw Error(t(327));var l=r.callbackNode;if(fo()&&r.callbackNode!==l)return null;var h=zi(r,r===Rt?xt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=ku(r,h);else{s=h;var f=Me;Me|=2;var g=Sg();(Rt!==r||xt!==s)&&(Nr=null,ho=We()+500,rs(r,s));do try{vw();break}catch(R){Ig(r,R)}while(!0);Lh(),Tu.current=g,Me=f,ct!==null?s=0:(Rt=null,xt=0,s=yt)}if(s!==0){if(s===2&&(f=on(r),f!==0&&(h=f,s=yd(r,f))),s===1)throw l=Oa,rs(r,0),ui(r,h),en(r,We()),l;if(s===6)ui(r,h);else{if(f=r.current.alternate,(h&30)===0&&!yw(f)&&(s=ku(r,h),s===2&&(g=on(r),g!==0&&(h=g,s=yd(r,g))),s===1))throw l=Oa,rs(r,0),ui(r,h),en(r,We()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:is(r,Zt,Nr);break;case 3:if(ui(r,h),(h&130023424)===h&&(s=pd+500-We(),10<s)){if(zi(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Kt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Ih(is.bind(null,r,Zt,Nr),s);break}is(r,Zt,Nr);break;case 4:if(ui(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-qt(h);g=1<<E,E=s[E],E>f&&(f=E),h&=~g}if(h=f,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*gw(h/1960))-h,10<h){r.timeoutHandle=Ih(is.bind(null,r,Zt,Nr),h);break}is(r,Zt,Nr);break;case 5:is(r,Zt,Nr);break;default:throw Error(t(329))}}}return en(r,We()),r.callbackNode===l?wg.bind(null,r):null}function yd(r,s){var l=La;return r.current.memoizedState.isDehydrated&&(rs(r,s).flags|=256),r=ku(r,s),r!==2&&(s=Zt,Zt=l,s!==null&&_d(s)),r}function _d(r){Zt===null?Zt=r:Zt.push.apply(Zt,r)}function yw(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],g=f.getSnapshot;f=f.value;try{if(!Vn(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ui(r,s){for(s&=~fd,s&=~Iu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-qt(s),h=1<<l;r[l]=-1,s&=~h}}function Tg(r){if((Me&6)!==0)throw Error(t(327));fo();var s=zi(r,0);if((s&1)===0)return en(r,We()),null;var l=ku(r,s);if(r.tag!==0&&l===2){var h=on(r);h!==0&&(s=h,l=yd(r,h))}if(l===1)throw l=Oa,rs(r,0),ui(r,s),en(r,We()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,is(r,Zt,Nr),en(r,We()),null}function vd(r,s){var l=Me;Me|=1;try{return r(s)}finally{Me=l,Me===0&&(ho=We()+500,nu&&ni())}}function ns(r){ai!==null&&ai.tag===0&&(Me&6)===0&&fo();var s=Me;Me|=1;var l=Tn.transition,h=De;try{if(Tn.transition=null,De=1,r)return r()}finally{De=h,Tn.transition=l,Me=s,(Me&6)===0&&ni()}}function Ed(){hn=co.current,Qe(co)}function rs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,KE(l)),ct!==null)for(l=ct.return;l!==null;){var h=l;switch(kh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&eu();break;case 3:ao(),Qe(Jt),Qe(bt),zh();break;case 5:jh(h);break;case 4:ao();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:bh(h.type._context);break;case 22:case 23:Ed()}l=l.return}if(Rt=r,ct=r=ci(r.current,null),xt=hn=s,yt=0,Oa=null,fd=Iu=ts=0,Zt=La=null,Xi!==null){for(s=0;s<Xi.length;s++)if(l=Xi[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,g=l.pending;if(g!==null){var E=g.next;g.next=f,h.next=E}l.pending=h}Xi=null}return r}function Ig(r,s){do{var l=ct;try{if(Lh(),du.current=gu,fu){for(var h=nt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}fu=!1}if(es=0,St=gt=nt=null,Aa=!1,Pa=0,dd.current=null,l===null||l.return===null){yt=1,Oa=s,ct=null;break}e:{var g=r,E=l.return,R=l,D=s;if(s=xt,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var z=D,Y=R,ee=Y.tag;if((Y.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=Y.alternate;J?(Y.updateQueue=J.updateQueue,Y.memoizedState=J.memoizedState,Y.lanes=J.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var se=Gm(E);if(se!==null){se.flags&=-257,Qm(se,E,R,g,s),se.mode&1&&Km(g,z,s),s=se,D=z;var ce=s.updateQueue;if(ce===null){var he=new Set;he.add(D),s.updateQueue=he}else ce.add(D);break e}else{if((s&1)===0){Km(g,z,s),wd();break e}D=Error(t(426))}}else if(Xe&&R.mode&1){var ot=Gm(E);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Qm(ot,E,R,g,s),Dh(lo(D,R));break e}}g=D=lo(D,R),yt!==4&&(yt=2),La===null?La=[g]:La.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var j=Hm(g,D,s);_m(g,j);break e;case 1:R=D;var O=g.type,B=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(oi===null||!oi.has(B)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=Wm(g,R,s);_m(g,ne);break e}}g=g.return}while(g!==null)}Cg(l)}catch(de){s=de,ct===l&&l!==null&&(ct=l=l.return);continue}break}while(!0)}function Sg(){var r=Tu.current;return Tu.current=gu,r===null?gu:r}function wd(){(yt===0||yt===3||yt===2)&&(yt=4),Rt===null||(ts&268435455)===0&&(Iu&268435455)===0||ui(Rt,xt)}function ku(r,s){var l=Me;Me|=2;var h=Sg();(Rt!==r||xt!==s)&&(Nr=null,rs(r,s));do try{_w();break}catch(f){Ig(r,f)}while(!0);if(Lh(),Me=l,Tu.current=h,ct!==null)throw Error(t(261));return Rt=null,xt=0,yt}function _w(){for(;ct!==null;)Rg(ct)}function vw(){for(;ct!==null&&!Cl();)Rg(ct)}function Rg(r){var s=kg(r.alternate,r,hn);r.memoizedProps=r.pendingProps,s===null?Cg(r):ct=s,dd.current=null}function Cg(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=hw(l,s,hn),l!==null){ct=l;return}}else{if(l=dw(l,s),l!==null){l.flags&=32767,ct=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{yt=6,ct=null;return}}if(s=s.sibling,s!==null){ct=s;return}ct=s=r}while(s!==null);yt===0&&(yt=5)}function is(r,s,l){var h=De,f=Tn.transition;try{Tn.transition=null,De=1,Ew(r,s,l,h)}finally{Tn.transition=f,De=h}return null}function Ew(r,s,l,h){do fo();while(ai!==null);if((Me&6)!==0)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(qe(r,g),r===Rt&&(ct=Rt=null,xt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ru||(Ru=!0,Ng(mn,function(){return fo(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Tn.transition,Tn.transition=null;var E=De;De=1;var R=Me;Me|=4,dd.current=null,pw(r,l),gg(l,r),jE(wh),Jr=!!Eh,wh=Eh=null,r.current=l,mw(l),ih(),Me=R,De=E,Tn.transition=g}else r.current=l;if(Ru&&(Ru=!1,ai=r,Cu=f),g=r.pendingLanes,g===0&&(oi=null),kl(l.stateNode),en(r,We()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(Su)throw Su=!1,r=md,md=null,r;return(Cu&1)!==0&&r.tag!==0&&fo(),g=r.pendingLanes,(g&1)!==0?r===gd?ba++:(ba=0,gd=r):ba=0,ni(),null}function fo(){if(ai!==null){var r=Gr(Cu),s=Tn.transition,l=De;try{if(Tn.transition=null,De=16>r?16:r,ai===null)var h=!1;else{if(r=ai,ai=null,Cu=0,(Me&6)!==0)throw Error(t(331));var f=Me;for(Me|=4,ue=r.current;ue!==null;){var g=ue,E=g.child;if((ue.flags&16)!==0){var R=g.deletions;if(R!==null){for(var D=0;D<R.length;D++){var z=R[D];for(ue=z;ue!==null;){var Y=ue;switch(Y.tag){case 0:case 11:case 15:Da(8,Y,g)}var ee=Y.child;if(ee!==null)ee.return=Y,ue=ee;else for(;ue!==null;){Y=ue;var J=Y.sibling,se=Y.return;if(hg(Y),Y===z){ue=null;break}if(J!==null){J.return=se,ue=J;break}ue=se}}}var ce=g.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var ot=he.sibling;he.sibling=null,he=ot}while(he!==null)}}ue=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,ue=E;else e:for(;ue!==null;){if(g=ue,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Da(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,ue=j;break e}ue=g.return}}var O=r.current;for(ue=O;ue!==null;){E=ue;var B=E.child;if((E.subtreeFlags&2064)!==0&&B!==null)B.return=E,ue=B;else e:for(E=O;ue!==null;){if(R=ue,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:wu(9,R)}}catch(de){it(R,R.return,de)}if(R===E){ue=null;break e}var ne=R.sibling;if(ne!==null){ne.return=R.return,ue=ne;break e}ue=R.return}}if(Me=f,ni(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Bi,r)}catch{}h=!0}return h}finally{De=l,Tn.transition=s}}return!1}function Ag(r,s,l){s=lo(l,s),s=Hm(r,s,1),r=ii(r,s,1),s=Kt(),r!==null&&(Wr(r,1,s),en(r,s))}function it(r,s,l){if(r.tag===3)Ag(r,r,l);else for(;s!==null;){if(s.tag===3){Ag(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(oi===null||!oi.has(h))){r=lo(l,r),r=Wm(s,r,1),s=ii(s,r,1),r=Kt(),s!==null&&(Wr(s,1,r),en(s,r));break}}s=s.return}}function ww(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Kt(),r.pingedLanes|=r.suspendedLanes&l,Rt===r&&(xt&l)===l&&(yt===4||yt===3&&(xt&130023424)===xt&&500>We()-pd?rs(r,0):fd|=l),en(r,s)}function Pg(r,s){s===0&&((r.mode&1)===0?s=1:(s=bs,bs<<=1,(bs&130023424)===0&&(bs=4194304)));var l=Kt();r=Ar(r,s),r!==null&&(Wr(r,s,l),en(r,l))}function Tw(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Pg(r,l)}function Iw(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Pg(r,l)}var kg;kg=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Jt.current)Xt=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return Xt=!1,cw(r,s,l);Xt=(r.flags&131072)!==0}else Xt=!1,Xe&&(s.flags&1048576)!==0&&lm(s,iu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;vu(r,s),r=s.pendingProps;var f=eo(s,bt.current);oo(s,l),f=Hh(null,s,h,r,f,l);var g=Wh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Yt(h)?(g=!0,tu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Fh(s),f.updater=yu,s.stateNode=f,f._reactInternals=s,Xh(s,h,r,l),s=nd(null,s,h,!0,g,l)):(s.tag=0,Xe&&g&&Ph(s),Wt(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(vu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=Rw(h),r=Fn(h,r),f){case 0:s=td(null,s,h,r,l);break e;case 1:s=tg(null,s,h,r,l);break e;case 11:s=Jm(null,s,h,r,l);break e;case 14:s=Ym(null,s,h,Fn(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),td(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),tg(r,s,h,f,l);case 3:e:{if(ng(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,ym(r,s),cu(s,h,null,l);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=lo(Error(t(423)),s),s=rg(r,s,h,l,f);break e}else if(h!==f){f=lo(Error(t(424)),s),s=rg(r,s,h,l,f);break e}else for(cn=Zr(s.stateNode.containerInfo.firstChild),un=s,Xe=!0,Mn=null,l=mm(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ro(),h===f){s=kr(r,s,l);break e}Wt(r,s,h,l)}s=s.child}return s;case 5:return Em(s),r===null&&xh(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,Th(h,f)?E=null:g!==null&&Th(h,g)&&(s.flags|=32),eg(r,s),Wt(r,s,E,l),s.child;case 6:return r===null&&xh(s),null;case 13:return ig(r,s,l);case 4:return Uh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=io(s,null,h,l):Wt(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),Jm(r,s,h,f,l);case 7:return Wt(r,s,s.pendingProps,l),s.child;case 8:return Wt(r,s,s.pendingProps.children,l),s.child;case 12:return Wt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,Ke(au,h._currentValue),h._currentValue=E,g!==null)if(Vn(g.value,E)){if(g.children===f.children&&!Jt.current){s=kr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){E=g.child;for(var D=R.firstContext;D!==null;){if(D.context===h){if(g.tag===1){D=Pr(-1,l&-l),D.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?D.next=D:(D.next=Y.next,Y.next=D),z.pending=D}}g.lanes|=l,D=g.alternate,D!==null&&(D.lanes|=l),Vh(g.return,l,s),R.lanes|=l;break}D=D.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,R=E.alternate,R!==null&&(R.lanes|=l),Vh(E,l,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Wt(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,oo(s,l),f=En(f),h=h(f),s.flags|=1,Wt(r,s,h,l),s.child;case 14:return h=s.type,f=Fn(h,s.pendingProps),f=Fn(h.type,f),Ym(r,s,h,f,l);case 15:return Xm(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),vu(r,s),s.tag=1,Yt(h)?(r=!0,tu(s)):r=!1,oo(s,l),$m(s,h,f),Xh(s,h,f,l),nd(null,s,h,!0,r,l);case 19:return og(r,s,l);case 22:return Zm(r,s,l)}throw Error(t(156,s.tag))};function Ng(r,s){return Os(r,s)}function Sw(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(r,s,l,h){return new Sw(r,s,l,h)}function Td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Rw(r){if(typeof r=="function")return Td(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===dt)return 14}return 2}function ci(r,s){var l=r.alternate;return l===null?(l=In(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Nu(r,s,l,h,f,g){var E=2;if(h=r,typeof r=="function")Td(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case P:return ss(l.children,f,g,s);case S:E=8,f|=8;break;case C:return r=In(12,l,s,f|2),r.elementType=C,r.lanes=g,r;case A:return r=In(13,l,s,f),r.elementType=A,r.lanes=g,r;case Je:return r=In(19,l,s,f),r.elementType=Je,r.lanes=g,r;case Be:return xu(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:E=10;break e;case b:E=9;break e;case M:E=11;break e;case dt:E=14;break e;case wt:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=In(E,l,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function ss(r,s,l,h){return r=In(7,r,h,s),r.lanes=l,r}function xu(r,s,l,h){return r=In(22,r,h,s),r.elementType=Be,r.lanes=l,r.stateNode={isHidden:!1},r}function Id(r,s,l){return r=In(6,r,null,s),r.lanes=l,r}function Sd(r,s,l){return s=In(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Cw(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hr(0),this.expirationTimes=Hr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Rd(r,s,l,h,f,g,E,R,D){return r=new Cw(r,s,l,R,D),s===1?(s=1,g===!0&&(s|=8)):s=0,g=In(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fh(g),r}function Aw(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function xg(r){if(!r)return ti;r=r._reactInternals;e:{if(kn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Yt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Yt(l))return sm(r,l,s)}return s}function Dg(r,s,l,h,f,g,E,R,D){return r=Rd(l,h,!0,r,f,g,E,R,D),r.context=xg(null),l=r.current,h=Kt(),f=li(l),g=Pr(h,f),g.callback=s??null,ii(l,g,f),r.current.lanes=f,Wr(r,f,h),en(r,h),r}function Du(r,s,l,h){var f=s.current,g=Kt(),E=li(f);return l=xg(l),s.context===null?s.context=l:s.pendingContext=l,s=Pr(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ii(f,s,E),r!==null&&(Bn(r,f,E,g),uu(r,f,E)),E}function Ou(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Og(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Cd(r,s){Og(r,s),(r=r.alternate)&&Og(r,s)}function Pw(){return null}var Lg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ad(r){this._internalRoot=r}Lu.prototype.render=Ad.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Du(r,s,null,null)},Lu.prototype.unmount=Ad.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ns(function(){Du(null,r,null,null)}),s[Ir]=null}};function Lu(r){this._internalRoot=r}Lu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ll();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Jn.length&&s!==0&&s<Jn[l].priority;l++);Jn.splice(l,0,r),l===0&&Ml(r)}};function Pd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function bu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function bg(){}function kw(r,s,l,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var z=Ou(E);g.call(z)}}var E=Dg(s,h,r,0,null,!1,!1,"",bg);return r._reactRootContainer=E,r[Ir]=E.current,va(r.nodeType===8?r.parentNode:r),ns(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var R=h;h=function(){var z=Ou(D);R.call(z)}}var D=Rd(r,0,!1,null,null,!1,!1,"",bg);return r._reactRootContainer=D,r[Ir]=D.current,va(r.nodeType===8?r.parentNode:r),ns(function(){Du(s,D,l,h)}),D}function Vu(r,s,l,h,f){var g=l._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var R=f;f=function(){var D=Ou(E);R.call(D)}}Du(s,E,r,f)}else E=kw(l,s,r,f,h);return Ou(E)}Dl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=qr(s.pendingLanes);l!==0&&(Kr(s,l|1),en(s,We()),(Me&6)===0&&(ho=We()+500,ni()))}break;case 13:ns(function(){var h=Ar(r,1);if(h!==null){var f=Kt();Bn(h,r,1,f)}}),Cd(r,1)}},Vs=function(r){if(r.tag===13){var s=Ar(r,134217728);if(s!==null){var l=Kt();Bn(s,r,134217728,l)}Cd(r,134217728)}},Ol=function(r){if(r.tag===13){var s=li(r),l=Ar(r,s);if(l!==null){var h=Kt();Bn(l,r,s,h)}Cd(r,s)}},Ll=function(){return De},bl=function(r,s){var l=De;try{return De=r,s()}finally{De=l}},As=function(r,s,l){switch(s){case"input":if(qo(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=Zl(h);if(!f)throw Error(t(90));ws(h),qo(h,f)}}}break;case"textarea":Rs(r,l);break;case"select":s=l.value,s!=null&&mr(r,!!l.multiple,s,!1)}},Vi=vd,ea=ns;var Nw={usingClientEntryPoint:!1,Events:[Ta,Xs,Zl,Gn,Zo,vd]},Va={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xw={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ra(r),r===null?null:r.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||Pw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Bi=Mu.inject(xw),sn=Mu}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nw,tn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pd(s))throw Error(t(200));return Aw(r,s,null,l)},tn.createRoot=function(r,s){if(!Pd(r))throw Error(t(299));var l=!1,h="",f=Lg;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Rd(r,1,!1,null,null,l,!1,h,f),r[Ir]=s.current,va(r.nodeType===8?r.parentNode:r),new Ad(s)},tn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ra(s),r=r===null?null:r.stateNode,r},tn.flushSync=function(r){return ns(r)},tn.hydrate=function(r,s,l){if(!bu(s))throw Error(t(200));return Vu(null,r,s,!0,l)},tn.hydrateRoot=function(r,s,l){if(!Pd(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,g="",E=Lg;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Dg(s,null,r,1,l??null,f,!1,g,E),r[Ir]=s.current,va(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Lu(s)},tn.render=function(r,s,l){if(!bu(s))throw Error(t(200));return Vu(null,r,s,!1,l)},tn.unmountComponentAtNode=function(r){if(!bu(r))throw Error(t(40));return r._reactRootContainer?(ns(function(){Vu(null,null,r,!1,function(){r._reactRootContainer=null,r[Ir]=null})}),!0):!1},tn.unstable_batchedUpdates=vd,tn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!bu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Vu(r,s,l,!1,h)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var $g;function jw(){if($g)return xd.exports;$g=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xd.exports=Uw(),xd.exports}var qg;function Bw(){if(qg)return Fu;qg=1;var n=jw();return Fu.createRoot=n.createRoot,Fu.hydrateRoot=n.hydrateRoot,Fu}var zw=Bw(),Fa={},Hg;function $w(){if(Hg)return Fa;Hg=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.parse=c,Fa.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,L){const k=new a,V=I.length;if(V<2)return k;const x=(L==null?void 0:L.decode)||v;let q=0;do{const K=I.indexOf("=",q);if(K===-1)break;const X=I.indexOf(";",q),oe=X===-1?V:X;if(K>oe){q=I.lastIndexOf(";",K-1)+1;continue}const pe=d(I,q,K),me=p(I,K,pe),P=I.slice(pe,me);if(k[P]===void 0){let S=d(I,K+1,oe),C=p(I,oe,S);const N=x(I.slice(S,C));k[P]=N}q=oe+1}while(q<V);return k}function d(I,L,k){do{const V=I.charCodeAt(L);if(V!==32&&V!==9)return L}while(++L<k);return k}function p(I,L,k){for(;L>k;){const V=I.charCodeAt(--L);if(V!==32&&V!==9)return L+1}return k}function y(I,L,k){const V=(k==null?void 0:k.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const x=V(L);if(!e.test(x))throw new TypeError(`argument val is invalid: ${L}`);let q=I+"="+x;if(!k)return q;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);q+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);q+="; Domain="+k.domain}if(k.path){if(!i.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);q+="; Path="+k.path}if(k.expires){if(!T(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);q+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(q+="; HttpOnly"),k.secure&&(q+="; Secure"),k.partitioned&&(q+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return q}function v(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function T(I){return o.call(I)==="[object Date]"}return Fa}$w();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wg="popstate";function qw(n={}){function e(o,a){let{pathname:c="/",search:d="",hash:p=""}=ms(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Zd("",{pathname:c,search:d,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");d=y===-1?p:p.slice(0,y)}return d+"#"+(typeof a=="string"?a:Xa(a))}function i(o,a){Rn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return Ww(e,t,i,n)}function et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Rn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hw(){return Math.random().toString(36).substring(2,10)}function Kg(n,e){return{usr:n.state,key:n.key,idx:e}}function Zd(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ms(e):e,state:t,key:e&&e.key||i||Hw()}}function Xa({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ms(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Ww(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d="POP",p=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let x=v(),q=x==null?null:x-y;y=x,p&&p({action:d,location:V.location,delta:q})}function I(x,q){d="PUSH";let K=Zd(V.location,x,q);t&&t(K,x),y=v()+1;let X=Kg(K,y),oe=V.createHref(K);try{c.pushState(X,"",oe)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(oe)}a&&p&&p({action:d,location:V.location,delta:1})}function L(x,q){d="REPLACE";let K=Zd(V.location,x,q);t&&t(K,x),y=v();let X=Kg(K,y),oe=V.createHref(K);c.replaceState(X,"",oe),a&&p&&p({action:d,location:V.location,delta:0})}function k(x){let q=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof x=="string"?x:Xa(x);return K=K.replace(/ $/,"%20"),et(q,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,q)}let V={get action(){return d},get location(){return n(o,c)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Wg,T),p=x,()=>{o.removeEventListener(Wg,T),p=null}},createHref(x){return e(o,x)},createURL:k,encodeLocation(x){let q=k(x);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:I,replace:L,go(x){return c.go(x)}};return V}function P_(n,e,t="/"){return Kw(n,e,t,!1)}function Kw(n,e,t,i){let o=typeof e=="string"?ms(e):e,a=Si(o.pathname||"/",t);if(a==null)return null;let c=k_(n);Gw(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=sT(a);d=rT(c[p],y,i)}return d}function k_(n,e=[],t=[],i=""){let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(et(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=br([i,p.relativePath]),v=t.concat(p);a.children&&a.children.length>0&&(et(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),k_(a.children,e,v,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:tT(y,a.index),routesMeta:v})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of N_(a.path))o(a,c,p)}),e}function N_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=N_(i.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function Gw(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:nT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Qw=/^:[\w-]+$/,Jw=3,Yw=2,Xw=1,Zw=10,eT=-2,Gg=n=>n==="*";function tT(n,e){let t=n.split("/"),i=t.length;return t.some(Gg)&&(i+=eT),e&&(i+=Yw),t.filter(o=>!Gg(o)).reduce((o,a)=>o+(Qw.test(a)?Jw:a===""?Xw:Zw),i)}function nT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function rT(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",T=lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),I=p.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:br([a,T.pathname]),pathnameBase:uT(br([a,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(a=br([a,T.pathnameBase]))}return c}function lc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=iT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:T},I)=>{if(v==="*"){let k=d[I]||"";c=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const L=d[I];return T&&!L?y[v]=void 0:y[v]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:n}}function iT(n,e=!1,t=!0){Rn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function sT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Si(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function oT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ms(n):n;return{pathname:t?t.startsWith("/")?t:aT(t,e):e,search:cT(i),hash:hT(o)}}function aT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ld(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Of(n){let e=lT(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Lf(n,e,t,i=!1){let o;typeof n=="string"?o=ms(n):(o={...n},et(!o.pathname||!o.pathname.includes("?"),Ld("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Ld("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Ld("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}d=T>=0?e[T]:"/"}let p=oT(o,d),y=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var br=n=>n.join("/").replace(/\/\/+/g,"/"),uT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function dT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var x_=["POST","PUT","PATCH","DELETE"];new Set(x_);var fT=["GET",...x_];new Set(fT);var Do=W.createContext(null);Do.displayName="DataRouter";var kc=W.createContext(null);kc.displayName="DataRouterState";var D_=W.createContext({isTransitioning:!1});D_.displayName="ViewTransition";var pT=W.createContext(new Map);pT.displayName="Fetchers";var mT=W.createContext(null);mT.displayName="Await";var Hn=W.createContext(null);Hn.displayName="Navigation";var cl=W.createContext(null);cl.displayName="Location";var dr=W.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var bf=W.createContext(null);bf.displayName="RouteError";function gT(n,{relative:e}={}){et(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=W.useContext(Hn),{hash:o,pathname:a,search:c}=hl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:br([t,a])),i.createHref({pathname:d,search:c,hash:o})}function Oo(){return W.useContext(cl)!=null}function Ni(){return et(Oo(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(cl).location}var O_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L_(n){W.useContext(Hn).static||W.useLayoutEffect(n)}function Vf(){let{isDataRoute:n}=W.useContext(dr);return n?kT():yT()}function yT(){et(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Do),{basename:e,navigator:t}=W.useContext(Hn),{matches:i}=W.useContext(dr),{pathname:o}=Ni(),a=JSON.stringify(Of(i)),c=W.useRef(!1);return L_(()=>{c.current=!0}),W.useCallback((p,y={})=>{if(Rn(c.current,O_),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Lf(p,JSON.parse(a),o,y.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:br([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,a,o,n])}W.createContext(null);function hl(n,{relative:e}={}){let{matches:t}=W.useContext(dr),{pathname:i}=Ni(),o=JSON.stringify(Of(t));return W.useMemo(()=>Lf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function _T(n,e){return b_(n,e)}function b_(n,e,t,i){var q;et(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(Hn),{matches:a}=W.useContext(dr),c=a[a.length-1],d=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",v=c&&c.route;{let K=v&&v.path||"";V_(p,!v||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let T=Ni(),I;if(e){let K=typeof e=="string"?ms(e):e;et(y==="/"||((q=K.pathname)==null?void 0:q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${K.pathname}" was given in the \`location\` prop.`),I=K}else I=T;let L=I.pathname||"/",k=L;if(y!=="/"){let K=y.replace(/^\//,"").split("/");k="/"+L.replace(/^\//,"").split("/").slice(K.length).join("/")}let V=P_(n,{pathname:k});Rn(v||V!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Rn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=IT(V&&V.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:br([y,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:br([y,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),a,t,i);return e&&x?W.createElement(cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},x):x}function vT(){let n=PT(),e=dT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:a},"ErrorBoundary")," or"," ",W.createElement("code",{style:a},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:o},t):null,c)}var ET=W.createElement(vT,null),wT=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(dr.Provider,{value:this.props.routeContext},W.createElement(bf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TT({routeContext:n,match:e,children:t}){let i=W.useContext(Do);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(dr.Provider,{value:n},t)}function IT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:v,errors:T}=t,I=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||I){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,v)=>{let T,I=!1,L=null,k=null;t&&(T=a&&y.route.id?a[y.route.id]:void 0,L=y.route.errorElement||ET,c&&(d<0&&v===0?(V_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,k=null):d===v&&(I=!0,k=y.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,v+1)),x=()=>{let q;return T?q=L:I?q=k:y.route.Component?q=W.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,W.createElement(TT,{match:y,routeContext:{outlet:p,matches:V,isDataRoute:t!=null},children:q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?W.createElement(wT,{location:t.location,revalidation:t.revalidation,component:L,error:T,children:x(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):x()},null)}function Mf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ST(n){let e=W.useContext(Do);return et(e,Mf(n)),e}function RT(n){let e=W.useContext(kc);return et(e,Mf(n)),e}function CT(n){let e=W.useContext(dr);return et(e,Mf(n)),e}function Ff(n){let e=CT(n),t=e.matches[e.matches.length-1];return et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function AT(){return Ff("useRouteId")}function PT(){var i;let n=W.useContext(bf),e=RT("useRouteError"),t=Ff("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function kT(){let{router:n}=ST("useNavigate"),e=Ff("useNavigate"),t=W.useRef(!1);return L_(()=>{t.current=!0}),W.useCallback(async(o,a={})=>{Rn(t.current,O_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Qg={};function V_(n,e,t){!e&&!Qg[n]&&(Qg[n]=!0,Rn(!1,t))}W.memo(NT);function NT({routes:n,future:e,state:t}){return b_(n,void 0,t,e)}function M_({to:n,replace:e,state:t,relative:i}){et(Oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=W.useContext(Hn);Rn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=W.useContext(dr),{pathname:c}=Ni(),d=Vf(),p=Lf(n,Of(a),c,i==="path"),y=JSON.stringify(p);return W.useEffect(()=>{d(JSON.parse(y),{replace:e,state:t,relative:i})},[d,y,i,e,t]),null}function Ba(n){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){et(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=ms(t));let{pathname:p="/",search:y="",hash:v="",state:T=null,key:I="default"}=t,L=W.useMemo(()=>{let k=Si(p,c);return k==null?null:{location:{pathname:k,search:y,hash:v,state:T,key:I},navigationType:i}},[c,p,y,v,T,I,i]);return Rn(L!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:W.createElement(Hn.Provider,{value:d},W.createElement(cl.Provider,{children:e,value:L}))}function DT({children:n,location:e}){return _T(ef(n),e)}function ef(n,e=[]){let t=[];return W.Children.forEach(n,(i,o)=>{if(!W.isValidElement(i))return;let a=[...e,o];if(i.type===W.Fragment){t.push.apply(t,ef(i.props.children,a));return}et(i.type===Ba,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ef(i.props.children,a)),t.push(c)}),t}var Ku="get",Gu="application/x-www-form-urlencoded";function Nc(n){return n!=null&&typeof n.tagName=="string"}function OT(n){return Nc(n)&&n.tagName.toLowerCase()==="button"}function LT(n){return Nc(n)&&n.tagName.toLowerCase()==="form"}function bT(n){return Nc(n)&&n.tagName.toLowerCase()==="input"}function VT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MT(n,e){return n.button===0&&(!e||e==="_self")&&!VT(n)}var Uu=null;function FT(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var UT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bd(n){return n!=null&&!UT.has(n)?(Rn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gu}"`),null):n}function jT(n,e){let t,i,o,a,c;if(LT(n)){let d=n.getAttribute("action");i=d?Si(d,e):null,t=n.getAttribute("method")||Ku,o=bd(n.getAttribute("enctype"))||Gu,a=new FormData(n)}else if(OT(n)||bT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Si(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Ku,o=bd(n.getAttribute("formenctype"))||bd(d.getAttribute("enctype"))||Gu,a=new FormData(d,n),!FT()){let{name:y,type:v,value:T}=n;if(v==="image"){let I=y?`${y}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else y&&a.append(y,T)}}else{if(Nc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ku,i=null,o=Gu,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function Uf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function BT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $T(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await BT(a,t);return c.links?c.links():[]}return[]}));return KT(i.flat(1).filter(zT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jg(n,e,t,i,o,a){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var v;return t[y].pathname!==p.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,y)=>c(p,y)||d(p,y)):a==="data"?e.filter((p,y)=>{var T;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function qT(n,e){return HT(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function HT(n){return[...new Set(n)]}function WT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function KT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(WT(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function GT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function QT(){let n=W.useContext(Do);return Uf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function JT(){let n=W.useContext(kc);return Uf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jf=W.createContext(void 0);jf.displayName="FrameworkContext";function F_(){let n=W.useContext(jf);return Uf(n,"You must render this element inside a <HydratedRouter> element"),n}function YT(n,e){let t=W.useContext(jf),[i,o]=W.useState(!1),[a,c]=W.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:T}=e,I=W.useRef(null);W.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let V=q=>{q.forEach(K=>{c(K.isIntersecting)})},x=new IntersectionObserver(V,{threshold:.5});return I.current&&x.observe(I.current),()=>{x.disconnect()}}},[n]),W.useEffect(()=>{if(i){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[i]);let L=()=>{o(!0)},k=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:Ua(d,L),onBlur:Ua(p,k),onMouseEnter:Ua(y,L),onMouseLeave:Ua(v,k),onTouchStart:Ua(T,L)}]:[!1,I,{}]}function Ua(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function XT({page:n,...e}){let{router:t}=QT(),i=W.useMemo(()=>P_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?W.createElement(e2,{page:n,matches:i,...e}):null}function ZT(n){let{manifest:e,routeModules:t}=F_(),[i,o]=W.useState([]);return W.useEffect(()=>{let a=!1;return $T(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function e2({page:n,matches:e,...t}){let i=Ni(),{manifest:o,routeModules:a}=F_(),{loaderData:c,matches:d}=JT(),p=W.useMemo(()=>Jg(n,e,d,o,i,"data"),[n,e,d,o,i]),y=W.useMemo(()=>Jg(n,e,d,o,i,"assets"),[n,e,d,o,i]),v=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let L=new Set,k=!1;if(e.forEach(x=>{var K;let q=o.routes[x.route.id];!q||!q.hasLoader||(!p.some(X=>X.route.id===x.route.id)&&x.route.id in c&&((K=a[x.route.id])!=null&&K.shouldRevalidate)||q.hasClientLoader?k=!0:L.add(x.route.id))}),L.size===0)return[];let V=GT(n);return k&&L.size>0&&V.searchParams.set("_routes",e.filter(x=>L.has(x.route.id)).map(x=>x.route.id).join(",")),[V.pathname+V.search]},[c,i,o,p,e,n,a]),T=W.useMemo(()=>qT(y,o),[y,o]),I=ZT(y);return W.createElement(W.Fragment,null,v.map(L=>W.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),T.map(L=>W.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),I.map(({key:L,link:k})=>W.createElement("link",{key:L,...k})))}function t2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var U_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U_&&(window.__reactRouterVersion="7.1.1")}catch{}function n2({basename:n,children:e,window:t}){let i=W.useRef();i.current==null&&(i.current=qw({window:t,v5Compat:!0}));let o=i.current,[a,c]=W.useState({action:o.action,location:o.location}),d=W.useCallback(p=>{W.startTransition(()=>c(p))},[c]);return W.useLayoutEffect(()=>o.listen(d),[o,d]),W.createElement(xT,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var j_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B_=W.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:d,target:p,to:y,preventScrollReset:v,viewTransition:T,...I},L){let{basename:k}=W.useContext(Hn),V=typeof y=="string"&&j_.test(y),x,q=!1;if(typeof y=="string"&&V&&(x=y,U_))try{let C=new URL(window.location.href),N=y.startsWith("//")?new URL(C.protocol+y):new URL(y),b=Si(N.pathname,k);N.origin===C.origin&&b!=null?y=b+N.search+N.hash:q=!0}catch{Rn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=gT(y,{relative:o}),[X,oe,pe]=YT(i,I),me=s2(y,{replace:c,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:T});function P(C){e&&e(C),C.defaultPrevented||me(C)}let S=W.createElement("a",{...I,...pe,href:x||K,onClick:q||a?e:P,ref:t2(L,oe),target:p,"data-discover":!V&&t==="render"?"true":void 0});return X&&!V?W.createElement(W.Fragment,null,S,W.createElement(XT,{page:K})):S});B_.displayName="Link";var tf=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:p,...y},v){let T=hl(c,{relative:y.relative}),I=Ni(),L=W.useContext(kc),{navigator:k,basename:V}=W.useContext(Hn),x=L!=null&&c2(T)&&d===!0,q=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,K=I.pathname,X=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;t||(K=K.toLowerCase(),X=X?X.toLowerCase():null,q=q.toLowerCase()),X&&V&&(X=Si(X,V)||X);const oe=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let pe=K===q||!o&&K.startsWith(q)&&K.charAt(oe)==="/",me=X!=null&&(X===q||!o&&X.startsWith(q)&&X.charAt(q.length)==="/"),P={isActive:pe,isPending:me,isTransitioning:x},S=pe?e:void 0,C;typeof i=="function"?C=i(P):C=[i,pe?"active":null,me?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(P):a;return W.createElement(B_,{...y,"aria-current":S,className:C,ref:v,style:N,to:c,viewTransition:d},typeof p=="function"?p(P):p)});tf.displayName="NavLink";var r2=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=Ku,action:d,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:T,...I},L)=>{let k=l2(),V=u2(d,{relative:y}),x=c.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&j_.test(d),K=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let oe=X.nativeEvent.submitter,pe=(oe==null?void 0:oe.getAttribute("formmethod"))||c;k(oe||X.currentTarget,{fetcherKey:e,method:pe,navigate:t,replace:o,state:a,relative:y,preventScrollReset:v,viewTransition:T})};return W.createElement("form",{ref:L,method:x,action:V,onSubmit:i?p:K,...I,"data-discover":!q&&n==="render"?"true":void 0})});r2.displayName="Form";function i2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z_(n){let e=W.useContext(Do);return et(e,i2(n)),e}function s2(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=Vf(),p=Ni(),y=hl(n,{relative:a});return W.useCallback(v=>{if(MT(v,e)){v.preventDefault();let T=t!==void 0?t:Xa(p)===Xa(y);d(n,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,d,y,t,i,e,n,o,a,c])}var o2=0,a2=()=>`__${String(++o2)}__`;function l2(){let{router:n}=z_("useSubmit"),{basename:e}=W.useContext(Hn),t=AT();return W.useCallback(async(i,o={})=>{let{action:a,method:c,encType:d,formData:p,body:y}=jT(i,e);if(o.navigate===!1){let v=o.fetcherKey||a2();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function u2(n,{relative:e}={}){let{basename:t}=W.useContext(Hn),i=W.useContext(dr);et(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...hl(n||".",{relative:e})},c=Ni();if(n==null){a.search=c.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:br([t,a.pathname])),Xa(a)}function c2(n,e={}){let t=W.useContext(D_);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=z_("useViewTransitionState"),o=hl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Si(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Si(t.nextLocation.pathname,i)||t.nextLocation.pathname;return lc(o.pathname,c)!=null||lc(o.pathname,a)!=null}new TextEncoder;const h2="/gestionefertab/assets/FTD_logoBig-3vh6usYB.svg";function d2(){return te.jsxs("nav",{children:[te.jsx("img",{id:"navbarLogo",src:h2,alt:"Logo"}),te.jsxs("div",{id:"menu",children:[te.jsx(tf,{to:"/aggiungi-prodotto",className:({isActive:n})=>n?"active nav-link":"nav-link",children:"Aggiungi"}),te.jsx(tf,{to:"/elimina-prodotto",className:({isActive:n})=>n?"active nav-link":"nav-link",children:"Elimina"})]})]})}function $_(n,e){return function(){return n.apply(e,arguments)}}const{toString:f2}=Object.prototype,{getPrototypeOf:Bf}=Object,xc=(n=>e=>{const t=f2.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Wn=n=>(n=n.toLowerCase(),e=>xc(e)===n),Dc=n=>e=>typeof e===n,{isArray:Lo}=Array,Za=Dc("undefined");function p2(n){return n!==null&&!Za(n)&&n.constructor!==null&&!Za(n.constructor)&&fn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const q_=Wn("ArrayBuffer");function m2(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&q_(n.buffer),e}const g2=Dc("string"),fn=Dc("function"),H_=Dc("number"),Oc=n=>n!==null&&typeof n=="object",y2=n=>n===!0||n===!1,Qu=n=>{if(xc(n)!=="object")return!1;const e=Bf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},_2=Wn("Date"),v2=Wn("File"),E2=Wn("Blob"),w2=Wn("FileList"),T2=n=>Oc(n)&&fn(n.pipe),I2=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||fn(n.append)&&((e=xc(n))==="formdata"||e==="object"&&fn(n.toString)&&n.toString()==="[object FormData]"))},S2=Wn("URLSearchParams"),[R2,C2,A2,P2]=["ReadableStream","Request","Response","Headers"].map(Wn),k2=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dl(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,o;if(typeof n!="object"&&(n=[n]),Lo(n))for(i=0,o=n.length;i<o;i++)e.call(null,n[i],i,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),c=a.length;let d;for(i=0;i<c;i++)d=a[i],e.call(null,n[d],d,n)}}function W_(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,o;for(;i-- >0;)if(o=t[i],e===o.toLowerCase())return o;return null}const as=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,K_=n=>!Za(n)&&n!==as;function nf(){const{caseless:n}=K_(this)&&this||{},e={},t=(i,o)=>{const a=n&&W_(e,o)||o;Qu(e[a])&&Qu(i)?e[a]=nf(e[a],i):Qu(i)?e[a]=nf({},i):Lo(i)?e[a]=i.slice():e[a]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&dl(arguments[i],t);return e}const N2=(n,e,t,{allOwnKeys:i}={})=>(dl(e,(o,a)=>{t&&fn(o)?n[a]=$_(o,t):n[a]=o},{allOwnKeys:i}),n),x2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),D2=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},O2=(n,e,t,i)=>{let o,a,c;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)c=o[a],(!i||i(c,n,e))&&!d[c]&&(e[c]=n[c],d[c]=!0);n=t!==!1&&Bf(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},L2=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},b2=n=>{if(!n)return null;if(Lo(n))return n;let e=n.length;if(!H_(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},V2=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Bf(Uint8Array)),M2=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=i.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},F2=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},U2=Wn("HTMLFormElement"),j2=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,o){return i.toUpperCase()+o}),Yg=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),B2=Wn("RegExp"),G_=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};dl(t,(o,a)=>{let c;(c=e(o,a,n))!==!1&&(i[a]=c||o)}),Object.defineProperties(n,i)},z2=n=>{G_(n,(e,t)=>{if(fn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(fn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},$2=(n,e)=>{const t={},i=o=>{o.forEach(a=>{t[a]=!0})};return Lo(n)?i(n):i(String(n).split(e)),t},q2=()=>{},H2=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function W2(n){return!!(n&&fn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const K2=n=>{const e=new Array(10),t=(i,o)=>{if(Oc(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;const a=Lo(i)?[]:{};return dl(i,(c,d)=>{const p=t(c,o+1);!Za(p)&&(a[d]=p)}),e[o]=void 0,a}}return i};return t(n,0)},G2=Wn("AsyncFunction"),Q2=n=>n&&(Oc(n)||fn(n))&&fn(n.then)&&fn(n.catch),Q_=((n,e)=>n?setImmediate:e?((t,i)=>(as.addEventListener("message",({source:o,data:a})=>{o===as&&a===t&&i.length&&i.shift()()},!1),o=>{i.push(o),as.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",fn(as.postMessage)),J2=typeof queueMicrotask<"u"?queueMicrotask.bind(as):typeof process<"u"&&process.nextTick||Q_,H={isArray:Lo,isArrayBuffer:q_,isBuffer:p2,isFormData:I2,isArrayBufferView:m2,isString:g2,isNumber:H_,isBoolean:y2,isObject:Oc,isPlainObject:Qu,isReadableStream:R2,isRequest:C2,isResponse:A2,isHeaders:P2,isUndefined:Za,isDate:_2,isFile:v2,isBlob:E2,isRegExp:B2,isFunction:fn,isStream:T2,isURLSearchParams:S2,isTypedArray:V2,isFileList:w2,forEach:dl,merge:nf,extend:N2,trim:k2,stripBOM:x2,inherits:D2,toFlatObject:O2,kindOf:xc,kindOfTest:Wn,endsWith:L2,toArray:b2,forEachEntry:M2,matchAll:F2,isHTMLForm:U2,hasOwnProperty:Yg,hasOwnProp:Yg,reduceDescriptors:G_,freezeMethods:z2,toObjectSet:$2,toCamelCase:j2,noop:q2,toFiniteNumber:H2,findKey:W_,global:as,isContextDefined:K_,isSpecCompliantForm:W2,toJSONObject:K2,isAsyncFn:G2,isThenable:Q2,setImmediate:Q_,asap:J2};function Ce(n,e,t,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}H.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const J_=Ce.prototype,Y_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Y_[n]={value:n}});Object.defineProperties(Ce,Y_);Object.defineProperty(J_,"isAxiosError",{value:!0});Ce.from=(n,e,t,i,o,a)=>{const c=Object.create(J_);return H.toFlatObject(n,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Ce.call(c,n.message,e,t,i,o),c.cause=n,c.name=n.name,a&&Object.assign(c,a),c};const Y2=null;function rf(n){return H.isPlainObject(n)||H.isArray(n)}function X_(n){return H.endsWith(n,"[]")?n.slice(0,-2):n}function Xg(n,e,t){return n?n.concat(e).map(function(o,a){return o=X_(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function X2(n){return H.isArray(n)&&!n.some(rf)}const Z2=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Lc(n,e,t){if(!H.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=H.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(V,x){return!H.isUndefined(x[V])});const i=t.metaTokens,o=t.visitor||v,a=t.dots,c=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(o))throw new TypeError("visitor must be a function");function y(k){if(k===null)return"";if(H.isDate(k))return k.toISOString();if(!p&&H.isBlob(k))throw new Ce("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(k)||H.isTypedArray(k)?p&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function v(k,V,x){let q=k;if(k&&!x&&typeof k=="object"){if(H.endsWith(V,"{}"))V=i?V:V.slice(0,-2),k=JSON.stringify(k);else if(H.isArray(k)&&X2(k)||(H.isFileList(k)||H.endsWith(V,"[]"))&&(q=H.toArray(k)))return V=X_(V),q.forEach(function(X,oe){!(H.isUndefined(X)||X===null)&&e.append(c===!0?Xg([V],oe,a):c===null?V:V+"[]",y(X))}),!1}return rf(k)?!0:(e.append(Xg(x,V,a),y(k)),!1)}const T=[],I=Object.assign(Z2,{defaultVisitor:v,convertValue:y,isVisitable:rf});function L(k,V){if(!H.isUndefined(k)){if(T.indexOf(k)!==-1)throw Error("Circular reference detected in "+V.join("."));T.push(k),H.forEach(k,function(q,K){(!(H.isUndefined(q)||q===null)&&o.call(e,q,H.isString(K)?K.trim():K,V,I))===!0&&L(q,V?V.concat(K):[K])}),T.pop()}}if(!H.isObject(n))throw new TypeError("data must be an object");return L(n),e}function Zg(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function zf(n,e){this._pairs=[],n&&Lc(n,this,e)}const Z_=zf.prototype;Z_.append=function(e,t){this._pairs.push([e,t])};Z_.toString=function(e){const t=e?function(i){return e.call(this,i,Zg)}:Zg;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function eI(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ev(n,e,t){if(!e)return n;const i=t&&t.encode||eI;H.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(e,t):a=H.isURLSearchParams(e)?e.toString():new zf(e,t).toString(i),a){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class ey{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(i){i!==null&&e(i)})}}const tv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tI=typeof URLSearchParams<"u"?URLSearchParams:zf,nI=typeof FormData<"u"?FormData:null,rI=typeof Blob<"u"?Blob:null,iI={isBrowser:!0,classes:{URLSearchParams:tI,FormData:nI,Blob:rI},protocols:["http","https","file","blob","url","data"]},$f=typeof window<"u"&&typeof document<"u",sf=typeof navigator=="object"&&navigator||void 0,sI=$f&&(!sf||["ReactNative","NativeScript","NS"].indexOf(sf.product)<0),oI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aI=$f&&window.location.href||"http://localhost",lI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$f,hasStandardBrowserEnv:sI,hasStandardBrowserWebWorkerEnv:oI,navigator:sf,origin:aI},Symbol.toStringTag,{value:"Module"})),zt={...lI,...iI};function uI(n,e){return Lc(n,new zt.classes.URLSearchParams,Object.assign({visitor:function(t,i,o,a){return zt.isNode&&H.isBuffer(t)?(this.append(i,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function cI(n){return H.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function hI(n){const e={},t=Object.keys(n);let i;const o=t.length;let a;for(i=0;i<o;i++)a=t[i],e[a]=n[a];return e}function nv(n){function e(t,i,o,a){let c=t[a++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),p=a>=t.length;return c=!c&&H.isArray(o)?o.length:c,p?(H.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!d):((!o[c]||!H.isObject(o[c]))&&(o[c]=[]),e(t,i,o[c],a)&&H.isArray(o[c])&&(o[c]=hI(o[c])),!d)}if(H.isFormData(n)&&H.isFunction(n.entries)){const t={};return H.forEachEntry(n,(i,o)=>{e(cI(i),o,t,0)}),t}return null}function dI(n,e,t){if(H.isString(n))try{return(e||JSON.parse)(n),H.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const fl={transitional:tv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",o=i.indexOf("application/json")>-1,a=H.isObject(e);if(a&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return o?JSON.stringify(nv(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return uI(e,this.formSerializer).toString();if((d=H.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Lc(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),dI(e)):e}],transformResponse:[function(e){const t=this.transitional||fl.transitional,i=t&&t.forcedJSONParsing,o=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(i&&!this.responseType||o)){const c=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Ce.from(d,Ce.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zt.classes.FormData,Blob:zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],n=>{fl.headers[n]={}});const fI=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pI=n=>{const e={};let t,i,o;return n&&n.split(`
`).forEach(function(c){o=c.indexOf(":"),t=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!t||e[t]&&fI[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},ty=Symbol("internals");function ja(n){return n&&String(n).trim().toLowerCase()}function Ju(n){return n===!1||n==null?n:H.isArray(n)?n.map(Ju):String(n)}function mI(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const gI=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Vd(n,e,t,i,o){if(H.isFunction(i))return i.call(this,e,t);if(o&&(e=t),!!H.isString(e)){if(H.isString(i))return e.indexOf(i)!==-1;if(H.isRegExp(i))return i.test(e)}}function yI(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function _I(n,e){const t=H.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(o,a,c){return this[i].call(this,e,o,a,c)},configurable:!0})})}let rn=class{constructor(e){e&&this.set(e)}set(e,t,i){const o=this;function a(d,p,y){const v=ja(p);if(!v)throw new Error("header name must be a non-empty string");const T=H.findKey(o,v);(!T||o[T]===void 0||y===!0||y===void 0&&o[T]!==!1)&&(o[T||p]=Ju(d))}const c=(d,p)=>H.forEach(d,(y,v)=>a(y,v,p));if(H.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(H.isString(e)&&(e=e.trim())&&!gI(e))c(pI(e),t);else if(H.isHeaders(e))for(const[d,p]of e.entries())a(p,d,i);else e!=null&&a(t,e,i);return this}get(e,t){if(e=ja(e),e){const i=H.findKey(this,e);if(i){const o=this[i];if(!t)return o;if(t===!0)return mI(o);if(H.isFunction(t))return t.call(this,o,i);if(H.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ja(e),e){const i=H.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Vd(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let o=!1;function a(c){if(c=ja(c),c){const d=H.findKey(i,c);d&&(!t||Vd(i,i[d],d,t))&&(delete i[d],o=!0)}}return H.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let i=t.length,o=!1;for(;i--;){const a=t[i];(!e||Vd(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,i={};return H.forEach(this,(o,a)=>{const c=H.findKey(i,a);if(c){t[c]=Ju(o),delete t[a];return}const d=e?yI(a):String(a).trim();d!==a&&delete t[a],t[d]=Ju(o),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return H.forEach(this,(i,o)=>{i!=null&&i!==!1&&(t[o]=e&&H.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[ty]=this[ty]={accessors:{}}).accessors,o=this.prototype;function a(c){const d=ja(c);i[d]||(_I(o,c),i[d]=!0)}return H.isArray(e)?e.forEach(a):a(e),this}};rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(rn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});H.freezeMethods(rn);function Md(n,e){const t=this||fl,i=e||t,o=rn.from(i.headers);let a=i.data;return H.forEach(n,function(d){a=d.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function rv(n){return!!(n&&n.__CANCEL__)}function bo(n,e,t){Ce.call(this,n??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}H.inherits(bo,Ce,{__CANCEL__:!0});function iv(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function vI(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function EI(n,e){n=n||10;const t=new Array(n),i=new Array(n);let o=0,a=0,c;return e=e!==void 0?e:1e3,function(p){const y=Date.now(),v=i[a];c||(c=y),t[o]=p,i[o]=y;let T=a,I=0;for(;T!==o;)I+=t[T++],T=T%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),y-c<e)return;const L=v&&y-v;return L?Math.round(I*1e3/L):void 0}}function wI(n,e){let t=0,i=1e3/e,o,a;const c=(y,v=Date.now())=>{t=v,o=null,a&&(clearTimeout(a),a=null),n.apply(null,y)};return[(...y)=>{const v=Date.now(),T=v-t;T>=i?c(y,v):(o=y,a||(a=setTimeout(()=>{a=null,c(o)},i-T)))},()=>o&&c(o)]}const uc=(n,e,t=3)=>{let i=0;const o=EI(50,250);return wI(a=>{const c=a.loaded,d=a.lengthComputable?a.total:void 0,p=c-i,y=o(p),v=c<=d;i=c;const T={loaded:c,total:d,progress:d?c/d:void 0,bytes:p,rate:y||void 0,estimated:y&&d&&v?(d-c)/y:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(T)},t)},ny=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},ry=n=>(...e)=>H.asap(()=>n(...e)),TI=zt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,zt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(zt.origin),zt.navigator&&/(msie|trident)/i.test(zt.navigator.userAgent)):()=>!0,II=zt.hasStandardBrowserEnv?{write(n,e,t,i,o,a){const c=[n+"="+encodeURIComponent(e)];H.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),H.isString(i)&&c.push("path="+i),H.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SI(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function RI(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function sv(n,e,t){let i=!SI(e);return n&&(i||t==!1)?RI(n,e):e}const iy=n=>n instanceof rn?{...n}:n;function hs(n,e){e=e||{};const t={};function i(y,v,T,I){return H.isPlainObject(y)&&H.isPlainObject(v)?H.merge.call({caseless:I},y,v):H.isPlainObject(v)?H.merge({},v):H.isArray(v)?v.slice():v}function o(y,v,T,I){if(H.isUndefined(v)){if(!H.isUndefined(y))return i(void 0,y,T,I)}else return i(y,v,T,I)}function a(y,v){if(!H.isUndefined(v))return i(void 0,v)}function c(y,v){if(H.isUndefined(v)){if(!H.isUndefined(y))return i(void 0,y)}else return i(void 0,v)}function d(y,v,T){if(T in e)return i(y,v);if(T in n)return i(void 0,y)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(y,v,T)=>o(iy(y),iy(v),T,!0)};return H.forEach(Object.keys(Object.assign({},n,e)),function(v){const T=p[v]||o,I=T(n[v],e[v],v);H.isUndefined(I)&&T!==d||(t[v]=I)}),t}const ov=n=>{const e=hs({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:d}=e;e.headers=c=rn.from(c),e.url=ev(sv(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(H.isFormData(t)){if(zt.hasStandardBrowserEnv||zt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[y,...v]=p?p.split(";").map(T=>T.trim()).filter(Boolean):[];c.setContentType([y||"multipart/form-data",...v].join("; "))}}if(zt.hasStandardBrowserEnv&&(i&&H.isFunction(i)&&(i=i(e)),i||i!==!1&&TI(e.url))){const y=o&&a&&II.read(a);y&&c.set(o,y)}return e},CI=typeof XMLHttpRequest<"u",AI=CI&&function(n){return new Promise(function(t,i){const o=ov(n);let a=o.data;const c=rn.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:y}=o,v,T,I,L,k;function V(){L&&L(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function q(){if(!x)return;const X=rn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),pe={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:X,config:n,request:x};iv(function(P){t(P),V()},function(P){i(P),V()},pe),x=null}"onloadend"in x?x.onloadend=q:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(q)},x.onabort=function(){x&&(i(new Ce("Request aborted",Ce.ECONNABORTED,n,x)),x=null)},x.onerror=function(){i(new Ce("Network Error",Ce.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let oe=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const pe=o.transitional||tv;o.timeoutErrorMessage&&(oe=o.timeoutErrorMessage),i(new Ce(oe,pe.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,n,x)),x=null},a===void 0&&c.setContentType(null),"setRequestHeader"in x&&H.forEach(c.toJSON(),function(oe,pe){x.setRequestHeader(pe,oe)}),H.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),d&&d!=="json"&&(x.responseType=o.responseType),y&&([I,k]=uc(y,!0),x.addEventListener("progress",I)),p&&x.upload&&([T,L]=uc(p),x.upload.addEventListener("progress",T),x.upload.addEventListener("loadend",L)),(o.cancelToken||o.signal)&&(v=X=>{x&&(i(!X||X.type?new bo(null,n,x):X),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const K=vI(o.url);if(K&&zt.protocols.indexOf(K)===-1){i(new Ce("Unsupported protocol "+K+":",Ce.ERR_BAD_REQUEST,n));return}x.send(a||null)})},PI=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,o;const a=function(y){if(!o){o=!0,d();const v=y instanceof Error?y:this.reason;i.abort(v instanceof Ce?v:new bo(v instanceof Error?v.message:v))}};let c=e&&setTimeout(()=>{c=null,a(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const d=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(a):y.removeEventListener("abort",a)}),n=null)};n.forEach(y=>y.addEventListener("abort",a));const{signal:p}=i;return p.unsubscribe=()=>H.asap(d),p}},kI=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,o;for(;i<t;)o=i+e,yield n.slice(i,o),i=o},NI=async function*(n,e){for await(const t of xI(n))yield*kI(t,e)},xI=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},sy=(n,e,t,i)=>{const o=NI(n,e);let a=0,c,d=p=>{c||(c=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:y,value:v}=await o.next();if(y){d(),p.close();return}let T=v.byteLength;if(t){let I=a+=T;t(I)}p.enqueue(new Uint8Array(v))}catch(y){throw d(y),y}},cancel(p){return d(p),o.return()}},{highWaterMark:2})},bc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",av=bc&&typeof ReadableStream=="function",DI=bc&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),lv=(n,...e)=>{try{return!!n(...e)}catch{return!1}},OI=av&&lv(()=>{let n=!1;const e=new Request(zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),oy=64*1024,of=av&&lv(()=>H.isReadableStream(new Response("").body)),cc={stream:of&&(n=>n.body)};bc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!cc[e]&&(cc[e]=H.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,i)})})})(new Response);const LI=async n=>{if(n==null)return 0;if(H.isBlob(n))return n.size;if(H.isSpecCompliantForm(n))return(await new Request(zt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(H.isArrayBufferView(n)||H.isArrayBuffer(n))return n.byteLength;if(H.isURLSearchParams(n)&&(n=n+""),H.isString(n))return(await DI(n)).byteLength},bI=async(n,e)=>{const t=H.toFiniteNumber(n.getContentLength());return t??LI(e)},VI=bc&&(async n=>{let{url:e,method:t,data:i,signal:o,cancelToken:a,timeout:c,onDownloadProgress:d,onUploadProgress:p,responseType:y,headers:v,withCredentials:T="same-origin",fetchOptions:I}=ov(n);y=y?(y+"").toLowerCase():"text";let L=PI([o,a&&a.toAbortSignal()],c),k;const V=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let x;try{if(p&&OI&&t!=="get"&&t!=="head"&&(x=await bI(v,i))!==0){let pe=new Request(e,{method:"POST",body:i,duplex:"half"}),me;if(H.isFormData(i)&&(me=pe.headers.get("content-type"))&&v.setContentType(me),pe.body){const[P,S]=ny(x,uc(ry(p)));i=sy(pe.body,oy,P,S)}}H.isString(T)||(T=T?"include":"omit");const q="credentials"in Request.prototype;k=new Request(e,{...I,signal:L,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:i,duplex:"half",credentials:q?T:void 0});let K=await fetch(k);const X=of&&(y==="stream"||y==="response");if(of&&(d||X&&V)){const pe={};["status","statusText","headers"].forEach(C=>{pe[C]=K[C]});const me=H.toFiniteNumber(K.headers.get("content-length")),[P,S]=d&&ny(me,uc(ry(d),!0))||[];K=new Response(sy(K.body,oy,P,()=>{S&&S(),V&&V()}),pe)}y=y||"text";let oe=await cc[H.findKey(cc,y)||"text"](K,n);return!X&&V&&V(),await new Promise((pe,me)=>{iv(pe,me,{data:oe,headers:rn.from(K.headers),status:K.status,statusText:K.statusText,config:n,request:k})})}catch(q){throw V&&V(),q&&q.name==="TypeError"&&/fetch/i.test(q.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,n,k),{cause:q.cause||q}):Ce.from(q,q&&q.code,n,k)}}),af={http:Y2,xhr:AI,fetch:VI};H.forEach(af,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const ay=n=>`- ${n}`,MI=n=>H.isFunction(n)||n===null||n===!1,uv={getAdapter:n=>{n=H.isArray(n)?n:[n];const{length:e}=n;let t,i;const o={};for(let a=0;a<e;a++){t=n[a];let c;if(i=t,!MI(t)&&(i=af[(c=String(t)).toLowerCase()],i===void 0))throw new Ce(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+a]=i}if(!i){const a=Object.entries(o).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(ay).join(`
`):" "+ay(a[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:af};function Fd(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new bo(null,n)}function ly(n){return Fd(n),n.headers=rn.from(n.headers),n.data=Md.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),uv.getAdapter(n.adapter||fl.adapter)(n).then(function(i){return Fd(n),i.data=Md.call(n,n.transformResponse,i),i.headers=rn.from(i.headers),i},function(i){return rv(i)||(Fd(n),i&&i.response&&(i.response.data=Md.call(n,n.transformResponse,i.response),i.response.headers=rn.from(i.response.headers))),Promise.reject(i)})}const cv="1.8.4",Vc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Vc[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const uy={};Vc.transitional=function(e,t,i){function o(a,c){return"[Axios v"+cv+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,d)=>{if(e===!1)throw new Ce(o(c," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!uy[c]&&(uy[c]=!0,console.warn(o(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,c,d):!0}};Vc.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function FI(n,e,t){if(typeof n!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let o=i.length;for(;o-- >0;){const a=i[o],c=e[a];if(c){const d=n[a],p=d===void 0||c(d,a,n);if(p!==!0)throw new Ce("option "+a+" must be "+p,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+a,Ce.ERR_BAD_OPTION)}}const Yu={assertOptions:FI,validators:Vc},ir=Yu.validators;let us=class{constructor(e){this.defaults=e,this.interceptors={request:new ey,response:new ey}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=hs(this.defaults,t);const{transitional:i,paramsSerializer:o,headers:a}=t;i!==void 0&&Yu.assertOptions(i,{silentJSONParsing:ir.transitional(ir.boolean),forcedJSONParsing:ir.transitional(ir.boolean),clarifyTimeoutError:ir.transitional(ir.boolean)},!1),o!=null&&(H.isFunction(o)?t.paramsSerializer={serialize:o}:Yu.assertOptions(o,{encode:ir.function,serialize:ir.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yu.assertOptions(t,{baseUrl:ir.spelling("baseURL"),withXsrfToken:ir.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=a&&H.merge(a.common,a[t.method]);a&&H.forEach(["delete","get","head","post","put","patch","common"],k=>{delete a[k]}),t.headers=rn.concat(c,a);const d=[];let p=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(t)===!1||(p=p&&V.synchronous,d.unshift(V.fulfilled,V.rejected))});const y=[];this.interceptors.response.forEach(function(V){y.push(V.fulfilled,V.rejected)});let v,T=0,I;if(!p){const k=[ly.bind(this),void 0];for(k.unshift.apply(k,d),k.push.apply(k,y),I=k.length,v=Promise.resolve(t);T<I;)v=v.then(k[T++],k[T++]);return v}I=d.length;let L=t;for(T=0;T<I;){const k=d[T++],V=d[T++];try{L=k(L)}catch(x){V.call(this,x);break}}try{v=ly.call(this,L)}catch(k){return Promise.reject(k)}for(T=0,I=y.length;T<I;)v=v.then(y[T++],y[T++]);return v}getUri(e){e=hs(this.defaults,e);const t=sv(e.baseURL,e.url,e.allowAbsoluteUrls);return ev(t,e.params,e.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(e){us.prototype[e]=function(t,i){return this.request(hs(i||{},{method:e,url:t,data:(i||{}).data}))}});H.forEach(["post","put","patch"],function(e){function t(i){return function(a,c,d){return this.request(hs(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}us.prototype[e]=t(),us.prototype[e+"Form"]=t(!0)});let UI=class hv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const i=this;this.promise.then(o=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](o);i._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(d=>{i.subscribe(d),a=d}).then(o);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,d){i.reason||(i.reason=new bo(a,c,d),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new hv(function(o){e=o}),cancel:e}}};function jI(n){return function(t){return n.apply(null,t)}}function BI(n){return H.isObject(n)&&n.isAxiosError===!0}const lf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lf).forEach(([n,e])=>{lf[e]=n});function dv(n){const e=new us(n),t=$_(us.prototype.request,e);return H.extend(t,us.prototype,e,{allOwnKeys:!0}),H.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return dv(hs(n,o))},t}const lt=dv(fl);lt.Axios=us;lt.CanceledError=bo;lt.CancelToken=UI;lt.isCancel=rv;lt.VERSION=cv;lt.toFormData=Lc;lt.AxiosError=Ce;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=jI;lt.isAxiosError=BI;lt.mergeConfig=hs;lt.AxiosHeaders=rn;lt.formToJSON=n=>nv(H.isHTMLForm(n)?new FormData(n):n);lt.getAdapter=uv.getAdapter;lt.HttpStatusCode=lf;lt.default=lt;const{Axios:fN,AxiosError:pN,CanceledError:mN,isCancel:gN,CancelToken:yN,VERSION:_N,all:vN,Cancel:EN,isAxiosError:wN,spread:TN,toFormData:IN,AxiosHeaders:SN,HttpStatusCode:RN,formToJSON:CN,getAdapter:AN,mergeConfig:PN}=lt;var cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},zI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,v=a>>2,T=(a&3)<<4|d>>4;let I=(d&15)<<2|y>>6,L=y&63;p||(L=64,c||(I=64)),i.push(t[v],t[T],t[I],t[L])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||T==null)throw new $I;const I=a<<2|d>>4;if(i.push(I),y!==64){const L=d<<4&240|y>>2;if(i.push(L),T!==64){const k=y<<6&192|T;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $I extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qI=function(n){const e=fv(n);return pv.encodeByteArray(e,!0)},hc=function(n){return qI(n).replace(/\./g,"")},mv=function(n){try{return pv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=()=>HI().__FIREBASE_DEFAULTS__,KI=()=>{if(typeof process>"u"||typeof cy>"u")return;const n=cy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mv(n[1]);return e&&JSON.parse(e)},Mc=()=>{try{return WI()||KI()||GI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gv=n=>{var e,t;return(t=(e=Mc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},QI=n=>{const e=gv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},yv=()=>{var n;return(n=Mc())===null||n===void 0?void 0:n.config},_v=n=>{var e;return(e=Mc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[hc(JSON.stringify(t)),hc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function ZI(){var n;const e=(n=Mc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function n1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r1(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function i1(){return!ZI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s1(){try{return typeof indexedDB=="object"}catch{return!1}}function o1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="FirebaseError";class jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=a1,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?l1(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new jr(o,d,i)}}function l1(n,e){return n.replace(u1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const u1=/\{\$([^}]+)}/g;function c1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function dc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(hy(a)&&hy(c)){if(!dc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function hy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function za(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function $a(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function h1(n,e){const t=new d1(n,e);return t.subscribe.bind(t)}class d1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");f1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n){return n&&n._delegate?n._delegate:n}class ds{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new JI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g1(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:m1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m1(n){return n===os?void 0:n}function g1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new p1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const _1={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},v1=Ne.INFO,E1={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},w1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=E1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qf{constructor(e){this.name=e,this._logLevel=v1,this._logHandler=w1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const T1=(n,e)=>e.some(t=>n instanceof t);let dy,fy;function I1(){return dy||(dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S1(){return fy||(fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vv=new WeakMap,uf=new WeakMap,Ev=new WeakMap,jd=new WeakMap,Hf=new WeakMap;function R1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(_i(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&vv.set(t,n)}).catch(()=>{}),Hf.set(e,n),e}function C1(n){if(uf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});uf.set(n,e)}let cf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ev.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function A1(n){cf=n(cf)}function P1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Bd(this),e,...t);return Ev.set(i,e.sort?e.sort():[e]),_i(i)}:S1().includes(n)?function(...e){return n.apply(Bd(this),e),_i(vv.get(this))}:function(...e){return _i(n.apply(Bd(this),e))}}function k1(n){return typeof n=="function"?P1(n):(n instanceof IDBTransaction&&C1(n),T1(n,I1())?new Proxy(n,cf):n)}function _i(n){if(n instanceof IDBRequest)return R1(n);if(jd.has(n))return jd.get(n);const e=k1(n);return e!==n&&(jd.set(n,e),Hf.set(e,n)),e}const Bd=n=>Hf.get(n);function N1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=_i(c);return i&&c.addEventListener("upgradeneeded",p=>{i(_i(c.result),p.oldVersion,p.newVersion,_i(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const x1=["get","getKey","getAll","getAllKeys","count"],D1=["put","add","delete","clear"],zd=new Map;function py(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=D1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||x1.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return zd.set(e,a),a}A1(n=>({...n,get:(e,t,i)=>py(e,t)||n.get(e,t,i),has:(e,t)=>!!py(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(L1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function L1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hf="@firebase/app",my="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new qf("@firebase/app"),b1="@firebase/app-compat",V1="@firebase/analytics-compat",M1="@firebase/analytics",F1="@firebase/app-check-compat",U1="@firebase/app-check",j1="@firebase/auth",B1="@firebase/auth-compat",z1="@firebase/database",$1="@firebase/data-connect",q1="@firebase/database-compat",H1="@firebase/functions",W1="@firebase/functions-compat",K1="@firebase/installations",G1="@firebase/installations-compat",Q1="@firebase/messaging",J1="@firebase/messaging-compat",Y1="@firebase/performance",X1="@firebase/performance-compat",Z1="@firebase/remote-config",eS="@firebase/remote-config-compat",tS="@firebase/storage",nS="@firebase/storage-compat",rS="@firebase/firestore",iS="@firebase/vertexai",sS="@firebase/firestore-compat",oS="firebase",aS="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="[DEFAULT]",lS={[hf]:"fire-core",[b1]:"fire-core-compat",[M1]:"fire-analytics",[V1]:"fire-analytics-compat",[U1]:"fire-app-check",[F1]:"fire-app-check-compat",[j1]:"fire-auth",[B1]:"fire-auth-compat",[z1]:"fire-rtdb",[$1]:"fire-data-connect",[q1]:"fire-rtdb-compat",[H1]:"fire-fn",[W1]:"fire-fn-compat",[K1]:"fire-iid",[G1]:"fire-iid-compat",[Q1]:"fire-fcm",[J1]:"fire-fcm-compat",[Y1]:"fire-perf",[X1]:"fire-perf-compat",[Z1]:"fire-rc",[eS]:"fire-rc-compat",[tS]:"fire-gcs",[nS]:"fire-gcs-compat",[rS]:"fire-fst",[sS]:"fire-fst-compat",[iS]:"fire-vertex","fire-js":"fire-js",[oS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,uS=new Map,ff=new Map;function gy(n,e){try{n.container.addComponent(e)}catch(t){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Io(n){const e=n.name;if(ff.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;ff.set(e,n);for(const t of fc.values())gy(t,n);for(const t of uS.values())gy(t,n);return!0}function Wf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new pl("app","Firebase",cS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=aS;function wv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:df,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw vi.create("bad-app-name",{appName:String(o)});if(t||(t=yv()),!t)throw vi.create("no-options");const a=fc.get(o);if(a){if(dc(t,a.options)&&dc(i,a.config))return a;throw vi.create("duplicate-app",{appName:o})}const c=new y1(o);for(const p of ff.values())c.addComponent(p);const d=new hS(t,i,c);return fc.set(o,d),d}function Tv(n=df){const e=fc.get(n);if(!e&&n===df&&yv())return wv();if(!e)throw vi.create("no-app",{appName:n});return e}function Ei(n,e,t){var i;let o=(i=lS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(d.join(" "));return}Io(new ds(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firebase-heartbeat-database",fS=1,el="firebase-heartbeat-store";let $d=null;function Iv(){return $d||($d=N1(dS,fS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(el)}catch(t){console.warn(t)}}}}).catch(n=>{throw vi.create("idb-open",{originalErrorMessage:n.message})})),$d}async function pS(n){try{const t=(await Iv()).transaction(el),i=await t.objectStore(el).get(Sv(n));return await t.done,i}catch(e){if(e instanceof jr)Vr.warn(e.message);else{const t=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vr.warn(t.message)}}}async function yy(n,e){try{const i=(await Iv()).transaction(el,"readwrite");await i.objectStore(el).put(e,Sv(n)),await i.done}catch(t){if(t instanceof jr)Vr.warn(t.message);else{const i=vi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Vr.warn(i.message)}}}function Sv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=1024,gS=30*24*60*60*1e3;class yS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_y();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=gS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Vr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_y(),{heartbeatsToSend:i,unsentEntries:o}=_S(this._heartbeatsCache.heartbeats),a=hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Vr.warn(t),""}}}function _y(){return new Date().toISOString().substring(0,10)}function _S(n,e=mS){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),vy(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),vy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class vS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s1()?o1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return yy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return yy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function vy(n){return hc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n){Io(new ds("platform-logger",e=>new O1(e),"PRIVATE")),Io(new ds("heartbeat",e=>new yS(e),"PRIVATE")),Ei(hf,my,n),Ei(hf,my,"esm2017"),Ei("fire-js","")}ES("");var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,Rv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function C(){}C.prototype=S.prototype,P.D=S.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(N,b,M){for(var A=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)A[Je-2]=arguments[Je];return S.prototype[b].apply(N,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,S,C){C||(C=0);var N=Array(16);if(typeof S=="string")for(var b=0;16>b;++b)N[b]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(b=0;16>b;++b)N[b]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=P.g[0],C=P.g[1],b=P.g[2];var M=P.g[3],A=S+(M^C&(b^M))+N[0]+3614090360&4294967295;S=C+(A<<7&4294967295|A>>>25),A=M+(b^S&(C^b))+N[1]+3905402710&4294967295,M=S+(A<<12&4294967295|A>>>20),A=b+(C^M&(S^C))+N[2]+606105819&4294967295,b=M+(A<<17&4294967295|A>>>15),A=C+(S^b&(M^S))+N[3]+3250441966&4294967295,C=b+(A<<22&4294967295|A>>>10),A=S+(M^C&(b^M))+N[4]+4118548399&4294967295,S=C+(A<<7&4294967295|A>>>25),A=M+(b^S&(C^b))+N[5]+1200080426&4294967295,M=S+(A<<12&4294967295|A>>>20),A=b+(C^M&(S^C))+N[6]+2821735955&4294967295,b=M+(A<<17&4294967295|A>>>15),A=C+(S^b&(M^S))+N[7]+4249261313&4294967295,C=b+(A<<22&4294967295|A>>>10),A=S+(M^C&(b^M))+N[8]+1770035416&4294967295,S=C+(A<<7&4294967295|A>>>25),A=M+(b^S&(C^b))+N[9]+2336552879&4294967295,M=S+(A<<12&4294967295|A>>>20),A=b+(C^M&(S^C))+N[10]+4294925233&4294967295,b=M+(A<<17&4294967295|A>>>15),A=C+(S^b&(M^S))+N[11]+2304563134&4294967295,C=b+(A<<22&4294967295|A>>>10),A=S+(M^C&(b^M))+N[12]+1804603682&4294967295,S=C+(A<<7&4294967295|A>>>25),A=M+(b^S&(C^b))+N[13]+4254626195&4294967295,M=S+(A<<12&4294967295|A>>>20),A=b+(C^M&(S^C))+N[14]+2792965006&4294967295,b=M+(A<<17&4294967295|A>>>15),A=C+(S^b&(M^S))+N[15]+1236535329&4294967295,C=b+(A<<22&4294967295|A>>>10),A=S+(b^M&(C^b))+N[1]+4129170786&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^b&(S^C))+N[6]+3225465664&4294967295,M=S+(A<<9&4294967295|A>>>23),A=b+(S^C&(M^S))+N[11]+643717713&4294967295,b=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(b^M))+N[0]+3921069994&4294967295,C=b+(A<<20&4294967295|A>>>12),A=S+(b^M&(C^b))+N[5]+3593408605&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^b&(S^C))+N[10]+38016083&4294967295,M=S+(A<<9&4294967295|A>>>23),A=b+(S^C&(M^S))+N[15]+3634488961&4294967295,b=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(b^M))+N[4]+3889429448&4294967295,C=b+(A<<20&4294967295|A>>>12),A=S+(b^M&(C^b))+N[9]+568446438&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^b&(S^C))+N[14]+3275163606&4294967295,M=S+(A<<9&4294967295|A>>>23),A=b+(S^C&(M^S))+N[3]+4107603335&4294967295,b=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(b^M))+N[8]+1163531501&4294967295,C=b+(A<<20&4294967295|A>>>12),A=S+(b^M&(C^b))+N[13]+2850285829&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^b&(S^C))+N[2]+4243563512&4294967295,M=S+(A<<9&4294967295|A>>>23),A=b+(S^C&(M^S))+N[7]+1735328473&4294967295,b=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(b^M))+N[12]+2368359562&4294967295,C=b+(A<<20&4294967295|A>>>12),A=S+(C^b^M)+N[5]+4294588738&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^b)+N[8]+2272392833&4294967295,M=S+(A<<11&4294967295|A>>>21),A=b+(M^S^C)+N[11]+1839030562&4294967295,b=M+(A<<16&4294967295|A>>>16),A=C+(b^M^S)+N[14]+4259657740&4294967295,C=b+(A<<23&4294967295|A>>>9),A=S+(C^b^M)+N[1]+2763975236&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^b)+N[4]+1272893353&4294967295,M=S+(A<<11&4294967295|A>>>21),A=b+(M^S^C)+N[7]+4139469664&4294967295,b=M+(A<<16&4294967295|A>>>16),A=C+(b^M^S)+N[10]+3200236656&4294967295,C=b+(A<<23&4294967295|A>>>9),A=S+(C^b^M)+N[13]+681279174&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^b)+N[0]+3936430074&4294967295,M=S+(A<<11&4294967295|A>>>21),A=b+(M^S^C)+N[3]+3572445317&4294967295,b=M+(A<<16&4294967295|A>>>16),A=C+(b^M^S)+N[6]+76029189&4294967295,C=b+(A<<23&4294967295|A>>>9),A=S+(C^b^M)+N[9]+3654602809&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^b)+N[12]+3873151461&4294967295,M=S+(A<<11&4294967295|A>>>21),A=b+(M^S^C)+N[15]+530742520&4294967295,b=M+(A<<16&4294967295|A>>>16),A=C+(b^M^S)+N[2]+3299628645&4294967295,C=b+(A<<23&4294967295|A>>>9),A=S+(b^(C|~M))+N[0]+4096336452&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~b))+N[7]+1126891415&4294967295,M=S+(A<<10&4294967295|A>>>22),A=b+(S^(M|~C))+N[14]+2878612391&4294967295,b=M+(A<<15&4294967295|A>>>17),A=C+(M^(b|~S))+N[5]+4237533241&4294967295,C=b+(A<<21&4294967295|A>>>11),A=S+(b^(C|~M))+N[12]+1700485571&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~b))+N[3]+2399980690&4294967295,M=S+(A<<10&4294967295|A>>>22),A=b+(S^(M|~C))+N[10]+4293915773&4294967295,b=M+(A<<15&4294967295|A>>>17),A=C+(M^(b|~S))+N[1]+2240044497&4294967295,C=b+(A<<21&4294967295|A>>>11),A=S+(b^(C|~M))+N[8]+1873313359&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~b))+N[15]+4264355552&4294967295,M=S+(A<<10&4294967295|A>>>22),A=b+(S^(M|~C))+N[6]+2734768916&4294967295,b=M+(A<<15&4294967295|A>>>17),A=C+(M^(b|~S))+N[13]+1309151649&4294967295,C=b+(A<<21&4294967295|A>>>11),A=S+(b^(C|~M))+N[4]+4149444226&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~b))+N[11]+3174756917&4294967295,M=S+(A<<10&4294967295|A>>>22),A=b+(S^(M|~C))+N[2]+718787259&4294967295,b=M+(A<<15&4294967295|A>>>17),A=C+(M^(b|~S))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(b+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+b&4294967295,P.g[3]=P.g[3]+M&4294967295}i.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var C=S-this.blockSize,N=this.B,b=this.h,M=0;M<S;){if(b==0)for(;M<=C;)o(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<S;)if(N[b++]=P.charCodeAt(M++),b==this.blockSize){o(this,N),b=0;break}}else for(;M<S;)if(N[b++]=P[M++],b==this.blockSize){o(this,N),b=0;break}}this.h=b,this.o+=S},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var C=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=C&255,C/=256;for(this.u(P),P=Array(16),S=C=0;4>S;++S)for(var N=0;32>N;N+=8)P[C++]=this.g[S]>>>N&255;return P};function a(P,S){var C=d;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=S(P)}function c(P,S){this.h=S;for(var C=[],N=!0,b=P.length-1;0<=b;b--){var M=P[b]|0;N&&M==S||(C[b]=M,N=!1)}this.g=C}var d={};function p(P){return-128<=P&&128>P?a(P,function(S){return new c([S|0],0>S?-1:0)}):new c([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return x(y(-P));for(var S=[],C=1,N=0;P>=C;N++)S[N]=P/C|0,C*=4294967296;return new c(S,0)}function v(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return x(v(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),N=T,b=0;b<P.length;b+=8){var M=Math.min(8,P.length-b),A=parseInt(P.substring(b,b+M),S);8>M?(M=y(Math.pow(S,M)),N=N.j(M).add(y(A))):(N=N.j(C),N=N.add(y(A)))}return N}var T=p(0),I=p(1),L=p(16777216);n=c.prototype,n.m=function(){if(V(this))return-x(this).m();for(var P=0,S=1,C=0;C<this.g.length;C++){var N=this.i(C);P+=(0<=N?N:4294967296+N)*S,S*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k(this))return"0";if(V(this))return"-"+x(this).toString(P);for(var S=y(Math.pow(P,6)),C=this,N="";;){var b=oe(C,S).g;C=q(C,b.j(S));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=b,k(C))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function k(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function V(P){return P.h==-1}n.l=function(P){return P=q(this,P),V(P)?-1:k(P)?0:1};function x(P){for(var S=P.g.length,C=[],N=0;N<S;N++)C[N]=~P.g[N];return new c(C,~P.h).add(I)}n.abs=function(){return V(this)?x(this):this},n.add=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],N=0,b=0;b<=S;b++){var M=N+(this.i(b)&65535)+(P.i(b)&65535),A=(M>>>16)+(this.i(b)>>>16)+(P.i(b)>>>16);N=A>>>16,M&=65535,A&=65535,C[b]=A<<16|M}return new c(C,C[C.length-1]&-2147483648?-1:0)};function q(P,S){return P.add(x(S))}n.j=function(P){if(k(this)||k(P))return T;if(V(this))return V(P)?x(this).j(x(P)):x(x(this).j(P));if(V(P))return x(this.j(x(P)));if(0>this.l(L)&&0>P.l(L))return y(this.m()*P.m());for(var S=this.g.length+P.g.length,C=[],N=0;N<2*S;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var b=0;b<P.g.length;b++){var M=this.i(N)>>>16,A=this.i(N)&65535,Je=P.i(b)>>>16,dt=P.i(b)&65535;C[2*N+2*b]+=A*dt,K(C,2*N+2*b),C[2*N+2*b+1]+=M*dt,K(C,2*N+2*b+1),C[2*N+2*b+1]+=A*Je,K(C,2*N+2*b+1),C[2*N+2*b+2]+=M*Je,K(C,2*N+2*b+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new c(C,0)};function K(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function X(P,S){this.g=P,this.h=S}function oe(P,S){if(k(S))throw Error("division by zero");if(k(P))return new X(T,T);if(V(P))return S=oe(x(P),S),new X(x(S.g),x(S.h));if(V(S))return S=oe(P,x(S)),new X(x(S.g),S.h);if(30<P.g.length){if(V(P)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var C=I,N=S;0>=N.l(P);)C=pe(C),N=pe(N);var b=me(C,1),M=me(N,1);for(N=me(N,2),C=me(C,2);!k(N);){var A=M.add(N);0>=A.l(P)&&(b=b.add(C),M=A),N=me(N,1),C=me(C,1)}return S=q(P,b.j(S)),new X(b,S)}for(b=T;0<=P.l(S);){for(C=Math.max(1,Math.floor(P.m()/S.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=y(C),A=M.j(S);V(A)||0<A.l(P);)C-=N,M=y(C),A=M.j(S);k(M)&&(M=I),b=b.add(M),P=q(P,A)}return new X(b,P)}n.A=function(P){return oe(this,P).h},n.and=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)&P.i(N);return new c(C,this.h&P.h)},n.or=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)|P.i(N);return new c(C,this.h|P.h)},n.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)^P.i(N);return new c(C,this.h^P.h)};function pe(P){for(var S=P.g.length+1,C=[],N=0;N<S;N++)C[N]=P.i(N)<<1|P.i(N-1)>>>31;return new c(C,P.h)}function me(P,S){var C=S>>5;S%=32;for(var N=P.g.length-C,b=[],M=0;M<N;M++)b[M]=0<S?P.i(M+C)>>>S|P.i(M+C+1)<<32-S:P.i(M+C);return new c(b,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Rv=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,cs=c}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cv,qa,Av,Xu,pf,Pv,kv,Nv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var U=u[w];if(!(U in _))break e;_=_[U]}u=u[u.length-1],w=_[u],m=m(w),m!=w&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var _=0,w=!1,U={next:function(){if(!w&&_<u.length){var $=_++;return{value:m($,u[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function T(u,m,_){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,w),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function I(u,m,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,I.apply(null,arguments)}function L(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function k(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(w,U,$){for(var re=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)re[$e-2]=arguments[$e];return m.prototype[U].apply(w,re)}}function V(u){const m=u.length;if(0<m){const _=Array(m);for(let w=0;w<m;w++)_[w]=u[w];return _}return[]}function x(u,m){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const U=u.length||0,$=w.length||0;u.length=U+$;for(let re=0;re<$;re++)u[U+re]=w[re]}else u.push(w)}}class q{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function oe(u){return oe[" "](u),u}oe[" "]=function(){};var pe=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function me(u,m,_){for(const w in u)m.call(_,u[w],w,u)}function P(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(_ in w)u[_]=w[_];for(let $=0;$<C.length;$++)_=C[$],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function b(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function M(u){d.setTimeout(()=>{throw u},0)}function A(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Je{constructor(){this.h=this.g=null}add(m,_){const w=dt.get();w.set(m,_),this.h?this.h.next=w:this.g=w,this.h=w}}var dt=new q(()=>new wt,u=>u.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,ie=!1,ye=new Je,ae=()=>{const u=d.Promise.resolve(void 0);Be=()=>{u.then(F)}};var F=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(_){M(_)}var m=dt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u}();function Pe(u,m){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pe){e:{try{oe(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}k(Pe,fe);var Le={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),je=0;function He(u,m,_,w,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!w,this.ha=U,this.key=++je,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fr(u){this.src=u,this.g={},this.h=0}fr.prototype.add=function(u,m,_,w,U){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var re=Br(u,m,w,U);return-1<re?(m=u[re],_||(m.fa=!1)):(m=new He(m,this.src,$,!!w,U),m.fa=_,u.push(m)),m};function ws(u,m){var _=m.type;if(_ in u.g){var w=u.g[_],U=Array.prototype.indexOf.call(w,m,void 0),$;($=0<=U)&&Array.prototype.splice.call(w,U,1),$&&(Tt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Br(u,m,_,w){for(var U=0;U<u.length;++U){var $=u[U];if(!$.da&&$.listener==m&&$.capture==!!_&&$.ha==w)return U}return-1}var Di="closure_lm_"+(1e6*Math.random()|0),Ts={};function $o(u,m,_,w,U){if(Array.isArray(m)){for(var $=0;$<m.length;$++)$o(u,m[$],_,w,U);return null}return _=Wo(_),u&&u[Ue]?u.K(m,_,y(w)?!!w.capture:!1,U):qo(u,m,_,!1,w,U)}function qo(u,m,_,w,U,$){if(!m)throw Error("Invalid event type");var re=y(U)?!!U.capture:!!U,$e=Ss(u);if($e||(u[Di]=$e=new fr(u)),_=$e.add(m,_,w,re,$),_.proxy)return _;if(w=Il(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)Ae||(U=re),U===void 0&&(U=!1),u.addEventListener(m.toString(),w,U);else if(u.attachEvent)u.attachEvent(mr(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Il(){function u(_){return m.call(u.src,u.listener,_)}const m=Ho;return u}function Is(u,m,_,w,U){if(Array.isArray(m))for(var $=0;$<m.length;$++)Is(u,m[$],_,w,U);else w=y(w)?!!w.capture:!!w,_=Wo(_),u&&u[Ue]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],_=Br($,_,w,U),-1<_&&(Tt($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Br(m,_,w,U)),(_=-1<u?m[u]:null)&&pr(_))}function pr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ue])ws(m.i,u);else{var _=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(_,w,u.capture):m.detachEvent?m.detachEvent(mr(_),w):m.addListener&&m.removeListener&&m.removeListener(w),(_=Ss(m))?(ws(_,u),_.h==0&&(_.src=null,m[Di]=null)):Tt(u)}}}function mr(u){return u in Ts?Ts[u]:Ts[u]="on"+u}function Ho(u,m){if(u.da)u=!0;else{m=new Pe(m,this);var _=u.listener,w=u.ha||u.src;u.fa&&pr(u),u=_.call(w,m)}return u}function Ss(u){return u=u[Di],u instanceof fr?u:null}var Rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wo(u){return typeof u=="function"?u:(u[Rs]||(u[Rs]=function(m){return u.handleEvent(m)}),u[Rs])}function ft(){Q.call(this),this.i=new fr(this),this.M=this,this.F=null}k(ft,Q),ft.prototype[Ue]=!0,ft.prototype.removeEventListener=function(u,m,_,w){Is(this,u,m,_,w)};function pt(u,m){var _,w=u.F;if(w)for(_=[];w;w=w.F)_.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new fe(m,u);else if(m instanceof fe)m.target=m.target||u;else{var U=m;m=new fe(w,u),N(m,U)}if(U=!0,_)for(var $=_.length-1;0<=$;$--){var re=m.g=_[$];U=gr(re,w,!0,m)&&U}if(re=m.g=u,U=gr(re,w,!0,m)&&U,U=gr(re,w,!1,m)&&U,_)for($=0;$<_.length;$++)re=m.g=_[$],U=gr(re,w,!1,m)&&U}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],w=0;w<_.length;w++)Tt(_[w]);delete u.g[m],u.h--}}this.F=null},ft.prototype.K=function(u,m,_,w){return this.i.add(String(u),m,!1,_,w)},ft.prototype.L=function(u,m,_,w){return this.i.add(String(u),m,!0,_,w)};function gr(u,m,_,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,$=0;$<m.length;++$){var re=m[$];if(re&&!re.da&&re.capture==_){var $e=re.listener,mt=re.ha||re.src;re.fa&&ws(u.i,re),U=$e.call(mt,w)!==!1&&U}}return U&&!w.defaultPrevented}function Ko(u,m,_){if(typeof u=="function")_&&(u=I(u,_));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function zr(u){u.g=Ko(()=>{u.g=null,u.i&&(u.i=!1,zr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Oi extends Q{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(u){Q.call(this),this.h=u,this.g={}}k(Li,Q);var Go=[];function Qo(u){me(u.g,function(m,_){this.g.hasOwnProperty(_)&&pr(m)},u),u.g={}}Li.prototype.N=function(){Li.aa.N.call(this),Qo(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jo=d.JSON.stringify,Yo=d.JSON.parse,Xo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function bi(){}bi.prototype.h=null;function Cs(u){return u.h||(u.h=u.i())}function As(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){fe.call(this,"d")}k(Kn,fe);function Ps(){fe.call(this,"c")}k(Ps,fe);var Gn={},Zo=null;function Vi(){return Zo=Zo||new ft}Gn.La="serverreachability";function ea(u){fe.call(this,Gn.La,u)}k(ea,fe);function yr(u){const m=Vi();pt(m,new ea(m))}Gn.STAT_EVENT="statevent";function ta(u,m){fe.call(this,Gn.STAT_EVENT,u),this.stat=m}k(ta,fe);function st(u){const m=Vi();pt(m,new ta(m,u))}Gn.Ma="timingevent";function ks(u,m){fe.call(this,Gn.Ma,u),this.size=m}k(ks,fe);function An(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Mi(){this.g=!0}Mi.prototype.xa=function(){this.g=!1};function Fi(u,m,_,w,U,$){u.info(function(){if(u.g)if($)for(var re="",$e=$.split("&"),mt=0;mt<$e.length;mt++){var be=$e[mt].split("=");if(1<be.length){var It=be[0];be=be[1];var ut=It.split("_");re=2<=ut.length&&ut[1]=="type"?re+(It+"="+be+"&"):re+(It+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+m+`
`+_+`
`+re})}function Ns(u,m,_,w,U,$,re){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+m+`
`+_+`
`+$+" "+re})}function Pn(u,m,_,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+rh(u,_)+(w?" "+w:"")})}function na(u,m){u.info(function(){return"TIMEOUT: "+m})}Mi.prototype.info=function(){};function rh(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var w=_[u];if(!(2>w.length)){var U=w[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return Jo(_)}catch{return m}}var xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Ui(){}k(Ui,bi),Ui.prototype.g=function(){return new XMLHttpRequest},Ui.prototype.i=function(){return{}},kn=new Ui;function Nn(u,m,_,w){this.j=u,this.i=m,this.l=_,this.R=w||1,this.U=new Li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rl}function Rl(){this.i=null,this.g="",this.h=!1}var ra={},Ds={};function Os(u,m,_){u.L=1,u.v=Kr(on(m)),u.m=_,u.P=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),We(u),u.A=on(u.v);var _=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Qr(_.i,"t",w),u.C=0,_=u.j.J,u.h=new Rl,u.g=$l(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Oi(I(u.Y,u,u.g),u.O)),m=u.U,_=u.g,w=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Go[0]=U.toString()),U=Go);for(var $=0;$<U.length;$++){var re=$o(_,U[$],w||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),yr(),Fi(u.i,u.u,u.A,u.l,u.R,u.m)}Nn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Qt(u)==3?m.j():this.Y(u)},Nn.prototype.Y=function(u){try{if(u==this.g)e:{const ut=Qt(this.g);var m=this.g.Ba();const yn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||ca(this.g)))){this.J||ut!=4||m==7||(m==8||0>=yn?yr(3):yr(2)),ji(this);var _=this.g.Z();this.X=_;t:if(Cl(this)){var w=ca(this.g);u="";var U=w.length,$=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),$r(this);var re="";break t}this.h.i=new d.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(w[m],{stream:!($&&m==U-1)});w.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Ns(this.i,this.u,this.A,this.l,this.R,ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,mt=this.g;if(($e=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K($e)){var be=$e;break t}}be=null}if(_=be)Pn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sa(this,_);else{this.o=!1,this.s=3,st(12),mn(this),$r(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<re.length;)if(ln=ih(this,re),ln==Ds){ut==4&&(this.s=4,st(14),_=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==ra){this.s=4,st(15),Pn(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Pn(this.i,this.l,ln,null),sa(this,ln);if(Cl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||re.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)Pn(this.i,this.l,re,"[Invalid Chunked Response]"),mn(this),$r(this);else if(0<re.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),da(It),It.M=!0,st(11))}}else Pn(this.i,this.l,re,null),sa(this,re);ut==4&&mn(this),this.o&&!this.J&&(ut==4?qs(this.j,this):(this.o=!1,We(this)))}else Us(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),mn(this),$r(this)}}}catch{}finally{}};function Cl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ih(u,m){var _=u.C,w=m.indexOf(`
`,_);return w==-1?Ds:(_=Number(m.substring(_,w)),isNaN(_)?ra:(w+=1,w+_>m.length?Ds:(m=m.slice(w,w+_),u.C=w+_,m)))}Nn.prototype.cancel=function(){this.J=!0,mn(this)};function We(u){u.S=Date.now()+u.I,Al(u,u.I)}function Al(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=An(I(u.ba,u),m)}function ji(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Nn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(na(this.i,this.A),this.L!=2&&(yr(),st(17)),mn(this),this.s=2,$r(this)):Al(this,this.S-u)};function $r(u){u.j.G==0||u.J||qs(u.j,u)}function mn(u){ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Qo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function sa(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||qt(_.h,u))){if(!u.K&&qt(_.h,u)&&_.G==3){try{var w=_.Da.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)$s(_),bn(_);else break e;zs(_),st(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=An(I(_.Za,_),6e3));if(1>=kl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Tr(_,11)}else if((u.K||_.g==u)&&$s(_),!K(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let be=U[m];if(_.T=be[0],be=be[1],_.G==2)if(be[0]=="c"){_.K=be[1],_.ia=be[2];const It=be[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const ut=be[4];ut!=null&&(_.Aa=ut,_.j.info("SVER="+_.Aa));const yn=be[5];yn!=null&&typeof yn=="number"&&0<yn&&(w=1.5*yn,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const ln=u.g;if(ln){const Ki=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ki){var $=w.h;$.g||Ki.indexOf("spdy")==-1&&Ki.indexOf("quic")==-1&&Ki.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(oa($,$.h),$.h=null))}if(w.D){const Ws=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Ws&&(w.ya=Ws,qe(w.I,w.D,Ws))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var re=u;if(w.qa=zl(w,w.J?w.ia:null,w.W),re.K){Nl(w.h,re);var $e=re,mt=w.L;mt&&($e.I=mt),$e.B&&(ji($e),We($e)),w.g=re}else Wi(w);0<_.i.length&&Xn(_)}else be[0]!="stop"&&be[0]!="close"||Tr(_,7);else _.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Tr(_,7):kt(_):be[0]!="noop"&&_.l&&_.l.ta(be),_.v=0)}}yr(4)}catch{}}var Pl=class{constructor(u,m){this.g=u,this.map=m}};function Bi(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function kl(u){return u.h?1:u.g?u.g.size:0}function qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function oa(u,m){u.g?u.g.add(m):u.h=m}function Nl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Bi.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return V(u.i)}function Ls(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,w=0;w<_;w++)m.push(u[w]);return m}m=[],_=0;for(w in u)m[_++]=u[w];return m}function bs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const w in u)m[_++]=w;return m}}}function qr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=bs(u),w=Ls(u),U=w.length,$=0;$<U;$++)m.call(void 0,w[$],_&&_[$],u)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var w=u[_].indexOf("="),U=null;if(0<=w){var $=u[_].substring(0,w);U=u[_].substring(w+1)}else $=u[_];m($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function _r(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _r){this.h=u.h,$i(this,u.j),this.o=u.o,this.g=u.g,Hr(this,u.s),this.l=u.l;var m=u.i,_=new Qn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Wr(this,_),this.m=u.m}else u&&(m=String(u).match(zi))?(this.h=!1,$i(this,m[1]||"",!0),this.o=De(m[2]||""),this.g=De(m[3]||"",!0),Hr(this,m[4]),this.l=De(m[5]||"",!0),Wr(this,m[6]||"",!0),this.m=De(m[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}_r.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Gr(m,Vs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Gr(m,Vs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Gr(_,_.charAt(0)=="/"?Ll:Ol,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Gr(_,aa)),u.join("")};function on(u){return new _r(u)}function $i(u,m,_){u.j=_?De(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Wr(u,m,_){m instanceof Qn?(u.i=m,Jn(u.i,u.h)):(_||(m=Gr(m,bl)),u.i=new Qn(m,u.h))}function qe(u,m,_){u.i.set(m,_)}function Kr(u){return qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function De(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Dl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vs=/[#\/\?@]/g,Ol=/[#\?:]/g,Ll=/[#\?]/g,bl=/[#\?@]/g,aa=/#/g;function Qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Pt(u){u.g||(u.g=new Map,u.h=0,u.i&&sh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=Qn.prototype,n.add=function(u,m){Pt(this),this.i=null,u=gn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function xn(u,m){Pt(u),m=gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Dn(u,m){return Pt(u),m=gn(u,m),u.g.has(m)}n.forEach=function(u,m){Pt(this),this.g.forEach(function(_,w){_.forEach(function(U){u.call(m,U,w,this)},this)},this)},n.na=function(){Pt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let w=0;w<m.length;w++){const U=u[w];for(let $=0;$<U.length;$++)_.push(m[w])}return _},n.V=function(u){Pt(this);let m=[];if(typeof u=="string")Dn(this,u)&&(m=m.concat(this.g.get(gn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return Pt(this),this.i=null,u=gn(this,u),Dn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Qr(u,m,_){xn(u,m),0<_.length&&(u.i=null,u.g.set(gn(u,m),V(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var w=m[_];const $=encodeURIComponent(String(w)),re=this.V(w);for(w=0;w<re.length;w++){var U=$;re[w]!==""&&(U+="="+encodeURIComponent(String(re[w]))),u.push(U)}}return this.i=u.join("&")};function gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Jn(u,m){m&&!u.j&&(Pt(u),u.i=null,u.g.forEach(function(_,w){var U=w.toLowerCase();w!=U&&(xn(this,w),Qr(this,U,_))},u)),u.j=m}function oh(u,m){const _=new Mi;if(d.Image){const w=new Image;w.onload=L(Gt,_,"TestLoadImage: loaded",!0,m,w),w.onerror=L(Gt,_,"TestLoadImage: error",!1,m,w),w.onabort=L(Gt,_,"TestLoadImage: abort",!1,m,w),w.ontimeout=L(Gt,_,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function Vl(u,m){const _=new Mi,w=new AbortController,U=setTimeout(()=>{w.abort(),Gt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then($=>{clearTimeout(U),$.ok?Gt(_,"TestPingServer: ok",!0,m):Gt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Gt(_,"TestPingServer: error",!1,m)})}function Gt(u,m,_,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(_)}catch{}}function ah(){this.g=new Xo}function Ml(u,m,_){const w=_||"";try{qr(u,function(U,$){let re=U;y(U)&&(re=Jo(U)),m.push(w+$+"="+encodeURIComponent(re))})}catch(U){throw m.push(w+"type="+encodeURIComponent("_badmap")),U}}function vr(u){this.l=u.Ub||null,this.j=u.eb||!1}k(vr,bi),vr.prototype.g=function(){return new qi(this.l,this.j)},vr.prototype.i=function(u){return function(){return u}}({});function qi(u,m){ft.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(qi,ft),n=qi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ln(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,On(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?On(this):Ln(this),this.readyState==3&&Fl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,On(this))},n.Qa=function(u){this.g&&(this.response=u,On(this))},n.ga=function(){this.g&&On(this)};function On(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ln(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Ln(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Er(u){let m="";return me(u,function(_,w){m+=w,m+=":",m+=_,m+=`\r
`}),m}function Jr(u,m,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Er(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):qe(u,m,_))}function Ye(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ye,ft);var lh=/^https?$/i,la=["POST","PUT"];n=Ye.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?Cs(this.o):Cs(kn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){Hi(this,$);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)_.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())_.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(la,m,void 0))||w||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of _)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fs(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Hi(this,$)}};function Hi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ms(u),an(u)}function Ms(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),an(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},n.bb=function(){ua(this)};function ua(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Qt(u)!=4||u.Z()!=2)){if(u.u&&Qt(u)==4)Ko(u.Ea,0,u);else if(pt(u,"readystatechange"),Qt(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var w;if(w=re===0){var U=String(u.D).match(zi)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),w=!lh.test(U?U.toLowerCase():"")}_=w}if(_)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var $=2<Qt(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Ms(u)}}finally{an(u)}}}}function an(u,m){if(u.g){Fs(u);const _=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||pt(u,"ready");try{_.onreadystatechange=w}catch{}}}function Fs(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Qt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Yo(m)}};function ca(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Us(u){const m={};u=(u.g&&2<=Qt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(K(u[w]))continue;var _=b(u[w]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=m[U]||[];m[U]=$,$.push(_)}P(m,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ha(u){this.Aa=0,this.i=[],this.j=new Mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yn("baseRetryDelayMs",5e3,u),this.cb=Yn("retryDelaySeedMs",1e4,u),this.Wa=Yn("forwardChannelMaxRetries",2,u),this.wa=Yn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(u&&u.concurrentRequestLimit),this.Da=new ah,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ha.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,w){st(0),this.W=u,this.H=m||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=zl(this,null,this.W),Xn(this)};function kt(u){if(js(u),u.G==3){var m=u.U++,_=on(u.I);if(qe(_,"SID",u.K),qe(_,"RID",m),qe(_,"TYPE","terminate"),wr(u,_),m=new Nn(u,u.j,m),m.L=2,m.v=Kr(on(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.v,_=!0),_||(m.g=$l(m.j,null),m.g.ea(m.v)),m.F=Date.now(),We(m)}Bl(u)}function bn(u){u.g&&(da(u),u.g.cancel(),u.g=null)}function js(u){bn(u),u.u&&(d.clearTimeout(u.u),u.u=null),$s(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Xn(u){if(!sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Be||ae(),ie||(Be(),ie=!0),ye.add(m,u),u.B=0}}function uh(u,m){return kl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=An(I(u.Ga,u,m),jl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Nn(this,this.j,u);let $=this.o;if(this.S&&($?($=S($),N($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Yr(this,U,m),_=on(this.I),qe(_,"RID",u),qe(_,"CVER",22),this.D&&qe(_,"X-HTTP-Session-Id",this.D),wr(this,_),$&&(this.O?m="headers="+encodeURIComponent(String(Er($)))+"&"+m:this.m&&Jr(_,this.m,$)),oa(this.h,U),this.Ua&&qe(_,"TYPE","init"),this.P?(qe(_,"$req",m),qe(_,"SID","null"),U.T=!0,Os(U,_,null)):Os(U,_,m),this.G=2}}else this.G==3&&(u?Bs(this,u):this.i.length==0||sn(this.h)||Bs(this))};function Bs(u,m){var _;m?_=m.l:_=u.U++;const w=on(u.I);qe(w,"SID",u.K),qe(w,"RID",_),qe(w,"AID",u.T),wr(u,w),u.m&&u.o&&Jr(w,u.m,u.o),_=new Nn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Yr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),oa(u.h,_),Os(_,w,m)}function wr(u,m){u.H&&me(u.H,function(_,w){qe(m,w,_)}),u.l&&qr({},function(_,w){qe(m,w,_)})}function Yr(u,m,_){_=Math.min(u.i.length,_);var w=u.l?I(u.l.Na,u.l,u):null;e:{var U=u.i;let $=-1;for(;;){const re=["count="+_];$==-1?0<_?($=U[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let $e=!0;for(let mt=0;mt<_;mt++){let be=U[mt].g;const It=U[mt].map;if(be-=$,0>be)$=Math.max(0,U[mt].g-100),$e=!1;else try{Ml(It,re,"req"+be+"_")}catch{w&&w(It)}}if($e){w=re.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,w}function Wi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Be||ae(),ie||(Be(),ie=!0),ye.add(m,u),u.v=0}}function zs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=An(I(u.Fa,u),jl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ul(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=An(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),bn(this),Ul(this))};function da(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Ul(u){u.g=new Nn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);qe(m,"RID","rpc"),qe(m,"SID",u.K),qe(m,"AID",u.T),qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&qe(m,"TO",u.ja),qe(m,"TYPE","xmlhttp"),wr(u,m),u.m&&u.o&&Jr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Kr(on(m)),_.m=null,_.P=!0,ia(_,u)}n.Za=function(){this.C!=null&&(this.C=null,bn(this),zs(this),st(19))};function $s(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function qs(u,m){var _=null;if(u.g==m){$s(u),da(u),u.g=null;var w=2}else if(qt(u.h,m))_=m.D,Nl(u.h,m),w=1;else return;if(u.G!=0){if(m.o)if(w==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;w=Vi(),pt(w,new ks(w,_)),Xn(u)}else Wi(u);else if(U=m.s,U==3||U==0&&0<m.X||!(w==1&&uh(u,m)||w==2&&zs(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Tr(u,5);break;case 4:Tr(u,10);break;case 3:Tr(u,6);break;default:Tr(u,2)}}}function jl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Tr(u,m){if(u.j.info("Error code "+m),m==2){var _=I(u.fb,u),w=u.Xa;const U=!w;w=new _r(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$i(w,"https"),Kr(w),U?oh(w.toString(),_):Vl(w.toString(),_)}else st(2);u.G=0,u.l&&u.l.sa(m),Bl(u),js(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Bl(u){if(u.G=0,u.ka=[],u.l){const m=xl(u.h);(m.length!=0||u.i.length!=0)&&(x(u.ka,m),x(u.ka,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.ra()}}function zl(u,m,_){var w=_ instanceof _r?on(_):new _r(_);if(w.g!="")m&&(w.g=m+"."+w.g),Hr(w,w.s);else{var U=d.location;w=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var $=new _r(null);w&&$i($,w),m&&($.g=m),U&&Hr($,U),_&&($.l=_),w=$}return _=u.D,m=u.ya,_&&m&&qe(w,_,m),qe(w,"VER",u.la),wr(u,w),w}function $l(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ye(new vr({eb:_})):new Ye(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fa(){}n=fa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new Ht(u,m)};function Ht(u,m){ft.call(this),this.g=new ha(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!K(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}k(Ht,ft),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){kt(this.g)},Ht.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Jo(u),u=_);m.i.push(new Pl(m.Ya++,u)),m.G==3&&Xn(m)},Ht.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Ht.aa.N.call(this)};function ql(u){Kn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}k(ql,Kn);function Hl(){Ps.call(this),this.status=1}k(Hl,Ps);function Zn(u){this.g=u}k(Zn,fa),Zn.prototype.ua=function(){pt(this.g,"a")},Zn.prototype.ta=function(u){pt(this.g,new ql(u))},Zn.prototype.sa=function(u){pt(this.g,new Hl)},Zn.prototype.ra=function(){pt(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,Nv=function(){return new Hs},kv=function(){return Vi()},Pv=Gn,pf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,Xu=xs,Sl.COMPLETE="complete",Av=Sl,As.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,qa=As,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Cv=Ye}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const wy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new qf("@firebase/firestore");function po(){return fs.logLevel}function le(n,...e){if(fs.logLevel<=Ne.DEBUG){const t=e.map(Kf);fs.debug(`Firestore (${Mo}): ${n}`,...t)}}function Mr(n,...e){if(fs.logLevel<=Ne.ERROR){const t=e.map(Kf);fs.error(`Firestore (${Mo}): ${n}`,...t)}}function So(n,...e){if(fs.logLevel<=Ne.WARN){const t=e.map(Kf);fs.warn(`Firestore (${Mo}): ${n}`,...t)}}function Kf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n="Unexpected state"){const e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+n;throw Mr(e),new Error(e)}function ze(n,e){n||Ie()}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class TS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IS{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new wi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string"),new xv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new jt(e)}}class SS{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class RS{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new SS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ze(this.o===void 0);const i=a=>{a.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string"),this.R=t.token,new CS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=PS(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Oe(n,e){return n<e?-1:n>e?1:0}function Ro(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new vt(0,0))}static max(){return new Se(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ie(),i===void 0?i=e.length-t:i>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return tl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ze extends tl{construct(e,t,i){return new Ze(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const kS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends tl{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return kS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new ge(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Ze.fromString(e))}static fromName(e){return new Ee(Ze.fromString(e).popFirst(5))}static empty(){return new Ee(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Ze(e.slice()))}}function NS(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new vt(t+1,0):new vt(t,i));return new Ri(o,Ee.empty(),e)}function xS(n){return new Ri(n.readTime,n.key,-1)}class Ri{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ri(Se.min(),Ee.empty(),-1)}static max(){return new Ri(Se.max(),Ee.empty(),-1)}}function DS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==OS)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,i)=>{t(e)})}static reject(e){return new G((t,i)=>{i(e)})}static waitFor(e){return new G((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next(o=>o?G.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new G((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(v=>{c[y]=v,++d,d===a&&i(c)},v=>o(v))}})}static doWhile(e,t){return new G((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function bS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fc.oe=-1;function Uc(n){return n==null}function pc(n){return n===0&&1/n==-1/0}function VS(n){return typeof n=="number"&&Number.isInteger(n)&&!pc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ty(e)),e=FS(n.get(t),e);return Ty(e)}function FS(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Ty(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ov(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Dt.RED,this.left=o??Dt.EMPTY,this.right=a??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Dt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sy(this.data.getIterator())}getIteratorFrom(e){return new Sy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class Sy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new zn([])}unionWith(e){let t=new Et(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Lv("Invalid base64 string: "+a):a}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const US=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(n){if(ze(!!n),typeof n=="string"){let e=0;const t=US.exec(n);if(ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ai(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function jc(n){const e=n.mapValue.fields.__previous_value__;return Gf(e)?jc(e):e}function nl(n){const e=Ci(n.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t,i,o,a,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class rl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu={mapValue:{}};function Pi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gf(n)?4:zS(n)?9007199254740991:BS(n)?10:11:Ie()}function cr(n,e){if(n===e)return!0;const t=Pi(n);if(t!==Pi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nl(n).isEqual(nl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ci(o.timestampValue),d=Ci(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ai(o.bytesValue).isEqual(Ai(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return at(o.geoPointValue.latitude)===at(a.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return at(o.integerValue)===at(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=at(o.doubleValue),d=at(a.doubleValue);return c===d?pc(c)===pc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Ro(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Iy(c)!==Iy(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!cr(c[p],d[p])))return!1;return!0}(n,e);default:return Ie()}}function il(n,e){return(n.values||[]).find(t=>cr(t,e))!==void 0}function Co(n,e){if(n===e)return 0;const t=Pi(n),i=Pi(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=at(a.integerValue||a.doubleValue),p=at(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Ry(n.timestampValue,e.timestampValue);case 4:return Ry(nl(n),nl(e));case 5:return Oe(n.stringValue,e.stringValue);case 6:return function(a,c){const d=Ai(a),p=Ai(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const v=Oe(d[y],p[y]);if(v!==0)return v}return Oe(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Oe(at(a.latitude),at(c.latitude));return d!==0?d:Oe(at(a.longitude),at(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Cy(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,p,y,v;const T=a.fields||{},I=c.fields||{},L=(d=T.value)===null||d===void 0?void 0:d.arrayValue,k=(p=I.value)===null||p===void 0?void 0:p.arrayValue,V=Oe(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return V!==0?V:Cy(L,k)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===zu.mapValue&&c===zu.mapValue)return 0;if(a===zu.mapValue)return 1;if(c===zu.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),y=c.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const I=Oe(p[T],v[T]);if(I!==0)return I;const L=Co(d[p[T]],y[v[T]]);if(L!==0)return L}return Oe(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Ie()}}function Ry(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Ci(n),i=Ci(e),o=Oe(t.seconds,i.seconds);return o!==0?o:Oe(t.nanos,i.nanos)}function Cy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Co(t[o],i[o]);if(a)return a}return Oe(t.length,i.length)}function Ao(n){return mf(n)}function mf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ci(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ai(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=mf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${mf(t.fields[c])}`;return o+"}"}(n.mapValue):Ie()}function Zu(n){switch(Pi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jc(n);return e?16+Zu(e):16;case 5:return 2*n.stringValue.length;case 6:return Ai(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Zu(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return gs(i.fields,(a,c)=>{o+=a.length+Zu(c)}),o}(n.mapValue);default:throw Ie()}}function gf(n){return!!n&&"integerValue"in n}function Qf(n){return!!n&&"arrayValue"in n}function Ay(n){return!!n&&"nullValue"in n}function Py(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ec(n){return!!n&&"mapValue"in n}function BS(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ka(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ka(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ka(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ec(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(t)}setAll(e){let t=Ot.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Ka(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());ec(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){gs(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Sn(Ka(this.value))}}function bv(n){const e=[];return gs(n.fields,(t,i)=>{const o=new Ot([t]);if(ec(i)){const a=bv(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Bt(e,0,Se.min(),Se.min(),Se.min(),Sn.empty(),0)}static newFoundDocument(e,t,i,o){return new Bt(e,1,t,Se.min(),i,o,0)}static newNoDocument(e,t){return new Bt(e,2,t,Se.min(),Se.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Se.min(),Se.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t){this.position=e,this.inclusive=t}}function ky(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),t.key):i=Co(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ny(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function $S(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{}class _t extends Vv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new HS(e,t,i):t==="array-contains"?new GS(e,i):t==="in"?new QS(e,i):t==="not-in"?new JS(e,i):t==="array-contains-any"?new YS(e,i):new _t(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new WS(e,i):new KS(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Co(t,this.value)):t!==null&&Pi(this.value)===Pi(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends Vv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new hr(e,t)}matches(e){return Mv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Mv(n){return n.op==="and"}function Fv(n){return qS(n)&&Mv(n)}function qS(n){for(const e of n.filters)if(e instanceof hr)return!1;return!0}function yf(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+Ao(n.value);if(Fv(n))return n.filters.map(e=>yf(e)).join(",");{const e=n.filters.map(t=>yf(t)).join(",");return`${n.op}(${e})`}}function Uv(n,e){return n instanceof _t?function(i,o){return o instanceof _t&&i.op===o.op&&i.field.isEqual(o.field)&&cr(i.value,o.value)}(n,e):n instanceof hr?function(i,o){return o instanceof hr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&Uv(c,o.filters[d]),!0):!1}(n,e):void Ie()}function jv(n){return n instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${Ao(t.value)}`}(n):n instanceof hr?function(t){return t.op.toString()+" {"+t.getFilters().map(jv).join(" ,")+"}"}(n):"Filter"}class HS extends _t{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class WS extends _t{constructor(e,t){super(e,"in",t),this.keys=Bv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class KS extends _t{constructor(e,t){super(e,"not-in",t),this.keys=Bv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Bv(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class GS extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qf(t)&&il(t.arrayValue,this.value)}}class QS extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&il(this.value.arrayValue,t)}}class JS extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!il(this.value.arrayValue,t)}}class YS extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>il(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.ue=null}}function xy(n,e=null,t=[],i=[],o=null,a=null,c=null){return new XS(n,e,t,i,o,a,c)}function Jf(n){const e=Re(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>yf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Uc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ao(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ao(i)).join(",")),e.ue=t}return e.ue}function Yf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$S(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Uv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ny(n.startAt,e.startAt)&&Ny(n.endAt,e.endAt)}function _f(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ZS(n,e,t,i,o,a,c,d){return new Bc(n,e,t,i,o,a,c,d)}function zv(n){return new Bc(n)}function Dy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eR(n){return n.collectionGroup!==null}function Ga(n){const e=Re(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Et(Ot.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new gc(a,i))}),t.has(Ot.keyField().canonicalString())||e.ce.push(new gc(Ot.keyField(),i))}return e.ce}function sr(n){const e=Re(n);return e.le||(e.le=tR(e,Ga(n))),e.le}function tR(n,e){if(n.limitType==="F")return xy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new gc(o.field,a)});const t=n.endAt?new mc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new mc(n.startAt.position,n.startAt.inclusive):null;return xy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vf(n,e,t){return new Bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zc(n,e){return Yf(sr(n),sr(e))&&n.limitType===e.limitType}function $v(n){return`${Jf(sr(n))}|lt:${n.limitType}`}function mo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>jv(o)).join(", ")}]`),Uc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Ao(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Ao(o)).join(",")),`Target(${i})`}(sr(n))}; limitType=${n.limitType})`}function $c(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ee.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Ga(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=ky(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,Ga(i),o)||i.endAt&&!function(c,d,p){const y=ky(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,Ga(i),o))}(n,e)}function nR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qv(n){return(e,t)=>{let i=!1;for(const o of Ga(n)){const a=rR(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function rR(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,c,d){const p=c.data.field(a),y=d.data.field(a);return p!==null&&y!==null?Co(p,y):Ie()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return Ov(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new rt(Ee.comparator);function Fr(){return iR}const Hv=new rt(Ee.comparator);function Ha(...n){let e=Hv;for(const t of n)e=e.insert(t.key,t);return e}function Wv(n){let e=Hv;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ls(){return Qa()}function Kv(){return Qa()}function Qa(){return new ys(n=>n.toString(),(n,e)=>n.isEqual(e))}const sR=new rt(Ee.comparator),oR=new Et(Ee.comparator);function xe(...n){let e=oR;for(const t of n)e=e.add(t);return e}const aR=new Et(Oe);function lR(){return aR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function Gv(n){return{integerValue:""+n}}function uR(n,e){return VS(e)?Gv(e):Xf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function cR(n,e,t){return n instanceof yc?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Gf(a)&&(a=jc(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof sl?Jv(n,e):n instanceof ol?Yv(n,e):function(o,a){const c=Qv(o,a),d=Oy(c)+Oy(o.Pe);return gf(c)&&gf(o.Pe)?Gv(d):Xf(o.serializer,d)}(n,e)}function hR(n,e,t){return n instanceof sl?Jv(n,e):n instanceof ol?Yv(n,e):t}function Qv(n,e){return n instanceof _c?function(i){return gf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class yc extends qc{}class sl extends qc{constructor(e){super(),this.elements=e}}function Jv(n,e){const t=Xv(e);for(const i of n.elements)t.some(o=>cr(o,i))||t.push(i);return{arrayValue:{values:t}}}class ol extends qc{constructor(e){super(),this.elements=e}}function Yv(n,e){let t=Xv(e);for(const i of n.elements)t=t.filter(o=>!cr(o,i));return{arrayValue:{values:t}}}class _c extends qc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Oy(n){return at(n.integerValue||n.doubleValue)}function Xv(n){return Qf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function dR(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof sl&&o instanceof sl||i instanceof ol&&o instanceof ol?Ro(i.elements,o.elements,cr):i instanceof _c&&o instanceof _c?cr(i.Pe,o.Pe):i instanceof yc&&o instanceof yc}(n.transform,e.transform)}class fR{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Hc{}function Zv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zf(n.key,or.none()):new gl(n.key,n.data,or.none());{const t=n.data,i=Sn.empty();let o=new Et(Ot.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new _s(n.key,i,new zn(o.toArray()),or.none())}}function pR(n,e,t){n instanceof gl?function(o,a,c){const d=o.value.clone(),p=by(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof _s?function(o,a,c){if(!tc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=by(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(e0(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ja(n,e,t,i){return n instanceof gl?function(a,c,d,p){if(!tc(a.precondition,c))return d;const y=a.value.clone(),v=Vy(a.fieldTransforms,p,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof _s?function(a,c,d,p){if(!tc(a.precondition,c))return d;const y=Vy(a.fieldTransforms,p,c),v=c.data;return v.setAll(e0(a)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(a,c,d){return tc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function mR(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=Qv(i.transform,o||null);a!=null&&(t===null&&(t=Sn.empty()),t.set(i.field,a))}return t||null}function Ly(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ro(i,o,(a,c)=>dR(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class gl extends Hc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends Hc{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function e0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function by(n,e,t){const i=new Map;ze(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,hR(c,d,t[o]))}return i}function Vy(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,cR(a,c,e))}return i}class Zf extends Hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gR extends Hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&pR(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ja(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ja(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Kv();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=Zv(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(t,i)=>Ly(t,i))&&Ro(this.baseMutations,e.baseMutations,(t,i)=>Ly(t,i))}}class ep{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ze(e.mutations.length===i.length);let o=function(){return sR}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new ep(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Ve;function ER(n){switch(n){default:return Ie();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function t0(n){if(n===void 0)return Mr("GRPC error has no .code"),Z.UNKNOWN;switch(n){case ht.OK:return Z.OK;case ht.CANCELLED:return Z.CANCELLED;case ht.UNKNOWN:return Z.UNKNOWN;case ht.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ht.INTERNAL:return Z.INTERNAL;case ht.UNAVAILABLE:return Z.UNAVAILABLE;case ht.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ht.NOT_FOUND:return Z.NOT_FOUND;case ht.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ht.ABORTED:return Z.ABORTED;case ht.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ht.DATA_LOSS:return Z.DATA_LOSS;default:return Ie()}}(Ve=ht||(ht={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new cs([4294967295,4294967295],0);function My(n){const e=wR().encode(n),t=new Rv;return t.update(e),new Uint8Array(t.digest())}function Fy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new cs([t,i],0),new cs([o,a],0)]}class tp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Wa(`Invalid padding: ${t}`);if(i<0)throw new Wa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Wa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=cs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(cs.fromNumber(i)));return o.compare(TR)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=My(e),[i,o]=Fy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new tp(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=My(e),[i,o]=Fy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Wc(Se.min(),o,new rt(Oe),Fr(),xe())}}class yl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new yl(i,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class n0{constructor(e,t){this.targetId=e,this.me=t}}class r0{constructor(e,t,i=Lt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Uy{constructor(){this.fe=0,this.ge=jy(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),i=xe();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ie()}}),new yl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=jy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fr(),this.qe=$u(),this.Qe=$u(),this.Ke=new rt(Oe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(_f(a))if(i===0){const c=new Ee(a.path);this.We(t,c,Bt.newNoDocument(c,Se.min()))}else ze(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=Ai(i).toUint8Array()}catch(p){if(p instanceof Lv)return So("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new tp(c,o,a)}catch(p){return So(p instanceof Wa?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,c)=>{const d=this.Ye(c);if(d){if(a.current&&_f(d.target)){const p=new Ee(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,Bt.newNoDocument(p,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=xe();this.Qe.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new Wc(e,t,this.Ke,this.ke,i);return this.ke=Fr(),this.qe=$u(),this.Qe=$u(),this.Ke=new rt(Oe),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Uy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Oe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Oe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Uy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function $u(){return new rt(Ee.comparator)}function jy(){return new rt(Ee.comparator)}const SR={asc:"ASCENDING",desc:"DESCENDING"},RR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CR={and:"AND",or:"OR"};class AR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ef(n,e){return n.useProto3Json||Uc(e)?e:{value:e}}function vc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PR(n,e){return vc(n,e.toTimestamp())}function ar(n){return ze(!!n),Se.fromTimestamp(function(t){const i=Ci(t);return new vt(i.seconds,i.nanos)}(n))}function np(n,e){return wf(n,e).canonicalString()}function wf(n,e){const t=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function s0(n){const e=Ze.fromString(n);return ze(c0(e)),e}function Tf(n,e){return np(n.databaseId,e.path)}function qd(n,e){const t=s0(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(a0(t))}function o0(n,e){return np(n.databaseId,e)}function kR(n){const e=s0(n);return e.length===4?Ze.emptyPath():a0(e)}function If(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function a0(n){return ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function By(n,e,t){return{name:Tf(n,e),fields:t.value.mapValue.fields}}function NR(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,v){return y.useProto3Json?(ze(v===void 0||typeof v=="string"),Lt.fromBase64String(v||"")):(ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Lt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const v=y.code===void 0?Z.UNKNOWN:t0(y.code);return new ge(v,y.message||"")}(c);t=new r0(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=qd(n,i.document.name),a=ar(i.document.updateTime),c=i.document.createTime?ar(i.document.createTime):Se.min(),d=new Sn({mapValue:{fields:i.document.fields}}),p=Bt.newFoundDocument(o,a,c,d),y=i.targetIds||[],v=i.removedTargetIds||[];t=new nc(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=qd(n,i.document),a=i.readTime?ar(i.readTime):Se.min(),c=Bt.newNoDocument(o,a),d=i.removedTargetIds||[];t=new nc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=qd(n,i.document),a=i.removedTargetIds||[];t=new nc([],a,o,null)}else{if(!("filter"in e))return Ie();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new vR(o,a),d=i.targetId;t=new n0(d,c)}}return t}function xR(n,e){let t;if(e instanceof gl)t={update:By(n,e.key,e.value)};else if(e instanceof Zf)t={delete:Tf(n,e.key)};else if(e instanceof _s)t={update:By(n,e.key,e.data),updateMask:jR(e.fieldMask)};else{if(!(e instanceof gR))return Ie();t={verify:Tf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof yc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof sl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ol)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof _c)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Ie()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:PR(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie()}(n,e.precondition)),t}function DR(n,e){return n&&n.length>0?(ze(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?ar(o.updateTime):ar(a);return c.isEqual(Se.min())&&(c=ar(a)),new fR(c,o.transformResults||[])}(t,e))):[]}function OR(n,e){return{documents:[o0(n,e.path)]}}function LR(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=o0(n,o);const a=function(y){if(y.length!==0)return u0(hr.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(v=>function(I){return{field:go(I.field),direction:MR(I.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Ef(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function bR(n){let e=kR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ze(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(T){const I=l0(T);return I instanceof hr&&Fv(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(I=>function(k){return new gc(yo(k.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(T){let I;return I=typeof T=="object"?T.value:T,Uc(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(T){const I=!!T.before,L=T.values||[];return new mc(L,I)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const I=!T.before,L=T.values||[];return new mc(L,I)}(t.endAt)),ZS(e,o,c,a,d,"F",p,y)}function VR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function l0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=yo(t.unaryFilter.field);return _t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(t.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=yo(t.unaryFilter.field);return _t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=yo(t.unaryFilter.field);return _t.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):n.fieldFilter!==void 0?function(t){return _t.create(yo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return hr.create(t.compositeFilter.filters.map(i=>l0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(n):Ie()}function MR(n){return SR[n]}function FR(n){return RR[n]}function UR(n){return CR[n]}function go(n){return{fieldPath:n.canonicalString()}}function yo(n){return Ot.fromServerFormat(n.fieldPath)}function u0(n){return n instanceof _t?function(t){if(t.op==="=="){if(Py(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NAN"}};if(Ay(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Py(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NAN"}};if(Ay(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(t.field),op:FR(t.op),value:t.value}}}(n):n instanceof hr?function(t){const i=t.getFilters().map(o=>u0(o));return i.length===1?i[0]:{compositeFilter:{op:UR(t.op),filters:i}}}(n):Ie()}function jR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function c0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,t,i,o,a=Se.min(),c=Se.min(),d=Lt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.ht=e}}function zR(n){const e=bR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.ln=new qR}addToCollectionParentIndex(e,t){return this.ln.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Ri.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class qR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Et(Ze.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Et(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(41943040,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Po(0)}static Qn(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y([n,e],[t,i]){const o=Oe(n,t);return o===0?Oe(e,i):o}class HR{constructor(e){this.Gn=e,this.buffer=new Et($y),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$y(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uo(t)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Fo(t)}await this.Yn(3e5)})}}class KR{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Fc.oe);const i=new HR(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(zy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,c,d,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),po()<=Ne.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:T})))}}function GR(n,e){return new KR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.changes=new ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ja(i.mutation,o,zn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xe()){const o=ls();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=Ha();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ls();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xe()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=Fr();const c=Qa(),d=function(){return Qa()}();return t.forEach((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof _s)?a=a.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),Ja(v.mutation,y,v.mutation.getFieldMask(),vt.now())):c.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,v)=>c.set(y,v)),t.forEach((y,v)=>{var T;return d.set(y,new JR(v,(T=c.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Qa();let o=new rt((c,d)=>c-d),a=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||zn.empty();v=d.applyToLocalView(y,v),i.set(p,v);const T=(o.get(d.batchId)||xe()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,v=p.value,T=Kv();v.forEach(I=>{if(!a.has(I)){const L=Zv(t.get(I),i.get(I));L!==null&&T.set(I,L),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return G.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):G.resolve(ls());let d=-1,p=a;return c.next(y=>G.forEach(y,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),a.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next(I=>{p=p.insert(v,I)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,xe())).next(v=>({batchId:d,changes:Wv(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(i=>{let o=Ha();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Ha();return this.indexManager.getCollectionParents(e,a).next(d=>G.forEach(d,p=>{const y=function(T,I){return new Bc(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((T,I)=>{c=c.insert(T,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,Bt.newInvalidDocument(v)))});let d=Ha();return c.forEach((p,y)=>{const v=a.get(p);v!==void 0&&Ja(v.mutation,y,zn.empty(),vt.now()),$c(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return G.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ar(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:zR(o.bundledQuery),readTime:ar(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.overlays=new rt(Ee.comparator),this.Er=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ls();return G.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=ls(),a=t.length+1,c=new Ee(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new rt((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=a.get(y.largestBatchId);v===null&&(v=ls(),a=a.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=ls(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>d.set(y,v)),!(d.size()>=o)););return G.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new _R(t,i));let a=this.Er.get(t);a===void 0&&(a=xe(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(){this.dr=new Et(At.Ar),this.Rr=new Et(At.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new At(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new At(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Ee(new Ze([])),i=new At(t,e),o=new At(t,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ee(new Ze([])),i=new At(t,e),o=new At(t,e+1);let a=xe();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new At(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class At{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ee.comparator(e.key,t.key)||Oe(e.br,t.br)}static Vr(e,t){return Oe(e.br,t.br)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(At.Ar)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new yR(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new At(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return G.resolve(c)}lookupMutationBatch(e,t){return G.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return G.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);a.push(d)}),G.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Et(Oe);return t.forEach(o=>{const a=new At(o,0),c=new At(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],d=>{i=i.add(d.br)})}),G.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ee.isDocumentKey(a)||(a=a.child(""));const c=new At(new Ee(a),0);let d=new Et(Oe);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},c),G.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ze(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return G.forEach(t.mutations,o=>{const a=new At(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new At(t,0),o=this.vr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.Nr=e,this.docs=function(){return new rt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let i=Fr();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Bt.newInvalidDocument(o))}),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Fr();const c=t.path,d=new Ee(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||DS(xS(v),i)<=0||(o.has(v.key)||$c(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return G.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ie()}Lr(e,t){return G.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new rC(this)}getSize(e){return G.resolve(this.size)}}class rC extends QR{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),G.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.persistence=e,this.Br=new ys(t=>Jf(t),Yf),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.kr=0,this.qr=new rp,this.targetCount=0,this.Qr=Po.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),G.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Po(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Un(t),G.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),G.waitFor(a).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),G.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Fc(0),this.Ur=!1,this.Ur=!0,this.Wr=new eC,this.referenceDelegate=e(this),this.Gr=new iC(this),this.indexManager=new $R,this.remoteDocumentCache=function(o){return new nC(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new BR(t),this.jr=new XR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new tC(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new sC(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return G.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class sC extends LS{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.Zr=new rp,this.Xr=null}static ei(e){return new ip(e)}get ti(){if(this.Xr)return this.Xr;throw Ie()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),G.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ti,i=>{const o=Ee.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Se.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return G.or([()=>G.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Ec{constructor(e,t){this.persistence=e,this.ri=new ys(i=>MS(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=GR(this,t)}static ei(e,t){return new Ec(e,t)}Hr(){}Jr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return G.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?G.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,a.removeEntry(c,Se.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zu(e.data.value)),t}ir(e,t,i){return G.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=xe(),o=xe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new sp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return i1()?8:bS($t())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new oC;return this.ts(e,t,c).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(po()<=Ne.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),G.resolve()):(po()<=Ne.DEBUG&&le("QueryEngine","Query:",mo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(po()<=Ne.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(t))):G.resolve())}Xi(e,t){if(Dy(t))return G.resolve(null);let i=sr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=vf(t,null,"F"),i=sr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=xe(...a);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,c,p.readTime)?this.Xi(e,vf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Dy(t)||o.isEqual(Se.min())?G.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,o)?G.resolve(null):(po()<=Ne.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(t)),this.os(e,c,t,NS(o,-1)).next(d=>d))})}rs(e,t){let i=new Et(qv(e));return t.forEach((o,a)=>{$c(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return po()<=Ne.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",mo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ri.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new rt(Oe),this.cs=new ys(a=>Jf(a),Yf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YR(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function uC(n,e,t,i){return new lC(n,e,t,i)}async function d0(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let p=xe();for(const y of o){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of a){d.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:d}))})})}function cC(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,v){const T=y.batch,I=T.keys();let L=G.resolve();return I.forEach(k=>{L=L.next(()=>v.getEntry(p,k)).next(V=>{const x=y.docVersions.get(k);ze(x!==null),V.version.compareTo(x)<0&&(T.applyToRemoteDocument(V,y),V.isValidDocument()&&(V.setReadTime(y.commitVersion),v.addEntry(V)))})}),L.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=xe();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function f0(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function hC(n,e){const t=Re(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((v,T)=>{const I=o.get(T);if(!I)return;d.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,T)));let L=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(Lt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(v.resumeToken,i)),o=o.insert(T,L),function(V,x,q){return V.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(I,L,v)&&d.push(t.Gr.updateTargetData(a,L))});let p=Fr(),y=xe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(dC(a,c,e.documentUpdates).next(v=>{p=v.Is,y=v.Es})),!i.isEqual(Se.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(T=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(v)}return G.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(t.us=o,a))}function dC(n,e,t){let i=xe(),o=xe();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Fr();return t.forEach((d,p)=>{const y=a.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):le("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:c,Es:o}})}function fC(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function pC(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,G.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new yi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Sf(n,e,t){const i=Re(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Uo(c))throw c;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function qy(n,e,t){const i=Re(n);let o=Se.min(),a=xe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,v){const T=Re(p),I=T.cs.get(v);return I!==void 0?G.resolve(T.us.get(I)):T.Gr.getTargetData(y,v)}(i,c,sr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Se.min(),t?a:xe())).next(d=>(mC(i,nR(e),d),{documents:d,ds:a})))}function mC(n,e,t){let i=n.ls.get(e)||Se.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class Hy{constructor(){this.activeTargetIds=lR()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gC{constructor(){this._o=new Hy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Hy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function Hd(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class EC extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,c){const d=Hd(),p=this.No(t,i.toUriEncodedString());le("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,a,c),this.Bo(t,p,y,o).then(v=>(le("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw So("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",p,"request:",o),v})}ko(t,i,o,a,c,d){return this.Oo(t,i,o,a,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,i){const o=_C[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=Hd();return new Promise((c,d)=>{const p=new Cv;p.setWithCredentials(!0),p.listenOnce(Av.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Xu.NO_ERROR:const v=p.getResponseJson();le(Ut,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),c(v);break;case Xu.TIMEOUT:le(Ut,`RPC '${e}' ${a} timed out`),d(new ge(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const T=p.getStatus();if(le(Ut,`RPC '${e}' ${a} failed with status:`,T,"response text:",p.getResponseText()),T>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const L=I==null?void 0:I.error;if(L&&L.status&&L.message){const k=function(x){const q=x.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(q)>=0?q:Z.UNKNOWN}(L.status);d(new ge(k,L.message))}else d(new ge(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ge(Z.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{le(Ut,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);le(Ut,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Hd(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Nv(),d=kv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=a.join("");le(Ut,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=c.createWebChannel(v,p);let I=!1,L=!1;const k=new vC({Eo:x=>{L?le(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(I||(le(Ut,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),le(Ut,`RPC '${e}' stream ${o} sending:`,x),T.send(x))},Ao:()=>T.close()}),V=(x,q,K)=>{x.listen(q,X=>{try{K(X)}catch(oe){setTimeout(()=>{throw oe},0)}})};return V(T,qa.EventType.OPEN,()=>{L||(le(Ut,`RPC '${e}' stream ${o} transport opened.`),k.So())}),V(T,qa.EventType.CLOSE,()=>{L||(L=!0,le(Ut,`RPC '${e}' stream ${o} transport closed`),k.Do())}),V(T,qa.EventType.ERROR,x=>{L||(L=!0,So(Ut,`RPC '${e}' stream ${o} transport errored:`,x),k.Do(new ge(Z.UNAVAILABLE,"The operation could not be completed")))}),V(T,qa.EventType.MESSAGE,x=>{var q;if(!L){const K=x.data[0];ze(!!K);const X=K,oe=(X==null?void 0:X.error)||((q=X[0])===null||q===void 0?void 0:q.error);if(oe){le(Ut,`RPC '${e}' stream ${o} received error:`,oe);const pe=oe.status;let me=function(C){const N=ht[C];if(N!==void 0)return t0(N)}(pe),P=oe.message;me===void 0&&(me=Z.INTERNAL,P="Unknown error status: "+pe+" with message "+oe.message),L=!0,k.Do(new ge(me,P)),T.close()}else le(Ut,`RPC '${e}' stream ${o} received:`,K),k.vo(K)}}),V(d,Pv.STAT_EVENT,x=>{x.stat===pf.PROXY?le(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===pf.NOPROXY&&le(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function Wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(n){return new AR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t,i,o,a,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new p0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ge(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wC extends m0{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=NR(this.serializer,e),i=function(a){if(!("targetChange"in a))return Se.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?ar(c.readTime):Se.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=If(this.serializer),t.addTarget=function(a,c){let d;const p=c.target;if(d=_f(p)?{documents:OR(a,p)}:{query:LR(a,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=i0(a,c.resumeToken);const y=Ef(a,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=vc(a,c.snapshotVersion.toTimestamp());const y=Ef(a,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=VR(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=If(this.serializer),t.removeTarget=e,this.c_(t)}}class TC extends m0{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=DR(e.writeResults,e.commitTime),i=ar(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=If(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>xR(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,wf(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(Z.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,wf(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(Z.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class SC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Mr(t),this.C_=!1):le("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{vs(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Re(p);y.k_.add(4),await _l(y),y.K_.set("Unknown"),y.k_.delete(4),await Gc(y)}(this))})}),this.K_=new SC(i,o)}}async function Gc(n){if(vs(n))for(const e of n.q_)await e(!0)}async function _l(n){for(const e of n.q_)await e(!1)}function g0(n,e){const t=Re(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),up(t)?lp(t):jo(t).s_()&&ap(t,e))}function op(n,e){const t=Re(n),i=jo(t);t.B_.delete(e),i.s_()&&y0(t,e),t.B_.size===0&&(i.s_()?i.a_():vs(t)&&t.K_.set("Unknown"))}function ap(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jo(n).V_(e)}function y0(n,e){n.U_.xe(e),jo(n).m_(e)}function lp(n){n.U_=new IR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),jo(n).start(),n.K_.F_()}function up(n){return vs(n)&&!jo(n).i_()&&n.B_.size>0}function vs(n){return Re(n).k_.size===0}function _0(n){n.U_=void 0}async function CC(n){n.K_.set("Online")}async function AC(n){n.B_.forEach((e,t)=>{ap(n,e)})}async function PC(n,e){_0(n),up(n)?(n.K_.O_(e),lp(n)):n.K_.set("Unknown")}async function kC(n,e,t){if(n.K_.set("Online"),e instanceof r0&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wc(n,i)}else if(e instanceof nc?n.U_.$e(e):e instanceof n0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Se.min()))try{const i=await f0(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.U_.it(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=a.B_.get(y);v&&a.B_.set(y,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const v=a.B_.get(p);if(!v)return;a.B_.set(p,v.withResumeToken(Lt.EMPTY_BYTE_STRING,v.snapshotVersion)),y0(a,p);const T=new yi(v.target,p,y,v.sequenceNumber);ap(a,T)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){le("RemoteStore","Failed to raise snapshot:",i),await wc(n,i)}}async function wc(n,e,t){if(!Uo(e))throw e;n.k_.add(1),await _l(n),n.K_.set("Offline"),t||(t=()=>f0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Gc(n)})}function v0(n,e){return e().catch(t=>wc(n,t,e))}async function Qc(n){const e=Re(n),t=ki(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;NC(e);)try{const o=await fC(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,xC(e,o)}catch(o){await wc(e,o)}E0(e)&&w0(e)}function NC(n){return vs(n)&&n.L_.length<10}function xC(n,e){n.L_.push(e);const t=ki(n);t.s_()&&t.f_&&t.g_(e.mutations)}function E0(n){return vs(n)&&!ki(n).i_()&&n.L_.length>0}function w0(n){ki(n).start()}async function DC(n){ki(n).w_()}async function OC(n){const e=ki(n);for(const t of n.L_)e.g_(t.mutations)}async function LC(n,e,t){const i=n.L_.shift(),o=ep.from(i,e,t);await v0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Qc(n)}async function bC(n,e){e&&ki(n).f_&&await async function(i,o){if(function(c){return ER(c)&&c!==Z.ABORTED}(o.code)){const a=i.L_.shift();ki(i).__(),await v0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Qc(i)}}(n,e),E0(n)&&w0(n)}async function Ky(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=vs(t);t.k_.add(3),await _l(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Gc(t)}async function VC(n,e){const t=Re(n);e?(t.k_.delete(2),await Gc(t)):e||(t.k_.add(2),await _l(t),t.K_.set("Unknown"))}function jo(n){return n.W_||(n.W_=function(t,i,o){const a=Re(t);return a.b_(),new wC(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:CC.bind(null,n),mo:AC.bind(null,n),po:PC.bind(null,n),R_:kC.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),up(n)?lp(n):n.K_.set("Unknown")):(await n.W_.stop(),_0(n))})),n.W_}function ki(n){return n.G_||(n.G_=function(t,i,o){const a=Re(t);return a.b_(),new TC(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:DC.bind(null,n),po:bC.bind(null,n),p_:OC.bind(null,n),y_:LC.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Qc(n)):(await n.G_.stop(),n.L_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new cp(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(n,e){if(Mr("AsyncQueue",`${e}: ${n}`),Uo(n))return new ge(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=Ha(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new vo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.z_=new rt(Ee.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ie():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ko{constructor(e,t,i,o,a,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ko(e,t,vo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class FC{constructor(){this.queries=Qy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Re(t),a=o.queries;o.queries=Qy(),a.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new ge(Z.ABORTED,"Firestore shutting down"))}}function Qy(){return new ys(n=>$v(n),zc)}async function UC(n,e){const t=Re(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new MC,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=hp(c,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&dp(t)}async function jC(n,e){const t=Re(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function BC(n,e){const t=Re(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&dp(t)}function zC(n,e,t){const i=Re(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function dp(n){n.X_.forEach(e=>{e.next()})}var Rf,Jy;(Jy=Rf||(Rf={})).na="default",Jy.Cache="cache";class $C{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ko(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Rf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.key=e}}class I0{constructor(e){this.key=e}}class qC{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=qv(e),this.ma=new vo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Gy,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const I=o.get(v),L=$c(this.query,T)?T:null,k=!!I&&this.mutatedKeys.has(I.key),V=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let x=!1;I&&L?I.data.isEqual(L.data)?k!==V&&(i.track({type:3,doc:L}),x=!0):this.ya(I,L)||(i.track({type:2,doc:L}),x=!0,(p&&this.Va(L,p)>0||y&&this.Va(L,y)<0)&&(d=!0)):!I&&L?(i.track({type:0,doc:L}),x=!0):I&&!L&&(i.track({type:1,doc:I}),x=!0,(p||y)&&(d=!0)),x&&(L?(c=c.add(L),a=V?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{ma:c,pa:i,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,T)=>function(L,k){const V=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return V(L)-V(k)}(v.type,T.type)||this.Va(v.doc,T.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new ko(this.query,e.ma,a,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Gy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new I0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new T0(i))}),t}va(e){this.da=e.ds,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ko.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class HC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class WC{constructor(e){this.key=e,this.Fa=!1}}class KC{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new ys(d=>$v(d),zc),this.Oa=new Map,this.Na=new Set,this.La=new rt(Ee.comparator),this.Ba=new Map,this.ka=new rp,this.qa={},this.Qa=new Map,this.Ka=Po.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function GC(n,e,t=!0){const i=k0(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await S0(i,e,t,!0),o}async function QC(n,e){const t=k0(n);await S0(t,e,!0,!1)}async function S0(n,e,t,i){const o=await pC(n.localStore,sr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await JC(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&g0(n.remoteStore,o),d}async function JC(n,e,t,i,o){n.Ua=(T,I,L)=>async function(V,x,q,K){let X=x.view.ga(q);X.ss&&(X=await qy(V.localStore,x.query,!1).then(({documents:P})=>x.view.ga(P,X)));const oe=K&&K.targetChanges.get(x.targetId),pe=K&&K.targetMismatches.get(x.targetId)!=null,me=x.view.applyChanges(X,V.isPrimaryClient,oe,pe);return Xy(V,x.targetId,me.ba),me.snapshot}(n,T,I,L);const a=await qy(n.localStore,e,!0),c=new qC(e,a.ds),d=c.ga(a.documents),p=yl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);Xy(n,t,y.ba);const v=new HC(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function YC(n,e,t){const i=Re(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!zc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Sf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&op(i.remoteStore,o.targetId),Cf(i,o.targetId)}).catch(Fo)):(Cf(i,o.targetId),await Sf(i.localStore,o.targetId,!0))}async function XC(n,e){const t=Re(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),op(t.remoteStore,i.targetId))}async function ZC(n,e,t){const i=oA(n);try{const o=await function(c,d){const p=Re(c),y=vt.now(),v=d.reduce((L,k)=>L.add(k.key),xe());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let k=Fr(),V=xe();return p.hs.getEntries(L,v).next(x=>{k=x,k.forEach((q,K)=>{K.isValidDocument()||(V=V.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,k)).next(x=>{T=x;const q=[];for(const K of d){const X=mR(K,T.get(K.key).overlayedDocument);X!=null&&q.push(new _s(K.key,X,bv(X.value.mapValue),or.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,q,d)}).next(x=>{I=x;const q=x.applyToLocalDocumentSet(T,V);return p.documentOverlayCache.saveOverlays(L,x.batchId,q)})}).then(()=>({batchId:I.batchId,changes:Wv(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let y=c.qa[c.currentUser.toKey()];y||(y=new rt(Oe)),y=y.insert(d,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await vl(i,o.changes),await Qc(i.remoteStore)}catch(o){const a=hp(o,"Failed to persist write");t.reject(a)}}async function R0(n,e){const t=Re(n);try{const i=await hC(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ba.get(a);c&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?ze(c.Fa):o.removedDocuments.size>0&&(ze(c.Fa),c.Fa=!1))}),await vl(t,i,e)}catch(i){await Fo(i)}}function Yy(n,e,t){const i=Re(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Re(c);p.onlineState=d;let y=!1;p.queries.forEach((v,T)=>{for(const I of T.J_)I.ea(d)&&(y=!0)}),y&&dp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function eA(n,e,t){const i=Re(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let c=new rt(Ee.comparator);c=c.insert(a,Bt.newNoDocument(a,Se.min()));const d=xe().add(a),p=new Wc(Se.min(),new Map,new rt(Oe),c,d);await R0(i,p),i.La=i.La.remove(a),i.Ba.delete(e),fp(i)}else await Sf(i.localStore,e,!1).then(()=>Cf(i,e,t)).catch(Fo)}async function tA(n,e){const t=Re(n),i=e.batch.batchId;try{const o=await cC(t.localStore,e);A0(t,i,null),C0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await vl(t,o)}catch(o){await Fo(o)}}async function nA(n,e,t){const i=Re(n);try{const o=await function(c,d){const p=Re(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,d).next(T=>(ze(T!==null),v=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(i.localStore,e);A0(i,e,t),C0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await vl(i,o)}catch(o){await Fo(o)}}function C0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function A0(n,e,t){const i=Re(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Cf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||P0(n,i)})}function P0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(op(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),fp(n))}function Xy(n,e,t){for(const i of t)i instanceof T0?(n.ka.addReference(i.key,e),rA(n,i)):i instanceof I0?(le("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||P0(n,i.key)):Ie()}function rA(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(le("SyncEngine","New document in limbo: "+t),n.Na.add(i),fp(n))}function fp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ee(Ze.fromString(e)),i=n.Ka.next();n.Ba.set(i,new WC(t)),n.La=n.La.insert(t,i),g0(n.remoteStore,new yi(sr(zv(t.path)),i,"TargetPurposeLimboResolution",Fc.oe))}}async function vl(n,e,t){const i=Re(n),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=sp.zi(p.targetId,y);a.push(T)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const v=Re(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>G.forEach(y,I=>G.forEach(I.Wi,L=>v.persistence.referenceDelegate.addReference(T,I.targetId,L)).next(()=>G.forEach(I.Gi,L=>v.persistence.referenceDelegate.removeReference(T,I.targetId,L)))))}catch(T){if(!Uo(T))throw T;le("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const L=v.us.get(I),k=L.snapshotVersion,V=L.withLastLimboFreeSnapshotVersion(k);v.us=v.us.insert(I,V)}}}(i.localStore,a))}async function iA(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=await d0(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(d=>{d.forEach(p=>{p.reject(new ge(Z.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await vl(t,i.Ts)}}function sA(n,e){const t=Re(n),i=t.Ba.get(e);if(i&&i.Fa)return xe().add(i.key);{let o=xe();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function k0(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=R0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eA.bind(null,e),e.Ma.R_=BC.bind(null,e.eventManager),e.Ma.Wa=zC.bind(null,e.eventManager),e}function oA(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nA.bind(null,e),e}class Tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return uC(this.persistence,new aC,e.initialUser,this.serializer)}ja(e){return new h0(ip.ei,this.serializer)}za(e){return new gC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tc.provider={build:()=>new Tc};class aA extends Tc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ze(this.persistence.referenceDelegate instanceof Ec);const i=this.persistence.referenceDelegate.garbageCollector;return new WR(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new h0(i=>Ec.ei(i,t),this.serializer)}}class Af{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Yy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=iA.bind(null,this.syncEngine),await VC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FC}()}createDatastore(e){const t=Kc(e.databaseInfo.databaseId),i=function(a){return new EC(a)}(e.databaseInfo);return function(a,c,d,p){return new IC(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new RC(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Yy(this.syncEngine,t,0),function(){return Wy.p()?new Wy:new yC}())}createSyncEngine(e,t){return function(o,a,c,d,p,y,v){const T=new KC(o,a,c,d,p,y);return v&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Re(o);le("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await _l(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Af.provider={build:()=>new Af};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=jt.UNAUTHENTICATED,this.clientId=Dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{le("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=hp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Kd(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await d0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Zy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await cA(n);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Ky(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Ky(e.remoteStore,o)),n._onlineComponents=e}async function cA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),await Kd(n,new Tc)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Kd(n,new aA(void 0));return n._offlineComponents}async function N0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await Zy(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await Zy(n,new Af))),n._onlineComponents}function hA(n){return N0(n).then(e=>e.syncEngine)}async function dA(n){const e=await N0(n),t=e.eventManager;return t.onListen=GC.bind(null,e.syncEngine),t.onUnlisten=YC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XC.bind(null,e.syncEngine),t}function fA(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,y){const v=new lA({next:I=>{v.eu(),c.enqueueAndForget(()=>jC(a,T)),I.fromCache&&p.source==="server"?y.reject(new ge(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new $C(d,v,{includeMetadataChanges:!0,ua:!0});return UC(a,T)}(await dA(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(n,e,t){if(!t)throw new ge(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pA(n,e,t,i){if(e===!0&&i===!0)throw new ge(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function t_(n){if(!Ee.isDocumentKey(n))throw new ge(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function n_(n){if(Ee.isDocumentKey(n))throw new ge(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function al(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pp(n);throw new ge(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wS;switch(i.type){case"firstParty":return new RS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=e_.get(t);i&&(le("ComponentProvider","Removing Datastore"),e_.delete(t),i.terminate())}(this),Promise.resolve()}}function mA(n,e,t,i={}){var o;const a=(n=al(n,Jc))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=jt.MOCK_USER;else{d=YI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ge(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new jt(y)}n._authCredentials=new TS(new xv(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yc(this.firestore,e,this._query)}}class $n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Ti extends Yc{constructor(e,t,i){super(e,t,zv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Ee(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function O0(n,e,...t){if(n=Cn(n),D0("collection","path",e),n instanceof Jc){const i=Ze.fromString(e,...t);return n_(i),new Ti(n,null,i)}{if(!(n instanceof $n||n instanceof Ti))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return n_(i),new Ti(n.firestore,null,i)}}function L0(n,e,...t){if(n=Cn(n),arguments.length===1&&(e=Dv.newId()),D0("doc","path",e),n instanceof Jc){const i=Ze.fromString(e,...t);return t_(i),new $n(n,null,new Ee(i))}{if(!(n instanceof $n||n instanceof Ti))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return t_(i),new $n(n.firestore,n instanceof Ti?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new p0(this,"async_queue_retry"),this.fu=()=>{const i=Wd();i&&le("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Wd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Wd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new wi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Uo(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Mr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=cp.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Ie()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Xc extends Jc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new i_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i_(e),this._firestoreClient=void 0,await e}}}function gA(n,e){const t=typeof n=="object"?n:Tv(),i=typeof n=="string"?n:"(default)",o=Wf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=QI("firestore");a&&mA(o,...a)}return o}function b0(n){if(n._terminated)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yA(n),n._firestoreClient}function yA(n){var e,t,i;const o=n._freezeSettings(),a=function(d,p,y,v){return new jS(d,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,x0(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new uA(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(Lt.fromBase64String(e))}catch(t){throw new ge(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new No(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=/^__.*__$/;class vA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new gl(e,this.data,t,this.fieldTransforms)}}function M0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class _p{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new _p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ic(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(M0(this.Mu)&&_A.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class EA{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Kc(e)}$u(e,t,i,o=!1){return new _p({Mu:e,methodName:t,Ku:i,path:Ot.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wA(n){const e=n._freezeSettings(),t=Kc(n._databaseId);return new EA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TA(n,e,t,i,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);B0("Data must be an object, but it was:",c,i);const d=U0(i,c);let p,y;if(a.merge)p=new zn(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const v=[];for(const T of a.mergeFields){const I=IA(e,T,t);if(!c.contains(I))throw new ge(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);RA(v,I)||v.push(I)}p=new zn(v),y=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=c.fieldTransforms;return new vA(new Sn(d),p,y)}function F0(n,e){if(j0(n=Cn(n)))return B0("Unsupported field value:",e,n),U0(n,e);if(n instanceof V0)return function(i,o){if(!M0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let p=F0(d,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=Cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=vt.fromDate(i);return{timestampValue:vc(o.serializer,a)}}if(i instanceof vt){const a=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:vc(o.serializer,a)}}if(i instanceof gp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof No)return{bytesValue:i0(o.serializer,i._byteString)};if(i instanceof $n){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:np(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof yp)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Xf(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${pp(i)}`)}(n,e)}function U0(n,e){const t={};return Ov(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(n,(i,o)=>{const a=F0(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function j0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof gp||n instanceof No||n instanceof $n||n instanceof V0||n instanceof yp)}function B0(n,e,t){if(!j0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=pp(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function IA(n,e,t){if((e=Cn(e))instanceof mp)return e._internalPath;if(typeof e=="string")return z0(n,e);throw Ic("Field path arguments must be of type string or ",n,!1,void 0,t)}const SA=new RegExp("[~\\*/\\[\\]]");function z0(n,e,t){if(e.search(SA)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mp(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ic(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ge(Z.INVALID_ARGUMENT,d+n+p)}function RA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(q0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class CA extends $0{data(){return super.data()}}function q0(n,e){return typeof e=="string"?z0(n,e):e instanceof mp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PA{convertValue(e,t="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return gs(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>at(c.doubleValue));return new yp(a)}convertGeoPoint(e){return new gp(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(nl(e));default:return null}}convertTimestamp(e){const t=Ci(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ze.fromString(e);ze(c0(i));const o=new rl(i.get(1),i.get(3)),a=new Ee(i.popFirst(5));return o.isEqual(t)||Mr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NA extends $0{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(q0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class rc extends NA{data(e={}){return super.data(e)}}class xA{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Hu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new rc(this._firestore,this._userDataWriter,i.key,i,new Hu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new rc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Hu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const p=new rc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Hu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:DA(d.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function DA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}class OA extends PA{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function LA(n){n=al(n,Yc);const e=al(n.firestore,Xc),t=b0(e),i=new OA(e);return AA(n._query),fA(t,n._query).then(o=>new xA(e,i,n,o))}function bA(n){return H0(al(n.firestore,Xc),[new Zf(n._key,or.none())])}function VA(n,e){const t=al(n.firestore,Xc),i=L0(n),o=kA(n.converter,e);return H0(t,[TA(wA(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,or.exists(!1))]).then(()=>i)}function H0(n,e){return function(i,o){const a=new wi;return i.asyncQueue.enqueueAndForget(async()=>ZC(await hA(i),o,a)),a.promise}(b0(n),e)}(function(e,t=!0){(function(o){Mo=o})(Vo),Io(new ds("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new Xc(new IS(i.getProvider("auth-internal")),new AS(i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(y.options.projectId,v)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Ei(wy,"4.7.5",e),Ei(wy,"4.7.5","esm2017")})();var MA="firebase",FA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(MA,FA,"app");function vp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function W0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UA=W0,K0=new pl("auth","Firebase",W0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new qf("@firebase/auth");function jA(n,...e){Sc.logLevel<=Ne.WARN&&Sc.warn(`Auth (${Vo}): ${n}`,...e)}function ic(n,...e){Sc.logLevel<=Ne.ERROR&&Sc.error(`Auth (${Vo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(n,...e){throw Ep(n,...e)}function lr(n,...e){return Ep(n,...e)}function G0(n,e,t){const i=Object.assign(Object.assign({},UA()),{[e]:t});return new pl("auth","Firebase",i).create(e,{appName:n.name})}function Ii(n){return G0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return K0.create(n,...e)}function we(n,e,...t){if(!n)throw Ep(e,...t)}function Dr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ic(e),new Error(e)}function Ur(n,e){n||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function BA(){return s_()==="http:"||s_()==="https:"}function s_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BA()||t1()||"connection"in navigator)?navigator.onLine:!0}function $A(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=XI()||n1()}get(){return zA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(n,e){Ur(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new El(3e4,6e4);function Es(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function xi(n,e,t,i,o={}){return J0(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=ml(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},a);return e1()||(y.referrerPolicy="no-referrer"),Q0.fetch()(Y0(n,n.config.apiHost,t,d),y)})}async function J0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},qA),e);try{const o=new KA(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Wu(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Wu(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Wu(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw G0(n,v,y);qn(n,v)}}catch(o){if(o instanceof jr)throw o;qn(n,"network-request-failed",{message:String(o)})}}async function Zc(n,e,t,i,o={}){const a=await xi(n,e,t,i,o);return"mfaPendingCredential"in a&&qn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Y0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?wp(n.config,o):`${n.config.apiScheme}://${o}`}function WA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(lr(this.auth,"network-request-failed")),HA.get())})}}function Wu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=lr(n,e,i);return o.customData._tokenResponse=t,o}function o_(n){return n!==void 0&&n.enterprise!==void 0}class GA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return WA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QA(n,e){return xi(n,"GET","/v2/recaptchaConfig",Es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(n,e){return xi(n,"POST","/v1/accounts:delete",e)}async function X0(n,e){return xi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YA(n,e=!1){const t=Cn(n),i=await t.getIdToken(e),o=Tp(i);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Ya(Gd(o.auth_time)),issuedAtTime:Ya(Gd(o.iat)),expirationTime:Ya(Gd(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Gd(n){return Number(n)*1e3}function Tp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=mv(t);return o?JSON.parse(o):(ic("Failed to decode base64 JWT payload"),null)}catch(o){return ic("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function a_(n){const e=Tp(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof jr&&XA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function XA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ya(this.lastLoginAt),this.creationTime=Ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await ll(n,X0(t,{idToken:i}));we(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Z0(a.providerUserInfo):[],d=tP(n.providerData,c),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),v=p?y:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new kf(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function eP(n){const e=Cn(n);await Rc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Z0(n){return n.map(e=>{var{providerId:t}=e,i=vp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(n,e){const t=await J0(n,{},async()=>{const i=ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=Y0(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Q0.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rP(n,e){return xi(n,"POST","/v2/accounts:revokeToken",Es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=a_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await nP(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Eo;return i&&(we(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(we(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(we(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new kf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ll(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YA(this,e)}reload(){return eP(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Rc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await ll(this,JA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,p,y,v;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,L=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,k=(c=t.photoURL)!==null&&c!==void 0?c:void 0,V=(d=t.tenantId)!==null&&d!==void 0?d:void 0,x=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,K=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:X,emailVerified:oe,isAnonymous:pe,providerData:me,stsTokenManager:P}=t;we(X&&P,e,"internal-error");const S=Eo.fromJSON(this.name,P);we(typeof X=="string",e,"internal-error"),di(T,e.name),di(I,e.name),we(typeof oe=="boolean",e,"internal-error"),we(typeof pe=="boolean",e,"internal-error"),di(L,e.name),di(k,e.name),di(V,e.name),di(x,e.name),di(q,e.name),di(K,e.name);const C=new Or({uid:X,auth:e,email:I,emailVerified:oe,displayName:T,isAnonymous:pe,photoURL:k,phoneNumber:L,tenantId:V,stsTokenManager:S,createdAt:q,lastLoginAt:K});return me&&Array.isArray(me)&&(C.providerData=me.map(N=>Object.assign({},N))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Eo;o.updateFromServerResponse(t);const a=new Or({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Rc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];we(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Z0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Eo;d.updateFromIdToken(i);const p=new Or({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new kf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;function Lr(n){Ur(n instanceof Function,"Expected a class definition");let e=l_.get(n);return e?(Ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,l_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eE.type="NONE";const u_=eE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(n,e,t){return`firebase:${n}:${e}:${t}`}class wo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=sc(this.userKey,o.apiKey,a),this.fullPersistenceKey=sc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new wo(Lr(u_),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||Lr(u_);const c=sc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const v=await y._get(c);if(v){const T=Or._fromJSON(e,v);y!==a&&(d=T),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new wo(a,e,i):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new wo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oE(e))return"Blackberry";if(aE(e))return"Webos";if(nE(e))return"Safari";if((e.includes("chrome/")||rE(e))&&!e.includes("edge/"))return"Chrome";if(sE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function tE(n=$t()){return/firefox\//i.test(n)}function nE(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rE(n=$t()){return/crios\//i.test(n)}function iE(n=$t()){return/iemobile/i.test(n)}function sE(n=$t()){return/android/i.test(n)}function oE(n=$t()){return/blackberry/i.test(n)}function aE(n=$t()){return/webos/i.test(n)}function Ip(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iP(n=$t()){var e;return Ip(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sP(){return r1()&&document.documentMode===10}function lE(n=$t()){return Ip(n)||sE(n)||aE(n)||oE(n)||/windows phone/i.test(n)||iE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n,e=[]){let t;switch(n){case"Browser":t=c_($t());break;case"Worker":t=`${c_($t())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(n,e={}){return xi(n,"GET","/v2/passwordPolicy",Es(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=6;class uP{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:lP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new oP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Lr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await X0(this,{idToken:e}),i=await Or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$A()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(Ii(this));const t=e?Cn(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aP(this),t=new uP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await rP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Lr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[Lr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&jA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Bo(n){return Cn(n)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=h1(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hP(n){eh=n}function cE(n){return eh.loadJS(n)}function dP(){return eh.recaptchaEnterpriseScript}function fP(){return eh.gapiScript}function pP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class mP{constructor(){this.enterprise=new gP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yP="recaptcha-enterprise",hE="NO_RECAPTCHA";class _P{constructor(e){this.type=yP,this.auth=Bo(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{QA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new GA(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(a,c,d){const p=window.grecaptcha;o_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(hE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mP().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(d=>{if(!t&&o_(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=dP();p.length!==0&&(p+=d),cE(p).then(()=>{o(d,a,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function d_(n,e,t,i=!1,o=!1){const a=new _P(n);let c;if(o)c=hE;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function f_(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await d_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await d_(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n,e){const t=Wf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(dc(a,e??{}))return o;qn(o,"already-initialized")}return t.initialize({options:e})}function EP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Lr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function wP(n,e,t){const i=Bo(n);we(i._canInitEmulator,i,"emulator-config-failed"),we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=dE(e),{host:c,port:d}=TP(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),IP()}function dE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TP(n){const e=dE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:p_(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:p_(c)}}}function p_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,t){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function SP(n,e){return xi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(n,e){return Zc(n,"POST","/v1/accounts:signInWithPassword",Es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",Es(n,e))}async function AP(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",Es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Sp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ul(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ul(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f_(e,t,"signInWithPassword",RP);case"emailLink":return CP(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f_(e,i,"signUpPassword",SP);case"emailLink":return AP(e,{idToken:t,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(n,e){return Zc(n,"POST","/v1/accounts:signInWithIdp",Es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="http://localhost";class ps extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=vp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new ps(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return To(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,To(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,To(e,t)}buildRequest(){const e={requestUri:PP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ml(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NP(n){const e=za($a(n)).link,t=e?za($a(e)).deep_link_id:null,i=za($a(n)).deep_link_id;return(i?za($a(i)).link:null)||i||t||e||n}class Rp{constructor(e){var t,i,o,a,c,d;const p=za($a(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,T=kP((o=p.mode)!==null&&o!==void 0?o:null);we(y&&v&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=v,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=NP(e);try{return new Rp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,t){return ul._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Rp.parseLink(t);return we(i,"argument-error"),ul._fromEmailAndCode(e,i.code,i.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends fE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends wl{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ps._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return pi.credential(t,i)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends wl{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends wl{constructor(){super("twitter.com")}static credential(e,t){return ps._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return gi.credential(t,i)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Or._fromIdTokenResponse(e,i,o),c=m_(i);return new xo({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=m_(i);return new xo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function m_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends jr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Cc(e,t,i,o)}}function pE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(n,a,e,i):a})}async function xP(n,e,t=!1){const i=await ll(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(n,e,t=!1){const{auth:i}=n;if(xr(i.app))return Promise.reject(Ii(i));const o="reauthenticate";try{const a=await ll(n,pE(i,o,e,n),t);we(a.idToken,i,"internal-error");const c=Tp(a.idToken);we(c,i,"internal-error");const{sub:d}=c;return we(n.uid===d,i,"user-mismatch"),xo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&qn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mE(n,e,t=!1){if(xr(n.app))return Promise.reject(Ii(n));const i="signIn",o=await pE(n,i,e),a=await xo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function OP(n,e){return mE(Bo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(n){const e=Bo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function bP(n,e,t){return xr(n.app)?Promise.reject(Ii(n)):OP(Cn(n),zo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&LP(n),i})}function VP(n,e,t,i){return Cn(n).onIdTokenChanged(e,t,i)}function MP(n,e,t){return Cn(n).beforeAuthStateChanged(e,t)}const Ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ac,"1"),this.storage.removeItem(Ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=1e3,UP=10;class yE extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);sP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,UP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},FP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yE.type="LOCAL";const jP=yE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_E.type="SESSION";const vE=_E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new th(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,a)),p=await BP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const y=Cp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(v),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function $P(n){ur().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function qP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function WP(){return EE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="firebaseLocalStorageDb",KP=1,Pc="firebaseLocalStorage",TE="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nh(n,e){return n.transaction([Pc],e?"readwrite":"readonly").objectStore(Pc)}function GP(){const n=indexedDB.deleteDatabase(wE);return new Tl(n).toPromise()}function Nf(){const n=indexedDB.open(wE,KP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Pc,{keyPath:TE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Pc)?e(i):(i.close(),await GP(),e(await Nf()))})})}async function g_(n,e,t){const i=nh(n,!0).put({[TE]:e,value:t});return new Tl(i).toPromise()}async function QP(n,e){const t=nh(n,!1).get(e),i=await new Tl(t).toPromise();return i===void 0?null:i.value}function y_(n,e){const t=nh(n,!0).delete(e);return new Tl(t).toPromise()}const JP=800,YP=3;class IE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>YP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(WP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qP(),!this.activeServiceWorker)return;this.sender=new zP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nf();return await g_(e,Ac,"1"),await y_(e,Ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>g_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>QP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>y_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=nh(o,!1).getAll();return new Tl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IE.type="LOCAL";const XP=IE;new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n,e){return e?Lr(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,t){return To(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ek(n){return mE(n.auth,new Ap(n),n.bypassAuthState)}function tk(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),DP(t,new Ap(n),n.bypassAuthState)}async function nk(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),xP(t,new Ap(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ek;case"linkViaPopup":case"linkViaRedirect":return nk;case"reauthViaPopup":case"reauthViaRedirect":return tk;default:qn(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new El(2e3,1e4);class _o extends SE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=Cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rk.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="pendingRedirect",oc=new Map;class sk extends SE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=oc.get(this.auth._key());if(!e){try{const i=await ok(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}oc.set(this.auth._key(),e)}return this.bypassAuthState||oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ok(n,e){const t=uk(e),i=lk(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function ak(n,e){oc.set(n._key(),e)}function lk(n){return Lr(n._redirectPersistence)}function uk(n){return sc(ik,n.config.apiKey,n.name)}async function ck(n,e,t=!1){if(xr(n.app))return Promise.reject(Ii(n));const i=Bo(n),o=ZP(i,e),c=await new sk(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=10*60*1e3;class dk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!RE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(lr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hk&&this.cachedEventUids.clear(),this.cachedEventUids.has(__(e))}saveEventToCache(e){this.cachedEventUids.add(__(e)),this.lastProcessedEventTime=Date.now()}}function __(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function RE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(n,e={}){return xi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gk=/^https?/;async function yk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pk(n);for(const t of e)try{if(_k(t))return}catch{}qn(n,"unauthorized-domain")}function _k(n){const e=Pf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!gk.test(t))return!1;if(mk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=new El(3e4,6e4);function v_(){const n=ur().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ek(n){return new Promise((e,t)=>{var i,o,a;function c(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),t(lr(n,"network-request-failed"))},timeout:vk.get()})}if(!((o=(i=ur().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=ur().gapi)===null||a===void 0)&&a.load)c();else{const d=pP("iframefcb");return ur()[d]=()=>{gapi.load?c():t(lr(n,"network-request-failed"))},cE(`${fP()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw ac=null,e})}let ac=null;function wk(n){return ac=ac||Ek(n),ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new El(5e3,15e3),Ik="__/auth/iframe",Sk="emulator/auth/iframe",Rk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ck=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ak(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wp(e,Sk):`https://${n.config.authDomain}/${Ik}`,i={apiKey:e.apiKey,appName:n.name,v:Vo},o=Ck.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${ml(i).slice(1)}`}async function Pk(n){const e=await wk(n),t=ur().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:Ak(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rk,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=lr(n,"network-request-failed"),d=ur().setTimeout(()=>{a(c)},Tk.get());function p(){ur().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nk=500,xk=600,Dk="_blank",Ok="http://localhost";class E_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lk(n,e,t,i=Nk,o=xk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},kk),{width:i.toString(),height:o.toString(),top:a,left:c}),y=$t().toLowerCase();t&&(d=rE(y)?Dk:t),tE(y)&&(e=e||Ok,p.scrollbars="yes");const v=Object.entries(p).reduce((I,[L,k])=>`${I}${L}=${k},`,"");if(iP(y)&&d!=="_self")return bk(e||"",d),new E_(null);const T=window.open(e||"",d,v);we(T,n,"popup-blocked");try{T.focus()}catch{}return new E_(T)}function bk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="__/auth/handler",Mk="emulator/auth/handler",Fk=encodeURIComponent("fac");async function w_(n,e,t,i,o,a){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Vo,eventId:o};if(e instanceof fE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",c1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof wl){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),y=p?`#${Fk}=${encodeURIComponent(p)}`:"";return`${Uk(n)}?${ml(d).slice(1)}${y}`}function Uk({config:n}){return n.emulator?wp(n,Mk):`https://${n.authDomain}/${Vk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="webStorageSupport";class jk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vE,this._completeRedirectFn=ck,this._overrideRedirectResult=ak}async _openPopup(e,t,i,o){var a;Ur((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await w_(e,t,i,Pf(),o);return Lk(e,c,Cp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await w_(e,t,i,Pf(),o);return $P(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Ur(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Pk(e),i=new dk(e);return t.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qd,{type:Qd},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Qd];c!==void 0&&t(!!c),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lE()||nE()||Ip()}}const Bk=jk;var T_="@firebase/auth",I_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qk(n){Io(new ds("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uE(n)},y=new cP(i,o,a,p);return EP(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Io(new ds("auth-internal",e=>{const t=Bo(e.getProvider("auth").getImmediate());return(i=>new zk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(T_,I_,$k(n)),Ei(T_,I_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=5*60,Wk=_v("authIdTokenMaxAge")||Hk;let S_=null;const Kk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Wk)return;const o=t==null?void 0:t.token;S_!==o&&(S_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Gk(n=Tv()){const e=Wf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vP(n,{popupRedirectResolver:Bk,persistence:[XP,jP,vE]}),i=_v("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=Kk(a.toString());MP(t,c,()=>c(t.currentUser)),VP(t,d=>c(d))}}const o=gv("auth");return o&&wP(t,`http://${o}`),t}function Qk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}hP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=lr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",Qk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qk("Browser");const Jk={apiKey:"AIzaSyDXY7RU2nNKwNZ5qf8PzNIT4S_PNQ_nA1Q",authDomain:"fertabdistribuzioni-28efb.firebaseapp.com",projectId:"fertabdistribuzioni-28efb",storageBucket:"fertabdistribuzioni-28efb.firebasestorage.app",messagingSenderId:"359426280235",appId:"1:359426280235:web:4ab3fe8895a2c0b078d36e",measurementId:"G-QPQYYC1DXS"},CE=wv(Jk),Yk=Gk(CE),Pp=gA(CE);var Jd={exports:{}},Yd,R_;function Xk(){if(R_)return Yd;R_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Yd=n,Yd}var Xd,C_;function Zk(){if(C_)return Xd;C_=1;var n=Xk();function e(){}function t(){}return t.resetWarningCache=e,Xd=function(){function i(c,d,p,y,v,T){if(T!==n){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Xd}var A_;function eN(){return A_||(A_=1,Jd.exports=Zk()()),Jd.exports}var tN=eN();const dn=Ow(tN),nN="data:image/svg+xml,%3csvg%20width='14'%20height='13'%20viewBox='0%200%2014%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.5%2013C3.0875%2013%202.73437%2012.8531%202.44062%2012.5594C2.14687%2012.2656%202%2011.9125%202%2011.5V2.7C2%202.58954%201.91046%202.5%201.8%202.5H1.25C0.835786%202.5%200.5%202.16421%200.5%201.75V1.75C0.5%201.33579%200.835786%201%201.25%201H4.8C4.91046%201%205%200.910457%205%200.8V0.5C5%200.223858%205.22386%200%205.5%200H8.5C8.77614%200%209%200.223858%209%200.5V0.8C9%200.910457%209.08954%201%209.2%201H12.75C13.1642%201%2013.5%201.33579%2013.5%201.75V1.75C13.5%202.16421%2013.1642%202.5%2012.75%202.5H12.2C12.0895%202.5%2012%202.58954%2012%202.7V11.491C12%2011.9137%2011.8531%2012.2708%2011.5594%2012.5625C11.2656%2012.8542%2010.9125%2013%2010.5%2013H3.5ZM5%209.5C5%209.77614%205.22386%2010%205.5%2010H6C6.27614%2010%206.5%209.77614%206.5%209.5V4.5C6.5%204.22386%206.27614%204%206%204H5.5C5.22386%204%205%204.22386%205%204.5V9.5ZM7.5%209.5C7.5%209.77614%207.72386%2010%208%2010H8.5C8.77614%2010%209%209.77614%209%209.5V4.5C9%204.22386%208.77614%204%208.5%204H8C7.72386%204%207.5%204.22386%207.5%204.5V9.5Z'%20fill='%23F8F8F8'/%3e%3c/svg%3e";function rN(n){window.open(n,"_blank")}function kp({productId:n,productImg:e,productName:t,productDescription:i,productPrice:o,productAmount:a,prodLink:c,removeProduct:d}){const[p,y]=W.useState(!1),[v,T]=W.useState(!1),[I,L]=W.useState(!1),k=W.useRef(null),V=()=>{if(k.current){const X=k.current.scrollHeight>k.current.clientHeight;T(X)}};W.useEffect(()=>{V()},[t,i]);const x=()=>{L(!I)},q=()=>{I&&L(!1)},K=async()=>{y(!0);try{//! ad oggi  impossibile eliminare l'immagine da imgBB tramite l'API
await bA(L0(Pp,"products",n)),d(n),alert("Prodotto eliminato con successo!")}catch(X){alert("Errore durante l'eliminazione del prodotto.",X)}finally{y(!1)}};return te.jsxs("div",{className:`prodCard ${I?"expanded":""}`,children:[d&&te.jsx("button",{className:"deleteButton",onClick:K,disabled:p,children:te.jsx("img",{src:nN,alt:"Elimina",draggable:"false"})}),te.jsx("img",{className:"productImage",src:e,loading:"lazy",alt:"Immagine prodotto",onClick:q}),te.jsxs("div",{className:"prodBody",children:[te.jsxs("div",{className:"prodInfo",children:[te.jsx("h4",{children:t}),te.jsx("p",{className:"prodDescription",ref:k,children:i})]}),te.jsxs("div",{className:"prodBottom",children:[v&&!I&&te.jsx("button",{className:"textButton",onClick:x,children:"Mostra pi"}),I&&te.jsx("button",{className:"textButton",onClick:x,children:"Mostra meno"}),te.jsxs("div",{className:"prodBuy",children:[te.jsxs("div",{className:"prodBuyInfo",children:[te.jsxs("h4",{children:[o,""]}),a==="1"?"Al pezzo":`${a} pezzi`]}),te.jsx("button",{onClick:()=>rN(c),children:"Acquista"})]})]})]})]})}kp.propTypes={productId:dn.string,productImg:dn.string.isRequired,productName:dn.string.isRequired,productDescription:dn.string.isRequired,productPrice:dn.string.isRequired,productAmount:dn.string.isRequired,prodLink:dn.string.isRequired,removeProduct:dn.func};function AE(){return te.jsx("footer",{id:"navbar",children:te.jsx("p",{className:"smallText",children:"2024EmanueleCiotola. Tuttiidirittiriservati."})})}const iN="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='150'%20height='150'%20fill='none'%3e%3cpath%20fill='%23fff'%20d='M0%200h150v150H0z'/%3e%3cpath%20fill='%23757575'%20d='M44.633%2080.023V82h-8.754v-1.687l4.14-4.439q.624-.694.984-1.222.36-.535.519-.958.165-.431.166-.817%200-.58-.193-.993a1.44%201.44%200%200%200-.571-.65q-.37-.23-.914-.23-.58%200-1.002.282a1.8%201.8%200%200%200-.633.782q-.21.501-.21%201.134h-2.541q0-1.143.545-2.092a4%204%200%200%201%201.538-1.52q.993-.571%202.355-.571%201.346%200%202.268.439.932.43%201.406%201.248.484.81.484%201.934%200%20.632-.202%201.239a5.6%205.6%200%200%201-.58%201.195%209.6%209.6%200%200%201-.897%201.195q-.527.607-1.169%201.257l-2.224%202.496zm3.964-3.85-2.022-.484.73-6.486h7.19v2.048h-5.107l-.317%202.839q.255-.15.774-.317a3.6%203.6%200%200%201%201.16-.175q.932%200%201.652.29t1.222.843q.51.554.773%201.354.264.8.264%201.81%200%20.853-.264%201.627-.263.764-.8%201.37a3.7%203.7%200%200%201-1.344.941q-.81.343-1.916.343-.826%200-1.6-.246a4.4%204.4%200%200%201-1.38-.73%203.8%203.8%200%200%201-.975-1.169q-.36-.694-.378-1.582h2.514q.052.546.28.94.238.387.625.598t.905.211q.484%200%20.826-.184.343-.185.554-.51.21-.334.307-.773.106-.45.106-.967%200-.52-.123-.94a2%202%200%200%200-.378-.73%201.7%201.7%200%200%200-.65-.475%202.3%202.3%200%200%200-.906-.167q-.703%200-1.09.22a2.6%202.6%200%200%200-.632.5m16.567-1.696v2.214q0%201.441-.308%202.488-.307%201.037-.887%201.705-.571.66-1.363.975a4.7%204.7%200%200%201-1.757.317q-.774%200-1.442-.194a3.6%203.6%200%200%201-1.204-.624%204%204%200%200%201-.914-1.063q-.378-.651-.58-1.547-.202-.897-.202-2.057v-2.214q0-1.442.308-2.47.315-1.037.887-1.697.58-.658%201.371-.966a4.7%204.7%200%200%201%201.758-.317q.774%200%201.433.203.667.192%201.204.606.536.413.914%201.063.378.641.58%201.538.202.888.202%202.04m-2.54%202.548v-2.891q0-.694-.08-1.213a3.6%203.6%200%200%200-.219-.879%201.9%201.9%200%200%200-.369-.598%201.35%201.35%200%200%200-.5-.334%201.8%201.8%200%200%200-.625-.105q-.43%200-.765.167a1.4%201.4%200%200%200-.553.536q-.23.36-.352.967a8%208%200%200%200-.114%201.459v2.891q0%20.694.07%201.222.08.528.229.905.158.37.369.607.22.228.5.334.29.105.634.105.42%200%20.747-.167.334-.176.562-.545.238-.378.352-.984t.114-1.477m9.923%203.208-1.486-1.432%206.847-6.987%201.486%201.44zm5.37%200-6.847-6.978%201.486-1.441%206.846%206.987zm13.667-11.056V82h-2.531v-9.905l-3.041.966v-1.995l5.3-1.89zm6.548%206.996-2.022-.484.73-6.486h7.189v2.048h-5.106l-.317%202.839q.255-.15.774-.317a3.6%203.6%200%200%201%201.16-.175q.932%200%201.652.29.721.29%201.222.843.51.554.774%201.354.263.8.263%201.81%200%20.853-.263%201.627a4.1%204.1%200%200%201-.8%201.37%203.7%203.7%200%200%201-1.345.941q-.809.343-1.916.343-.826%200-1.6-.246a4.4%204.4%200%200%201-1.38-.73%203.8%203.8%200%200%201-.975-1.169q-.36-.694-.378-1.582h2.514q.052.546.28.94.239.387.625.598.387.21.905.211.483%200%20.826-.184.343-.185.554-.51.211-.334.308-.773.105-.45.105-.967%200-.52-.123-.94a2%202%200%200%200-.378-.73%201.7%201.7%200%200%200-.65-.475%202.3%202.3%200%200%200-.906-.167q-.703%200-1.09.22a2.6%202.6%200%200%200-.632.5m16.567-1.696v2.214q0%201.441-.307%202.488-.308%201.037-.888%201.705-.571.66-1.362.975a4.7%204.7%200%200%201-1.758.317%205.2%205.2%200%200%201-1.442-.194%203.6%203.6%200%200%201-1.204-.624%204%204%200%200%201-.914-1.063q-.378-.651-.58-1.547-.202-.897-.202-2.057v-2.214q0-1.442.308-2.47.316-1.037.887-1.697.58-.658%201.371-.966a4.7%204.7%200%200%201%201.758-.317q.773%200%201.433.203.668.192%201.204.606.536.413.914%201.063.378.641.58%201.538.202.888.202%202.04m-2.54%202.548v-2.891a8%208%200%200%200-.079-1.213%203.6%203.6%200%200%200-.22-.879%201.8%201.8%200%200%200-.369-.598%201.34%201.34%200%200%200-.501-.334%201.8%201.8%200%200%200-.624-.105q-.43%200-.764.167-.326.167-.554.536-.228.36-.352.967a8%208%200%200%200-.114%201.459v2.891q0%20.694.07%201.222.08.528.229.905.157.37.369.607.219.228.501.334.29.105.633.105.421%200%20.747-.167.334-.176.562-.545.238-.378.352-.984t.114-1.477'/%3e%3c/svg%3e",sN=()=>{const[n,e]=W.useState(null),[t,i]=W.useState(!1),[o,a]=W.useState(""),[c,d]=W.useState(""),[p,y]=W.useState(""),[v,T]=W.useState(""),[I,L]=W.useState(""),k=W.useRef(null),V=()=>{a(""),d(""),y(""),T(""),L(""),e(null),k.current&&(k.current.value="")},x=P=>{const S=P.target.files[0];S&&(S.type.startsWith("image/")?e(S):(alert("Per favore, seleziona un file immagine."),e(null)))},q=P=>new Promise((S,C)=>{const N=new Image,b=new FileReader;b.onload=M=>N.src=M.target.result,b.onerror=C,b.readAsDataURL(P),N.onload=()=>{const M=document.createElement("canvas"),A=M.getContext("2d"),Je=N.width,dt=N.height;M.width=Je,M.height=dt,A.drawImage(N,0,0,Je,dt);const wt=M.toDataURL("image/webp");fetch(wt).then(Be=>Be.blob()).then(S).catch(C)}}),K=async()=>{if(!n||!o||!c||!p||!v||!I){alert("Inserisci tutti i dati per aggiungere il prodotto!");return}i(!0);try{const P=await q(n),S=new FormData;S.append("image",P,"image.webp");const b=(await lt.post("https://api.imgbb.com/1/upload?key=3276d6e30ea0f00d205a847f3e64b5ea",S,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url,M=O0(Pp,"products");await VA(M,{productName:o,productDescription:c,productPrice:p,productAmount:v,prodLink:I,productImg:b}),alert("Prodotto aggiunto con successo!"),V()}catch(P){alert("Errore durante il caricamento: ",P)}finally{i(!1)}},X=(P,S,C=!1)=>{const N=P.target.value;C?/^\d*[,]?\d*$/.test(N)&&S(N):/^\d*$/.test(N)&&S(N)},oe=()=>!o&&!c&&!p&&!v&&!I&&!n,me=!o||!c||!p||!v||!I||!n||t;return te.jsxs(te.Fragment,{children:[te.jsxs("div",{id:"aggiungiProdotto",children:[te.jsxs("div",{id:"spazioAggiunta",children:[te.jsx("h3",{children:"Aggiunta prodotto"}),te.jsxs("div",{id:"form",children:[te.jsx("label",{htmlFor:"productName",children:"Nome prodotto"}),te.jsxs("div",{className:"descriptionedInput",children:[te.jsx("input",{type:"text",id:"productName",placeholder:"Nome prodotto",value:o,onChange:P=>a(P.target.value),maxLength:30,autoComplete:"off",disabled:t}),te.jsxs("p",{className:"smallText",children:[o.length,"/",30]})]}),te.jsx("label",{htmlFor:"productDescription",children:"Descrizione prodotto"}),te.jsxs("div",{className:"descriptionedInput",children:[te.jsx("textarea",{id:"productDescription",placeholder:"Descrizione prodotto",value:c,onChange:P=>d(P.target.value),maxLength:130,autoComplete:"off",disabled:t}),te.jsxs("p",{className:"smallText",children:[c.length,"/",130]})]}),te.jsx("label",{htmlFor:"productPrice",children:"Prezzo prodotto"}),te.jsx("input",{type:"text",id:"productPrice",placeholder:"Prezzo prodotto",value:p,onInput:P=>X(P,y,!0),maxLength:7,autoComplete:"off",disabled:t}),te.jsx("label",{htmlFor:"productAmount",children:"Numero pezzi"}),te.jsx("input",{type:"text",id:"productAmount",placeholder:"Numero pezzi",value:v,onInput:P=>X(P,T),maxLength:6,autoComplete:"off",disabled:t}),te.jsx("label",{htmlFor:"prodLink",children:"Link Amazon"}),te.jsx("input",{type:"url",id:"prodLink",placeholder:"Link Amazon",value:I,onChange:P=>L(P.target.value),autoComplete:"off",disabled:t}),te.jsx("label",{htmlFor:"productImage",children:"Immagine prodotto"}),te.jsx("button",{className:"secondaryButton",onClick:()=>document.getElementById("productImage").click(),children:te.jsx("p",{className:n?"inputImageLoaded":"",children:n?n.name:"Seleziona immagine"})}),te.jsx("input",{type:"file",id:"productImage",accept:"image/*",onChange:x,ref:k,autoComplete:"off",disabled:t})]})]}),te.jsxs("div",{id:"newProduct",children:[te.jsx("h3",{children:"Anteprima:"}),te.jsx(kp,{productImg:n?URL.createObjectURL(n):iN,productName:o||"Nome Prodotto",productDescription:c||"Descrizione del prodotto",productPrice:p||"0.00",productAmount:v||"0",prodLink:I||"#"},"preview"),te.jsxs("div",{id:"aggiungi-annulla",children:[te.jsx("button",{className:"secondaryButton",onClick:V,disabled:oe(),children:"Annulla"}),te.jsx("button",{id:"loadButton",onClick:K,disabled:me,children:t?"Attendere...":"Aggiungi"})]})]})]}),te.jsx(AE,{})]})};function oN(){return te.jsxs("div",{className:"dots-container",children:[te.jsx("div",{className:"dot"}),te.jsx("div",{className:"dot"}),te.jsx("div",{className:"dot"}),te.jsx("div",{className:"dot"}),te.jsx("div",{className:"dot"})]})}const aN="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.83211%2024.2929C7.44158%2024.6834%206.80842%2024.6834%206.41789%2024.2929L5.70711%2023.5821C5.31658%2023.1916%205.31658%2022.5584%205.70711%2022.1679L12.5214%2015.3536C12.7167%2015.1583%2012.7167%2014.8417%2012.5214%2014.6464L5.70711%207.83211C5.31658%207.44158%205.31658%206.80842%205.70711%206.41789L6.41789%205.70711C6.80842%205.31658%207.44158%205.31658%207.83211%205.70711L14.6464%2012.5214C14.8417%2012.7167%2015.1583%2012.7167%2015.3536%2012.5214L22.1679%205.70711C22.5584%205.31658%2023.1916%205.31658%2023.5821%205.70711L24.2929%206.41789C24.6834%206.80842%2024.6834%207.44158%2024.2929%207.83211L17.4786%2014.6464C17.2833%2014.8417%2017.2833%2015.1583%2017.4786%2015.3536L24.2929%2022.1679C24.6834%2022.5584%2024.6834%2023.1916%2024.2929%2023.5821L23.5821%2024.2929C23.1916%2024.6834%2022.5584%2024.6834%2022.1679%2024.2929L15.3536%2017.4786C15.1583%2017.2833%2014.8417%2017.2833%2014.6464%2017.4786L7.83211%2024.2929Z'%20fill='%23A9A9AC'/%3e%3c/svg%3e",lN="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.6753%2031.0055C29.2848%2031.3949%2028.6529%2031.3946%2028.2627%2031.005L18.3293%2021.0864C18.1495%2020.9068%2017.8645%2020.8921%2017.6576%2021.0396C16.9224%2021.5641%2016.0857%2021.986%2015.1475%2022.3054C14.0541%2022.6779%2012.8786%2022.8642%2011.6208%2022.8642C8.48802%2022.8642%205.834%2021.7757%203.65872%2019.5987C1.48316%2017.4218%200.395386%2014.7871%200.395386%2011.6946C0.395386%208.6018%201.48386%205.96694%203.6608%203.79C5.83775%201.61305%208.47719%200.524582%2011.5791%200.524582C14.6811%200.524582%2017.3158%201.61305%2019.4833%203.79C21.6511%205.96694%2022.735%208.60319%2022.735%2011.6987C22.735%2012.931%2022.5536%2014.0862%2022.1908%2015.1646C21.8747%2016.1042%2021.435%2016.9779%2020.8718%2017.7859C20.7285%2017.9914%2020.7467%2018.2716%2020.9242%2018.4483L30.8933%2028.3739C31.2857%2028.7646%2031.2859%2029.3998%2030.8938%2029.7907L29.6753%2031.0055ZM11.5983%2019.1912C13.6839%2019.1912%2015.4493%2018.4617%2016.8946%2017.0025C18.3396%2015.5431%2019.0621%2013.7737%2019.0621%2011.6946C19.0621%209.61514%2018.3387%207.84583%2016.8921%206.38667C15.4454%204.92722%2013.6808%204.1975%2011.5983%204.1975C9.50052%204.1975%207.72108%204.92722%206.25997%206.38667C4.79886%207.84583%204.0683%209.61514%204.0683%2011.6946C4.0683%2013.7737%204.79802%2015.5431%206.25747%2017.0025C7.71719%2018.4617%209.49747%2019.1912%2011.5983%2019.1912Z'%20fill='%23A9A9AC'/%3e%3c/svg%3e";function PE({searchTerm:n,setSearchTerm:e}){const t=W.useRef(null),i=()=>{e("")},o=()=>{t.current&&t.current.focus()};return te.jsxs("div",{id:"searchBar",children:[te.jsx("input",{ref:t,type:"text",name:"searchTerm",placeholder:"Cerca prodotto...",value:n,onChange:a=>e(a.target.value),autoComplete:"off"}),te.jsx("div",{id:"searchBarButton",onClick:n?i:o,children:te.jsx("img",{src:n?aN:lN,alt:n?"Cancella":"Cerca",draggable:"false"})})]})}PE.propTypes={searchTerm:dn.string.isRequired,setSearchTerm:dn.func.isRequired};const uN=()=>{const[n,e]=W.useState([]),[t,i]=W.useState(!0),[o,a]=W.useState("");W.useEffect(()=>{(async()=>{i(!0);const y=O0(Pp,"products"),T=(await LA(y)).docs.map(I=>({id:I.id,...I.data()}));e(T),i(!1)})()},[]);const c=p=>{e(y=>y.filter(v=>v.id!==p))},d=n.filter(p=>p.productName.toLowerCase().includes(o.toLowerCase()));return te.jsxs(te.Fragment,{children:[te.jsxs("div",{id:"products",children:[te.jsx(PE,{searchTerm:o,setSearchTerm:a}),te.jsx("div",{id:"productList",children:t?te.jsx(oN,{}):d.length>0?d.map(p=>te.jsx(kp,{productId:p.id,productImg:p.productImg,productName:p.productName,productDescription:p.productDescription,productPrice:p.productPrice,productAmount:p.productAmount,prodLink:p.prodLink,showDeleteButton:!0,removeProduct:c},p.id)):te.jsxs("p",{children:['Nessun prodotto trovato per "',o,'".']})})]}),te.jsx(AE,{})]})},kE=({setIsAuthenticated:n})=>{const[e,t]=W.useState(""),[i,o]=W.useState(""),a=Vf(),c=async()=>{try{await bP(Yk,e,i),n(!0),a("/aggiungi-prodotto")}catch(d){alert("Errore di autenticazione: "+d.message)}};return te.jsxs("div",{id:"contenutoLoginPage",children:[te.jsx("h4",{children:"Accesso Fertab Distribuzioni"}),te.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:d=>t(d.target.value)}),te.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:d=>o(d.target.value)}),te.jsx("button",{onClick:c,children:"Login"})]})};kE.propTypes={setIsAuthenticated:dn.func.isRequired};const xf=({isAuthenticated:n,children:e})=>n?e:te.jsx(M_,{to:"/login"});xf.propTypes={isAuthenticated:dn.bool.isRequired,children:dn.node.isRequired};const cN=()=>{const[n,e]=W.useState(!1);return te.jsx(n2,{children:te.jsxs("div",{id:"pageContent",children:[n&&te.jsx(d2,{}),te.jsxs(DT,{children:[te.jsx(Ba,{path:"/login",element:te.jsx(kE,{setIsAuthenticated:e})}),te.jsx(Ba,{path:"/",element:te.jsx(M_,{to:n?"/aggiungi-prodotto":"/login"})}),te.jsx(Ba,{path:"/aggiungi-prodotto",element:te.jsx(xf,{isAuthenticated:n,children:te.jsx(sN,{})})}),te.jsx(Ba,{path:"/elimina-prodotto",element:te.jsx(xf,{isAuthenticated:n,children:te.jsx(uN,{})})})]})]})})};zw.createRoot(document.getElementById("root")).render(te.jsx(W.StrictMode,{children:te.jsx(cN,{})}));
